"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@walletconnect+core@2.21.4_typescript@5.5.4_zod@3.25.75";
exports.ids = ["vendor-chunks/@walletconnect+core@2.21.4_typescript@5.5.4_zod@3.25.75"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@walletconnect+core@2.21.4_typescript@5.5.4_zod@3.25.75/node_modules/@walletconnect/core/dist/index.es.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@walletconnect+core@2.21.4_typescript@5.5.4_zod@3.25.75/node_modules/@walletconnect/core/dist/index.es.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CORE_CONTEXT: () => (/* binding */ he),\n/* harmony export */   CORE_DEFAULT: () => (/* binding */ Et),\n/* harmony export */   CORE_PROTOCOL: () => (/* binding */ ze),\n/* harmony export */   CORE_STORAGE_OPTIONS: () => (/* binding */ It),\n/* harmony export */   CORE_STORAGE_PREFIX: () => (/* binding */ B),\n/* harmony export */   CORE_VERSION: () => (/* binding */ Le),\n/* harmony export */   CRYPTO_CLIENT_SEED: () => (/* binding */ ke),\n/* harmony export */   CRYPTO_CONTEXT: () => (/* binding */ Tt),\n/* harmony export */   CRYPTO_JWT_TTL: () => (/* binding */ Ct),\n/* harmony export */   Core: () => (/* binding */ Zo),\n/* harmony export */   Crypto: () => (/* binding */ wi),\n/* harmony export */   ECHO_CONTEXT: () => (/* binding */ Xt),\n/* harmony export */   ECHO_URL: () => (/* binding */ Zt),\n/* harmony export */   EVENTS_CLIENT_API_URL: () => (/* binding */ ii),\n/* harmony export */   EVENTS_STORAGE_CLEANUP_INTERVAL: () => (/* binding */ ti),\n/* harmony export */   EVENTS_STORAGE_CONTEXT: () => (/* binding */ ei),\n/* harmony export */   EVENTS_STORAGE_VERSION: () => (/* binding */ Qt),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_ERRORS: () => (/* binding */ rr),\n/* harmony export */   EVENT_CLIENT_AUTHENTICATE_TRACES: () => (/* binding */ sr),\n/* harmony export */   EVENT_CLIENT_CONTEXT: () => (/* binding */ er),\n/* harmony export */   EVENT_CLIENT_PAIRING_ERRORS: () => (/* binding */ Y),\n/* harmony export */   EVENT_CLIENT_PAIRING_TRACES: () => (/* binding */ G),\n/* harmony export */   EVENT_CLIENT_SESSION_ERRORS: () => (/* binding */ ir),\n/* harmony export */   EVENT_CLIENT_SESSION_TRACES: () => (/* binding */ tr),\n/* harmony export */   EXPIRER_CONTEXT: () => (/* binding */ qt),\n/* harmony export */   EXPIRER_DEFAULT_TTL: () => (/* binding */ Zs),\n/* harmony export */   EXPIRER_EVENTS: () => (/* binding */ M),\n/* harmony export */   EXPIRER_STORAGE_VERSION: () => (/* binding */ Gt),\n/* harmony export */   EchoClient: () => (/* binding */ Ki),\n/* harmony export */   EventClient: () => (/* binding */ Vi),\n/* harmony export */   Expirer: () => (/* binding */ Ui),\n/* harmony export */   HISTORY_CONTEXT: () => (/* binding */ Bt),\n/* harmony export */   HISTORY_EVENTS: () => (/* binding */ F),\n/* harmony export */   HISTORY_STORAGE_VERSION: () => (/* binding */ Vt),\n/* harmony export */   JsonRpcHistory: () => (/* binding */ ji),\n/* harmony export */   KEYCHAIN_CONTEXT: () => (/* binding */ Pt),\n/* harmony export */   KEYCHAIN_STORAGE_VERSION: () => (/* binding */ St),\n/* harmony export */   KeyChain: () => (/* binding */ vi),\n/* harmony export */   MESSAGES_CONTEXT: () => (/* binding */ Ot),\n/* harmony export */   MESSAGES_STORAGE_VERSION: () => (/* binding */ Rt),\n/* harmony export */   MESSAGE_DIRECTION: () => (/* binding */ le),\n/* harmony export */   MessageTracker: () => (/* binding */ Ei),\n/* harmony export */   PAIRING_CONTEXT: () => (/* binding */ Mt),\n/* harmony export */   PAIRING_DEFAULT_TTL: () => (/* binding */ Xs),\n/* harmony export */   PAIRING_EVENTS: () => (/* binding */ re),\n/* harmony export */   PAIRING_RPC_OPTS: () => (/* binding */ se),\n/* harmony export */   PAIRING_STORAGE_VERSION: () => (/* binding */ Kt),\n/* harmony export */   PENDING_SUB_RESOLUTION_TIMEOUT: () => (/* binding */ Js),\n/* harmony export */   PUBLISHER_CONTEXT: () => (/* binding */ At),\n/* harmony export */   PUBLISHER_DEFAULT_TTL: () => (/* binding */ je),\n/* harmony export */   Pairing: () => (/* binding */ ki),\n/* harmony export */   RELAYER_CONTEXT: () => (/* binding */ $t),\n/* harmony export */   RELAYER_DEFAULT_LOGGER: () => (/* binding */ Nt),\n/* harmony export */   RELAYER_DEFAULT_PROTOCOL: () => (/* binding */ xt),\n/* harmony export */   RELAYER_DEFAULT_RELAY_URL: () => (/* binding */ Ue),\n/* harmony export */   RELAYER_EVENTS: () => (/* binding */ C),\n/* harmony export */   RELAYER_PROVIDER_EVENTS: () => (/* binding */ L),\n/* harmony export */   RELAYER_RECONNECT_TIMEOUT: () => (/* binding */ Lt),\n/* harmony export */   RELAYER_SDK_VERSION: () => (/* binding */ _e),\n/* harmony export */   RELAYER_STORAGE_OPTIONS: () => (/* binding */ Ws),\n/* harmony export */   RELAYER_SUBSCRIBER_SUFFIX: () => (/* binding */ zt),\n/* harmony export */   RELAYER_TRANSPORT_CUTOFF: () => (/* binding */ Hs),\n/* harmony export */   Relayer: () => (/* binding */ Oi),\n/* harmony export */   STORE_STORAGE_VERSION: () => (/* binding */ kt),\n/* harmony export */   SUBSCRIBER_CONTEXT: () => (/* binding */ Ut),\n/* harmony export */   SUBSCRIBER_DEFAULT_TTL: () => (/* binding */ Ys),\n/* harmony export */   SUBSCRIBER_EVENTS: () => (/* binding */ $),\n/* harmony export */   SUBSCRIBER_STORAGE_VERSION: () => (/* binding */ Ft),\n/* harmony export */   Store: () => (/* binding */ Li),\n/* harmony export */   Subscriber: () => (/* binding */ Ci),\n/* harmony export */   TRANSPORT_TYPES: () => (/* binding */ Q),\n/* harmony export */   TRUSTED_VERIFY_URLS: () => (/* binding */ Jt),\n/* harmony export */   VERIFY_CONTEXT: () => (/* binding */ Wt),\n/* harmony export */   VERIFY_SERVER: () => (/* binding */ ue),\n/* harmony export */   VERIFY_SERVER_V3: () => (/* binding */ Yt),\n/* harmony export */   Verify: () => (/* binding */ Fi),\n/* harmony export */   WALLETCONNECT_CLIENT_ID: () => (/* binding */ jt),\n/* harmony export */   WALLETCONNECT_LINK_MODE_APPS: () => (/* binding */ Fe),\n/* harmony export */   \"default\": () => (/* binding */ Te)\n/* harmony export */ });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @walletconnect/heartbeat */ \"(ssr)/./node_modules/.pnpm/@walletconnect+heartbeat@1.2.2/node_modules/@walletconnect/heartbeat/dist/index.es.js\");\n/* harmony import */ var _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @walletconnect/keyvaluestorage */ \"(ssr)/./node_modules/.pnpm/@walletconnect+keyvaluestorage@1.1.1/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js\");\n/* harmony import */ var _walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/logger */ \"(ssr)/./node_modules/.pnpm/@walletconnect+logger@2.1.2/node_modules/@walletconnect/logger/dist/index.es.js\");\n/* harmony import */ var _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @walletconnect/types */ \"(ssr)/./node_modules/.pnpm/@walletconnect+types@2.21.4/node_modules/@walletconnect/types/dist/index.es.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @walletconnect/time */ \"(ssr)/./node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/index.js\");\n/* harmony import */ var _walletconnect_time__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @walletconnect/safe-json */ \"(ssr)/./node_modules/.pnpm/@walletconnect+safe-json@1.0.2/node_modules/@walletconnect/safe-json/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @walletconnect/relay-auth */ \"(ssr)/./node_modules/.pnpm/@walletconnect+relay-auth@1.1.0/node_modules/@walletconnect/relay-auth/dist/index.es.js\");\n/* harmony import */ var _walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @walletconnect/utils */ \"(ssr)/./node_modules/.pnpm/@walletconnect+utils@2.21.4_typescript@5.5.4_zod@3.25.75/node_modules/@walletconnect/utils/dist/index.es.js\");\n/* harmony import */ var uint8arrays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uint8arrays */ \"(ssr)/./node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @walletconnect/jsonrpc-provider */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-provider@1.0.14/node_modules/@walletconnect/jsonrpc-provider/dist/index.es.js\");\n/* harmony import */ var _walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @walletconnect/jsonrpc-utils */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js\");\n/* harmony import */ var _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @walletconnect/jsonrpc-ws-connection */ \"(ssr)/./node_modules/.pnpm/@walletconnect+jsonrpc-ws-connection@1.0.16/node_modules/@walletconnect/jsonrpc-ws-connection/dist/index.es.js\");\n/* harmony import */ var _walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @walletconnect/window-getters */ \"(ssr)/./node_modules/.pnpm/@walletconnect+window-getters@1.0.1/node_modules/@walletconnect/window-getters/dist/cjs/index.js\");\nconst ze=\"wc\",Le=2,he=\"core\",B=`${ze}@2:${he}:`,Et={name:he,logger:\"error\"},It={database:\":memory:\"},Tt=\"crypto\",ke=\"client_ed25519_seed\",Ct=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Pt=\"keychain\",St=\"0.3\",Ot=\"messages\",Rt=\"0.3\",je=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.SIX_HOURS,At=\"publisher\",xt=\"irn\",Nt=\"error\",Ue=\"wss://relay.walletconnect.org\",$t=\"relayer\",C={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},zt=\"_subscription\",L={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},Lt=.1,Ws={database:\":memory:\"},_e=\"2.21.4\",Hs=1e4,Q={link_mode:\"link_mode\",relay:\"relay\"},le={inbound:\"inbound\",outbound:\"outbound\"},kt=\"0.3\",jt=\"WALLETCONNECT_CLIENT_ID\",Fe=\"WALLETCONNECT_LINK_MODE_APPS\",$={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},Ys=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,Ut=\"subscription\",Ft=\"0.3\",Js=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS*1e3,Mt=\"pairing\",Kt=\"0.3\",Xs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS,se={wc_pairingDelete:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0},res:{ttl:_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,prompt:!1,tag:0}}},re={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},F={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},Bt=\"history\",Vt=\"0.3\",qt=\"expirer\",M={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},Gt=\"0.3\",Zs=_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_DAY,Wt=\"verify-api\",Qs=\"https://verify.walletconnect.com\",Ht=\"https://verify.walletconnect.org\",ue=Ht,Yt=`${ue}/v3`,Jt=[Qs,Ht],Xt=\"echo\",Zt=\"https://echo.walletconnect.com\",er=\"event-client\",G={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},Y={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},tr={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\"},ir={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\"},sr={authenticated_session_approve_started:\"authenticated_session_approve_started\",authenticated_session_not_expired:\"authenticated_session_not_expired\",chains_caip2_compliant:\"chains_caip2_compliant\",chains_evm_compliant:\"chains_evm_compliant\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\",authenticated_session_approve_publish_success:\"authenticated_session_approve_publish_success\"},rr={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",missing_session_authenticate_request:\"missing_session_authenticate_request\",session_authenticate_request_expired:\"session_authenticate_request_expired\",chains_caip2_compliant_failure:\"chains_caip2_compliant_failure\",chains_evm_compliant_failure:\"chains_evm_compliant_failure\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},Qt=.1,ei=\"event-client\",ti=86400,ii=\"https://pulse.walletconnect.org/batch\";function nr(r,e){if(r.length>=255)throw new TypeError(\"Alphabet too long\");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var s=0;s<r.length;s++){var n=r.charAt(s),o=n.charCodeAt(0);if(t[o]!==255)throw new TypeError(n+\" is ambiguous\");t[o]=s}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(u.length===0)return\"\";for(var b=0,x=0,I=0,D=u.length;I!==D&&u[I]===0;)I++,b++;for(var j=(D-I)*l+1>>>0,T=new Uint8Array(j);I!==D;){for(var q=u[I],J=0,K=j-1;(q!==0||J<x)&&K!==-1;K--,J++)q+=256*T[K]>>>0,T[K]=q%a>>>0,q=q/a>>>0;if(q!==0)throw new Error(\"Non-zero carry\");x=J,I++}for(var H=j-x;H!==j&&T[H]===0;)H++;for(var me=c.repeat(b);H<j;++H)me+=r.charAt(T[H]);return me}function g(u){if(typeof u!=\"string\")throw new TypeError(\"Expected String\");if(u.length===0)return new Uint8Array;var b=0;if(u[b]!==\" \"){for(var x=0,I=0;u[b]===c;)x++,b++;for(var D=(u.length-b)*h+1>>>0,j=new Uint8Array(D);u[b];){var T=t[u.charCodeAt(b)];if(T===255)return;for(var q=0,J=D-1;(T!==0||q<I)&&J!==-1;J--,q++)T+=a*j[J]>>>0,j[J]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error(\"Non-zero carry\");I=q,b++}if(u[b]!==\" \"){for(var K=D-I;K!==D&&j[K]===0;)K++;for(var H=new Uint8Array(x+(D-K)),me=x;K!==D;)H[me++]=j[K++];return H}}}function _(u){var b=g(u);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:g,decode:_}}var or=nr,ar=or;const si=r=>{if(r instanceof Uint8Array&&r.constructor.name===\"Uint8Array\")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error(\"Unknown type, must be binary type\")},cr=r=>new TextEncoder().encode(r),hr=r=>new TextDecoder().decode(r);class lr{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class ur{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return ri(this,e)}}class dr{constructor(e){this.decoders=e}or(e){return ri(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ri=(r,e)=>new dr({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class gr{constructor(e,t,i,s){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=s,this.encoder=new lr(e,t,i),this.decoder=new ur(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ee=({name:r,prefix:e,encode:t,decode:i})=>new gr(r,e,t,i),de=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:s}=ar(t,e);return Ee({prefix:r,name:e,encode:i,decode:n=>si(s(n))})},pr=(r,e,t,i)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let n=r.length;for(;r[n-1]===\"=\";)--n;const o=new Uint8Array(n*t/8|0);let a=0,c=0,h=0;for(let l=0;l<n;++l){const d=s[r[l]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},yr=(r,e,t)=>{const i=e[e.length-1]===\"=\",s=(1<<t)-1;let n=\"\",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,n+=e[s&a>>o];if(o&&(n+=e[s&a<<t-o]),i)for(;n.length*t&7;)n+=\"=\";return n},P=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Ee({prefix:e,name:r,encode(s){return yr(s,i,t)},decode(s){return pr(s,i,t,r)}}),br=Ee({prefix:\"\\0\",name:\"identity\",encode:r=>hr(r),decode:r=>cr(r)});var mr=Object.freeze({__proto__:null,identity:br});const fr=P({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var Dr=Object.freeze({__proto__:null,base2:fr});const vr=P({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var wr=Object.freeze({__proto__:null,base8:vr});const _r=de({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var Er=Object.freeze({__proto__:null,base10:_r});const Ir=P({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),Tr=P({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var Cr=Object.freeze({__proto__:null,base16:Ir,base16upper:Tr});const Pr=P({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),Sr=P({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),Or=P({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),Rr=P({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),Ar=P({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),xr=P({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),Nr=P({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),$r=P({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),zr=P({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var Lr=Object.freeze({__proto__:null,base32:Pr,base32upper:Sr,base32pad:Or,base32padupper:Rr,base32hex:Ar,base32hexupper:xr,base32hexpad:Nr,base32hexpadupper:$r,base32z:zr});const kr=de({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),jr=de({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var Ur=Object.freeze({__proto__:null,base36:kr,base36upper:jr});const Fr=de({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),Mr=de({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var Kr=Object.freeze({__proto__:null,base58btc:Fr,base58flickr:Mr});const Br=P({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),Vr=P({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),qr=P({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),Gr=P({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var Wr=Object.freeze({__proto__:null,base64:Br,base64pad:Vr,base64url:qr,base64urlpad:Gr});const ni=Array.from(\"\\u{1F680}\\u{1FA90}\\u2604\\u{1F6F0}\\u{1F30C}\\u{1F311}\\u{1F312}\\u{1F313}\\u{1F314}\\u{1F315}\\u{1F316}\\u{1F317}\\u{1F318}\\u{1F30D}\\u{1F30F}\\u{1F30E}\\u{1F409}\\u2600\\u{1F4BB}\\u{1F5A5}\\u{1F4BE}\\u{1F4BF}\\u{1F602}\\u2764\\u{1F60D}\\u{1F923}\\u{1F60A}\\u{1F64F}\\u{1F495}\\u{1F62D}\\u{1F618}\\u{1F44D}\\u{1F605}\\u{1F44F}\\u{1F601}\\u{1F525}\\u{1F970}\\u{1F494}\\u{1F496}\\u{1F499}\\u{1F622}\\u{1F914}\\u{1F606}\\u{1F644}\\u{1F4AA}\\u{1F609}\\u263A\\u{1F44C}\\u{1F917}\\u{1F49C}\\u{1F614}\\u{1F60E}\\u{1F607}\\u{1F339}\\u{1F926}\\u{1F389}\\u{1F49E}\\u270C\\u2728\\u{1F937}\\u{1F631}\\u{1F60C}\\u{1F338}\\u{1F64C}\\u{1F60B}\\u{1F497}\\u{1F49A}\\u{1F60F}\\u{1F49B}\\u{1F642}\\u{1F493}\\u{1F929}\\u{1F604}\\u{1F600}\\u{1F5A4}\\u{1F603}\\u{1F4AF}\\u{1F648}\\u{1F447}\\u{1F3B6}\\u{1F612}\\u{1F92D}\\u2763\\u{1F61C}\\u{1F48B}\\u{1F440}\\u{1F62A}\\u{1F611}\\u{1F4A5}\\u{1F64B}\\u{1F61E}\\u{1F629}\\u{1F621}\\u{1F92A}\\u{1F44A}\\u{1F973}\\u{1F625}\\u{1F924}\\u{1F449}\\u{1F483}\\u{1F633}\\u270B\\u{1F61A}\\u{1F61D}\\u{1F634}\\u{1F31F}\\u{1F62C}\\u{1F643}\\u{1F340}\\u{1F337}\\u{1F63B}\\u{1F613}\\u2B50\\u2705\\u{1F97A}\\u{1F308}\\u{1F608}\\u{1F918}\\u{1F4A6}\\u2714\\u{1F623}\\u{1F3C3}\\u{1F490}\\u2639\\u{1F38A}\\u{1F498}\\u{1F620}\\u261D\\u{1F615}\\u{1F33A}\\u{1F382}\\u{1F33B}\\u{1F610}\\u{1F595}\\u{1F49D}\\u{1F64A}\\u{1F639}\\u{1F5E3}\\u{1F4AB}\\u{1F480}\\u{1F451}\\u{1F3B5}\\u{1F91E}\\u{1F61B}\\u{1F534}\\u{1F624}\\u{1F33C}\\u{1F62B}\\u26BD\\u{1F919}\\u2615\\u{1F3C6}\\u{1F92B}\\u{1F448}\\u{1F62E}\\u{1F646}\\u{1F37B}\\u{1F343}\\u{1F436}\\u{1F481}\\u{1F632}\\u{1F33F}\\u{1F9E1}\\u{1F381}\\u26A1\\u{1F31E}\\u{1F388}\\u274C\\u270A\\u{1F44B}\\u{1F630}\\u{1F928}\\u{1F636}\\u{1F91D}\\u{1F6B6}\\u{1F4B0}\\u{1F353}\\u{1F4A2}\\u{1F91F}\\u{1F641}\\u{1F6A8}\\u{1F4A8}\\u{1F92C}\\u2708\\u{1F380}\\u{1F37A}\\u{1F913}\\u{1F619}\\u{1F49F}\\u{1F331}\\u{1F616}\\u{1F476}\\u{1F974}\\u25B6\\u27A1\\u2753\\u{1F48E}\\u{1F4B8}\\u2B07\\u{1F628}\\u{1F31A}\\u{1F98B}\\u{1F637}\\u{1F57A}\\u26A0\\u{1F645}\\u{1F61F}\\u{1F635}\\u{1F44E}\\u{1F932}\\u{1F920}\\u{1F927}\\u{1F4CC}\\u{1F535}\\u{1F485}\\u{1F9D0}\\u{1F43E}\\u{1F352}\\u{1F617}\\u{1F911}\\u{1F30A}\\u{1F92F}\\u{1F437}\\u260E\\u{1F4A7}\\u{1F62F}\\u{1F486}\\u{1F446}\\u{1F3A4}\\u{1F647}\\u{1F351}\\u2744\\u{1F334}\\u{1F4A3}\\u{1F438}\\u{1F48C}\\u{1F4CD}\\u{1F940}\\u{1F922}\\u{1F445}\\u{1F4A1}\\u{1F4A9}\\u{1F450}\\u{1F4F8}\\u{1F47B}\\u{1F910}\\u{1F92E}\\u{1F3BC}\\u{1F975}\\u{1F6A9}\\u{1F34E}\\u{1F34A}\\u{1F47C}\\u{1F48D}\\u{1F4E3}\\u{1F942}\"),Hr=ni.reduce((r,e,t)=>(r[t]=e,r),[]),Yr=ni.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Jr(r){return r.reduce((e,t)=>(e+=Hr[t],e),\"\")}function Xr(r){const e=[];for(const t of r){const i=Yr[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const Zr=Ee({prefix:\"\\u{1F680}\",name:\"base256emoji\",encode:Jr,decode:Xr});var Qr=Object.freeze({__proto__:null,base256emoji:Zr}),en=ai,oi=128,tn=127,sn=~tn,rn=Math.pow(2,31);function ai(r,e,t){e=e||[],t=t||0;for(var i=t;r>=rn;)e[t++]=r&255|oi,r/=128;for(;r&sn;)e[t++]=r&255|oi,r>>>=7;return e[t]=r|0,ai.bytes=t-i+1,e}var nn=Me,on=128,ci=127;function Me(r,i){var t=0,i=i||0,s=0,n=i,o,a=r.length;do{if(n>=a)throw Me.bytes=0,new RangeError(\"Could not decode varint\");o=r[n++],t+=s<28?(o&ci)<<s:(o&ci)*Math.pow(2,s),s+=7}while(o>=on);return Me.bytes=n-i,t}var an=Math.pow(2,7),cn=Math.pow(2,14),hn=Math.pow(2,21),ln=Math.pow(2,28),un=Math.pow(2,35),dn=Math.pow(2,42),gn=Math.pow(2,49),pn=Math.pow(2,56),yn=Math.pow(2,63),bn=function(r){return r<an?1:r<cn?2:r<hn?3:r<ln?4:r<un?5:r<dn?6:r<gn?7:r<pn?8:r<yn?9:10},mn={encode:en,decode:nn,encodingLength:bn},hi=mn;const li=(r,e,t=0)=>(hi.encode(r,e,t),e),ui=r=>hi.encodingLength(r),Ke=(r,e)=>{const t=e.byteLength,i=ui(r),s=i+ui(t),n=new Uint8Array(s+t);return li(r,n,0),li(t,n,i),n.set(e,s),new fn(r,t,e,n)};class fn{constructor(e,t,i,s){this.code=e,this.size=t,this.digest=i,this.bytes=s}}const di=({name:r,code:e,encode:t})=>new Dn(r,e,t);class Dn{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ke(this.code,t):t.then(i=>Ke(this.code,i))}else throw Error(\"Unknown type, must be binary type\")}}const gi=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),vn=di({name:\"sha2-256\",code:18,encode:gi(\"SHA-256\")}),wn=di({name:\"sha2-512\",code:19,encode:gi(\"SHA-512\")});var _n=Object.freeze({__proto__:null,sha256:vn,sha512:wn});const pi=0,En=\"identity\",yi=si,In=r=>Ke(pi,yi(r)),Tn={code:pi,name:En,encode:yi,digest:In};var Cn=Object.freeze({__proto__:null,identity:Tn});new TextEncoder,new TextDecoder;const bi={...mr,...Dr,...wr,...Er,...Cr,...Lr,...Ur,...Kr,...Wr,...Qr};({..._n,...Cn});function mi(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Pn(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?mi(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function fi(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const Di=fi(\"utf8\",\"u\",r=>\"u\"+new TextDecoder(\"utf8\").decode(r),r=>new TextEncoder().encode(r.substring(1))),Be=fi(\"ascii\",\"a\",r=>{let e=\"a\";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Pn(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Sn={utf8:Di,\"utf-8\":Di,hex:bi.base16,latin1:Be,ascii:Be,binary:Be,...bi};function On(r,e=\"utf8\"){const t=Sn[e];if(!t)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?mi(globalThis.Buffer.from(r,\"utf-8\")):t.decoder.decode(`${t.prefix}${r}`)}var Rn=Object.defineProperty,An=(r,e,t)=>e in r?Rn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,W=(r,e,t)=>An(r,typeof e!=\"symbol\"?e+\"\":e,t);class vi{constructor(e,t){this.core=e,this.logger=t,W(this,\"keychain\",new Map),W(this,\"name\",Pt),W(this,\"version\",St),W(this,\"initialized\",!1),W(this,\"storagePrefix\",B),W(this,\"init\",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<\"u\"&&(this.keychain=i),this.initialized=!0}}),W(this,\"has\",i=>(this.isInitialized(),this.keychain.has(i))),W(this,\"set\",async(i,s)=>{this.isInitialized(),this.keychain.set(i,s),await this.persist()}),W(this,\"get\",i=>{this.isInitialized();const s=this.keychain.get(i);if(typeof s>\"u\"){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${i}`);throw new Error(n)}return s}),W(this,\"del\",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var xn=Object.defineProperty,Nn=(r,e,t)=>e in r?xn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,S=(r,e,t)=>Nn(r,typeof e!=\"symbol\"?e+\"\":e,t);class wi{constructor(e,t,i){this.core=e,this.logger=t,S(this,\"name\",Tt),S(this,\"keychain\"),S(this,\"randomSessionIdentifier\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)()),S(this,\"initialized\",!1),S(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),S(this,\"hasKeys\",s=>(this.isInitialized(),this.keychain.has(s))),S(this,\"getClientId\",async()=>{this.isInitialized();const s=await this.getClientSeed(),n=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(s);return _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.encodeIss(n.publicKey)}),S(this,\"generateKeyPair\",()=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateKeyPair)();return this.setPrivateKey(s.publicKey,s.privateKey)}),S(this,\"signJWT\",async s=>{this.isInitialized();const n=await this.getClientSeed(),o=_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.generateKeyPair(n),a=this.randomSessionIdentifier,c=Ct;return await _walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.signJWT(a,s,c,o)}),S(this,\"generateSharedKey\",(s,n,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deriveSymKey)(a,n);return this.setSymKey(c,o)}),S(this,\"setSymKey\",async(s,n)=>{this.isInitialized();const o=n||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashKey)(s);return await this.keychain.set(o,s),o}),S(this,\"deleteKeyPair\",async s=>{this.isInitialized(),await this.keychain.del(s)}),S(this,\"deleteSymKey\",async s=>{this.isInitialized(),await this.keychain.del(s)}),S(this,\"encode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateEncoding)(o),c=(0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonStringify)(n);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a))return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encodeTypeTwoEnvelope)(c,o?.encoding);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const g=a.senderPublicKey,_=a.receiverPublicKey;s=await this.generateSharedKey(g,_)}const h=this.getSymKey(s),{type:l,senderPublicKey:d}=a;return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.encrypt)({type:l,symKey:h,message:c,senderPublicKey:d,encoding:o?.encoding})}),S(this,\"decode\",async(s,n,o)=>{this.isInitialized();const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.validateDecoding)(n,o);if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeTwoEnvelope)(a)){const c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeTwoEnvelope)(n,o?.encoding);return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(c)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTypeOneEnvelope)(a)){const c=a.receiverPublicKey,h=a.senderPublicKey;s=await this.generateSharedKey(c,h)}try{const c=this.getSymKey(s),h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decrypt)({symKey:c,encoded:n,encoding:o?.encoding});return (0,_walletconnect_safe_json__WEBPACK_IMPORTED_MODULE_5__.safeJsonParse)(h)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),S(this,\"getPayloadType\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.decodeTypeByte)(o.type)}),S(this,\"getPayloadSenderPublicKey\",(s,n=_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE64)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.deserialize)({encoded:s,encoding:n});return o.senderPublicKey?(0,uint8arrays__WEBPACK_IMPORTED_MODULE_7__.toString)(o.senderPublicKey,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.BASE16):void 0}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.keychain=i||new vi(this.core,this.logger)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(ke)}catch{e=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),await this.keychain.set(ke,e)}return On(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var $n=Object.defineProperty,zn=Object.defineProperties,Ln=Object.getOwnPropertyDescriptors,_i=Object.getOwnPropertySymbols,kn=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable,Ve=(r,e,t)=>e in r?$n(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Un=(r,e)=>{for(var t in e||(e={}))kn.call(e,t)&&Ve(r,t,e[t]);if(_i)for(var t of _i(e))jn.call(e,t)&&Ve(r,t,e[t]);return r},Fn=(r,e)=>zn(r,Ln(e)),k=(r,e,t)=>Ve(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ei extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,k(this,\"messages\",new Map),k(this,\"messagesWithoutClientAck\",new Map),k(this,\"name\",Ot),k(this,\"version\",Rt),k(this,\"initialized\",!1),k(this,\"storagePrefix\",B),k(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const i=await this.getRelayerMessages();typeof i<\"u\"&&(this.messages=i);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<\"u\"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),k(this,\"set\",async(i,s,n)=>{this.isInitialized();const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);let a=this.messages.get(i);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=s,this.messages.set(i,a),n===le.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,Fn(Un({},c),{[o]:s}))}return await this.persist(),o}),k(this,\"get\",i=>{this.isInitialized();let s=this.messages.get(i);return typeof s>\"u\"&&(s={}),s}),k(this,\"getWithoutAck\",i=>{this.isInitialized();const s={};for(const n of i){const o=this.messagesWithoutClientAck.get(n)||{};s[n]=Object.values(o)}return s}),k(this,\"has\",(i,s)=>{this.isInitialized();const n=this.get(i),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);return typeof n[o]<\"u\"}),k(this,\"ack\",async(i,s)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(i);if(typeof n>\"u\")return;const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(s);delete n[o],Object.keys(n).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,n),await this.persist()}),k(this,\"del\",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e,this.name),this.core=t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.mapToObj)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.objToMap)(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Mn=Object.defineProperty,Kn=Object.defineProperties,Bn=Object.getOwnPropertyDescriptors,Ii=Object.getOwnPropertySymbols,Vn=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable,qe=(r,e,t)=>e in r?Mn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ie=(r,e)=>{for(var t in e||(e={}))Vn.call(e,t)&&qe(r,t,e[t]);if(Ii)for(var t of Ii(e))qn.call(e,t)&&qe(r,t,e[t]);return r},Ge=(r,e)=>Kn(r,Bn(e)),V=(r,e,t)=>qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Gn extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,V(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),V(this,\"name\",At),V(this,\"queue\",new Map),V(this,\"publishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),V(this,\"initialPublishTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),V(this,\"needsTransportRestart\",!1),V(this,\"publish\",async(i,s,n)=>{var o;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:i,message:s,opts:n}});const a=n?.ttl||je,c=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(n),h=n?.prompt||!1,l=n?.tag||0,d=n?.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString(),g={topic:i,message:s,opts:{ttl:a,relay:c,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}},_=`Failed to publish payload, please try again. id:${d} tag:${l}`;try{const u=new Promise(async b=>{const x=({id:D})=>{g.opts.id===D&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(C.publish,x),b(g))};this.relayer.events.on(C.publish,x);const I=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((D,j)=>{this.rpcPublish({topic:i,message:s,ttl:a,prompt:h,tag:l,id:d,attestation:n?.attestation,tvf:n?.tvf}).then(D).catch(T=>{this.logger.warn(T,T?.message),j(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${l}`);try{await I,this.events.removeListener(C.publish,x)}catch(D){this.queue.set(d,Ge(Ie({},g),{attempt:1})),this.logger.warn(D,D?.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:d,topic:i,message:s,opts:n}}),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(u,this.publishTimeout,_)}catch(u){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(u),(o=n?.internal)!=null&&o.throwOnFailedPublish)throw u}finally{this.queue.delete(d)}}),V(this,\"on\",(i,s)=>{this.events.on(i,s)}),V(this,\"once\",(i,s)=>{this.events.once(i,s)}),V(this,\"off\",(i,s)=>{this.events.off(i,s)}),V(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async rpcPublish(e){var t,i,s,n;const{topic:o,message:a,ttl:c=je,prompt:h,tag:l,id:d,attestation:g,tvf:_}=e,u={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)().protocol).publish,params:Ie({topic:o,message:a,ttl:c,prompt:h,tag:l,attestation:g},_),id:d};(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((t=u.params)==null?void 0:t.prompt)&&((i=u.params)==null||delete i.prompt),(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)((s=u.params)==null?void 0:s.tag)&&((n=u.params)==null||delete n.tag),this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:u});const b=await this.relayer.request(u);return this.relayer.events.emit(C.publish,e),this.logger.debug(\"Successfully Published Payload\"),b}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const i=e.attempt+1;this.queue.set(t,Ge(Ie({},e),{attempt:i}));const{topic:s,message:n,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish(Ge(Ie({},e),{topic:s,message:n,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(C.connection_stalled);return}this.checkQueue()}),this.relayer.on(C.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Wn=Object.defineProperty,Hn=(r,e,t)=>e in r?Wn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ne=(r,e,t)=>Hn(r,typeof e!=\"symbol\"?e+\"\":e,t);class Yn{constructor(){ne(this,\"map\",new Map),ne(this,\"set\",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),ne(this,\"get\",e=>this.map.get(e)||[]),ne(this,\"exists\",(e,t)=>this.get(e).includes(t)),ne(this,\"delete\",(e,t)=>{if(typeof t>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const s=i.filter(n=>n!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),ne(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Jn=Object.defineProperty,Xn=Object.defineProperties,Zn=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertySymbols,Qn=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable,We=(r,e,t)=>e in r?Jn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ge=(r,e)=>{for(var t in e||(e={}))Qn.call(e,t)&&We(r,t,e[t]);if(Ti)for(var t of Ti(e))eo.call(e,t)&&We(r,t,e[t]);return r},He=(r,e)=>Xn(r,Zn(e)),f=(r,e,t)=>We(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ci extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,f(this,\"subscriptions\",new Map),f(this,\"topicMap\",new Yn),f(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),f(this,\"name\",Ut),f(this,\"version\",Ft),f(this,\"pending\",new Map),f(this,\"cached\",[]),f(this,\"initialized\",!1),f(this,\"storagePrefix\",B),f(this,\"subscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_MINUTE)),f(this,\"initialSubscribeTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),f(this,\"clientId\"),f(this,\"batchSubscribeTopicsLimit\",500),f(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),f(this,\"subscribe\",async(i,s)=>{this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}});try{const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(s),o={topic:i,relay:n,transportType:s?.transportType};this.pending.set(i,o);const a=await this.rpcSubscribe(i,n,s);return typeof a==\"string\"&&(this.onSubscribe(a,o),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:i,opts:s}})),a}catch(n){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(n),n}}),f(this,\"unsubscribe\",async(i,s)=>{this.isInitialized(),typeof s?.id<\"u\"?await this.unsubscribeById(i,s.id,s):await this.unsubscribeByTopic(i,s)}),f(this,\"isSubscribed\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i))})),f(this,\"isKnownTopic\",i=>new Promise(s=>{s(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(n=>n.topic===i))})),f(this,\"on\",(i,s)=>{this.events.on(i,s)}),f(this,\"once\",(i,s)=>{this.events.once(i,s)}),f(this,\"off\",(i,s)=>{this.events.off(i,s)}),f(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),f(this,\"start\",async()=>{await this.onConnect()}),f(this,\"stop\",async()=>{await this.onDisconnect()}),f(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),f(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(s=>{i.push(s)}),await this.batchSubscribe(i)}),f(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on($.created,async i=>{const s=$.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()}),this.events.on($.deleted,async i=>{const s=$.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:\"event\",event:s,data:i}),await this.persist()})}),this.relayer=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.clientId=\"\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,i){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}});try{const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolName)(i);await this.restartToComplete({topic:e,id:t,relay:s}),await this.rpcUnsubscribe(e,t,s);const n=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,n),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:t,opts:i}})}catch(s){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(s),s}}async rpcSubscribe(e,t,i){var s;(!i||i?.transportType===Q.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const n={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:n});const o=(s=i?.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(i?.transportType===Q.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(l=>this.logger.warn(l))},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),a;const c=new Promise(async l=>{const d=g=>{g.topic===e&&(this.events.removeListener($.created,d),l(g.id))};this.events.on($.created,d);try{const g=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((_,u)=>{this.relayer.request(n).catch(b=>{this.logger.warn(b,b?.message),u(b)}).then(_)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener($.created,d),l(g)}catch{}}),h=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(a){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(C.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});try{await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise(s=>{this.relayer.request(i).catch(n=>this.logger.warn(n)).then(s)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(t.protocol).batchFetchMessages,params:{topics:e.map(n=>n.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i});let s;try{s=await await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((n,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(n)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(C.connection_stalled)}return s}rpcUnsubscribe(e,t,i){const s={method:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getRelayProtocolApi)(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,He(ge({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,ge({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,ge({},t)),this.topicMap.set(t.topic,e),this.events.emit($.created,t)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit($.deleted,He(ge({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit($.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>He(ge({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.sleep)((0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.hashMessage)(e+await this.getClientId())}}var to=Object.defineProperty,Pi=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,Ye=(r,e,t)=>e in r?to(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Si=(r,e)=>{for(var t in e||(e={}))io.call(e,t)&&Ye(r,t,e[t]);if(Pi)for(var t of Pi(e))so.call(e,t)&&Ye(r,t,e[t]);return r},y=(r,e,t)=>Ye(r,typeof e!=\"symbol\"?e+\"\":e,t);class Oi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IRelayer{constructor(e){super(e),y(this,\"protocol\",\"wc\"),y(this,\"version\",2),y(this,\"core\"),y(this,\"logger\"),y(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),y(this,\"provider\"),y(this,\"messages\"),y(this,\"subscriber\"),y(this,\"publisher\"),y(this,\"name\",$t),y(this,\"transportExplicitlyClosed\",!1),y(this,\"initialized\",!1),y(this,\"connectionAttemptInProgress\",!1),y(this,\"relayUrl\"),y(this,\"projectId\"),y(this,\"packageName\"),y(this,\"bundleId\"),y(this,\"hasExperiencedNetworkDisruption\",!1),y(this,\"pingTimeout\"),y(this,\"heartBeatTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_SECONDS+_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS)),y(this,\"reconnectTimeout\"),y(this,\"connectPromise\"),y(this,\"reconnectInProgress\",!1),y(this,\"requestsInFlight\",[]),y(this,\"connectTimeout\",(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*15)),y(this,\"request\",async t=>{var i,s;this.logger.debug(\"Publishing Request Payload\");const n=t.id||(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:t.method,topic:(i=t.params)==null?void 0:i.topic},\"relayer.request - publishing...\");const o=`${n}:${((s=t.params)==null?void 0:s.tag)||\"\"}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${n}`),o}}),y(this,\"resetPingTimeout\",()=>{(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,s,n;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(n=(s=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||n.call(s)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),y(this,\"onPayloadHandler\",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),y(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \\u{1F6DC}\"),this.startPingTimeout(),this.events.emit(C.connect)}),y(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \\u{1F6D1}\"),this.requestsInFlight=[],this.onProviderDisconnect()}),y(this,\"onProviderErrorHandler\",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(C.error,t),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),y(this,\"registerProviderListeners\",()=>{this.provider.on(L.payload,this.onPayloadHandler),this.provider.on(L.connect,this.onConnectHandler),this.provider.on(L.disconnect,this.onDisconnectHandler),this.provider.on(L.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<\"u\"&&typeof e.logger!=\"string\"?(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(e.logger,this.name):(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.pino)((0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:e.logger||Nt})),this.messages=new Ei(this.logger,e.core),this.subscriber=new Ci(this,this.logger),this.publisher=new Gn(this,this.logger),this.relayUrl=e?.relayUrl||Ue,this.projectId=e.projectId,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAndroid)()?this.packageName=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)():(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isIos)()&&(this.bundleId=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppId)()),this.provider={}}async init(){this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:Q.relay},le.outbound)}async subscribe(e,t){var i,s,n;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType===\"relay\")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>\"u\"?!0:(s=t?.internal)==null?void 0:s.throwOnFailedPublish;let a=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||\"\",c;const h=l=>{l.topic===e&&(this.subscriber.off($.created,h),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on($.created,h)}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,Si({internal:{throwOnFailedPublish:o}},t)).catch(g=>{o&&d(g)})||a,l()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const t=e.sort((i,s)=>i.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(s){this.logger.warn(s,\"Error while processing batch message event: \"+s?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),n={topic:i,expiry:s,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(i,n)}this.events.emit(C.message,e),await this.recordMessageEvent(e,le.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,s)=>{const n=()=>{s(new Error(\"Connection interrupted while trying to connect\"))};this.provider.once(L.disconnect,n),await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createExpiringPromise)(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(L.disconnect,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(L.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(L.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const s=i;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t*1))),t++}}startPingTimeout(){var e,t,i,s,n;if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isNode)())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((n=(s=(i=this.provider)==null?void 0:i.connection)==null?void 0:s.socket)==null||n.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _walletconnect_jsonrpc_provider__WEBPACK_IMPORTED_MODULE_8__.JsonRpcProvider(new _walletconnect_jsonrpc_ws_connection__WEBPACK_IMPORTED_MODULE_10__[\"default\"]((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatRelayRpcUrl)({sdkVersion:_e,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:s}=e;await this.messages.set(i,s,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const s=this.messages.has(t,i);return s&&this.logger.warn(`Ignoring duplicate message: ${i}`),s}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(e)){if(!e.method.endsWith(zt))return;const t=e.params,{topic:i,message:s,publishedAt:n,attestation:o}=t.data,a={topic:i,message:s,publishedAt:n,transportType:Q.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(Si({type:\"event\",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else (0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(e)&&this.events.emit(C.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,le.inbound),this.events.emit(C.message,e))}async acknowledgePayload(e){const t=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(L.payload,this.onPayloadHandler),this.provider.off(L.connect,this.onConnectHandler),this.provider.off(L.disconnect,this.onDisconnectHandler),this.provider.off(L.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isOnline)();(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.subscribeToNetworkChange)(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isAppVisible)())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(C.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(Lt)))))}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function ro(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function Ri(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function Ai(r){return r==null?r===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(r)}const no=\"[object RegExp]\",oo=\"[object String]\",ao=\"[object Number]\",co=\"[object Boolean]\",xi=\"[object Arguments]\",ho=\"[object Symbol]\",lo=\"[object Date]\",uo=\"[object Map]\",go=\"[object Set]\",po=\"[object Array]\",yo=\"[object Function]\",bo=\"[object ArrayBuffer]\",Je=\"[object Object]\",mo=\"[object Error]\",fo=\"[object DataView]\",Do=\"[object Uint8Array]\",vo=\"[object Uint8ClampedArray]\",wo=\"[object Uint16Array]\",_o=\"[object Uint32Array]\",Eo=\"[object BigUint64Array]\",Io=\"[object Int8Array]\",To=\"[object Int16Array]\",Co=\"[object Int32Array]\",Po=\"[object BigInt64Array]\",So=\"[object Float32Array]\",Oo=\"[object Float64Array]\";function Ro(){}function Ni(r){if(!r||typeof r!=\"object\")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)===\"[object Object]\":!1}function Ao(r,e,t){return pe(r,e,void 0,void 0,void 0,void 0,t)}function pe(r,e,t,i,s,n,o){const a=o(r,e,t,i,s,n);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return r===e;case\"number\":return r===e||Object.is(r,e);case\"function\":return r===e;case\"object\":return ye(r,e,n,o)}return ye(r,e,n,o)}function ye(r,e,t,i){if(Object.is(r,e))return!0;let s=Ai(r),n=Ai(e);if(s===xi&&(s=Je),n===xi&&(n=Je),s!==n)return!1;switch(s){case oo:return r.toString()===e.toString();case ao:{const c=r.valueOf(),h=e.valueOf();return ro(c,h)}case co:case lo:case ho:return Object.is(r.valueOf(),e.valueOf());case no:return r.source===e.source&&r.flags===e.flags;case yo:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(s){case uo:{if(r.size!==e.size)return!1;for(const[c,h]of r.entries())if(!e.has(c)||!pe(h,e.get(c),c,r,e,t,i))return!1;return!0}case go:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),h=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],g=h.findIndex(_=>pe(d,_,void 0,r,e,t,i));if(g===-1)return!1;h.splice(g,1)}return!0}case po:case Do:case vo:case wo:case _o:case Eo:case Io:case To:case Co:case Po:case So:case Oo:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!pe(r[c],e[c],c,r,e,t,i))return!1;return!0}case bo:return r.byteLength!==e.byteLength?!1:ye(new Uint8Array(r),new Uint8Array(e),t,i);case fo:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:ye(new Uint8Array(r),new Uint8Array(e),t,i);case mo:return r.name===e.name&&r.message===e.message;case Je:{if(!(ye(r.constructor,e.constructor,t,i)||Ni(r)&&Ni(e)))return!1;const h=[...Object.keys(r),...Ri(r)],l=[...Object.keys(e),...Ri(e)];if(h.length!==l.length)return!1;for(let d=0;d<h.length;d++){const g=h[d],_=r[g];if(!Object.hasOwn(e,g))return!1;const u=e[g];if(!pe(_,u,g,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function xo(r,e){return Ao(r,e,Ro)}var No=Object.defineProperty,$i=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,zo=Object.prototype.propertyIsEnumerable,Xe=(r,e,t)=>e in r?No(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zi=(r,e)=>{for(var t in e||(e={}))$o.call(e,t)&&Xe(r,t,e[t]);if($i)for(var t of $i(e))zo.call(e,t)&&Xe(r,t,e[t]);return r},z=(r,e,t)=>Xe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Li extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IStore{constructor(e,t,i,s=B,n=void 0){super(e,t,i,s),this.core=e,this.logger=t,this.name=i,z(this,\"map\",new Map),z(this,\"version\",kt),z(this,\"cached\",[]),z(this,\"initialized\",!1),z(this,\"getKey\"),z(this,\"storagePrefix\",B),z(this,\"recentlyDeleted\",[]),z(this,\"recentlyDeletedLimit\",200),z(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isUndefined)(o)?this.map.set(this.getKey(o),o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isProposalStruct)(o)?this.map.set(o.id,o):(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isSessionStruct)(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),z(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),z(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),z(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>xo(a[c],o[c]))):this.values)),z(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=zi(zi({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),z(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.storagePrefix=s,this.getKey=n}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Lo=Object.defineProperty,ko=(r,e,t)=>e in r?Lo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p=(r,e,t)=>ko(r,typeof e!=\"symbol\"?e+\"\":e,t);class ki{constructor(e,t){this.core=e,this.logger=t,p(this,\"name\",Mt),p(this,\"version\",Kt),p(this,\"events\",new (events__WEBPACK_IMPORTED_MODULE_0___default())),p(this,\"pairings\"),p(this,\"initialized\",!1),p(this,\"storagePrefix\",B),p(this,\"ignoredPayloadTypes\",[_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.TYPE_1]),p(this,\"registeredMethods\",[]),p(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),p(this,\"register\",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),p(this,\"create\",async i=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.generateRandomBytes32)(),n=await this.core.crypto.setSymKey(s),o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),a={protocol:xt},c={topic:n,expiry:o,relay:a,active:!1,methods:i?.methods},h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:s,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(re.create,c),this.core.expirer.set(n,o),await this.pairings.set(n,c),await this.core.relayer.subscribe(n,{transportType:i?.transportType}),{topic:n,uri:h}}),p(this,\"pair\",async i=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[G.pairing_started]}});this.isValidPair(i,s);const{topic:n,symKey:o,relay:a,expiryTimestamp:c,methods:h}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i.uri);s.props.properties.topic=n,s.addTrace(G.pairing_uri_validation_success),s.addTrace(G.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(n)){if(l=this.pairings.get(n),s.addTrace(G.existing_pairing),l.active)throw s.setError(Y.active_pairing_already_exists),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);s.addTrace(G.pairing_not_expired)}const d=c||(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES),g={topic:n,relay:a,expiry:d,active:!1,methods:h};this.core.expirer.set(n,d),await this.pairings.set(n,g),s.addTrace(G.store_new_pairing),i.activatePairing&&await this.activate({topic:n}),this.events.emit(re.create,g),s.addTrace(G.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(o,n),s.addTrace(G.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Y.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:a})}catch(_){throw s.setError(Y.subscribe_pairing_topic_failure),_}return s.addTrace(G.subscribe_pairing_topic_success),g}),p(this,\"activate\",async({topic:i})=>{this.isInitialized();const s=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_MINUTES);this.core.expirer.set(i,s),await this.pairings.update(i,{active:!0,expiry:s})}),p(this,\"ping\",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:s}=i;if(this.pairings.keys.includes(s)){const n=await this.sendRequest(s,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.createDelayedPromise)();this.events.once((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),({error:h})=>{h?c(h):a()}),await o()}}),p(this,\"updateExpiry\",async({topic:i,expiry:s})=>{this.isInitialized(),await this.pairings.update(i,{expiry:s})}),p(this,\"updateMetadata\",async({topic:i,metadata:s})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:s})}),p(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),p(this,\"disconnect\",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:s}=i;this.pairings.keys.includes(s)&&(await this.sendRequest(s,\"wc_pairingDelete\",(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),await this.deletePairing(s))}),p(this,\"formatUriFromPairing\",i=>{this.isInitialized();const{topic:s,relay:n,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(s);return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:n,expiryTimestamp:o,methods:a})}),p(this,\"sendRequest\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(s,n),a=await this.core.crypto.encode(i,o),c=se[s].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),p(this,\"sendResult\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcResult)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=se[c].res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),p(this,\"sendError\",async(i,s,n)=>{const o=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcError)(i,n),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,i)).request.method,h=se[c]?se[c].res:se.unregistered_method.res;await this.core.relayer.publish(s,a,h),await this.core.history.resolve(o)}),p(this,\"deletePairing\",async(i,s)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(i),s?Promise.resolve():this.core.expirer.del(i)])}),p(this,\"cleanup\",async()=>{const i=this.pairings.getAll().filter(s=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(s.expiry));await Promise.all(i.map(s=>this.deletePairing(s.topic)))}),p(this,\"onRelayEventRequest\",async i=>{const{topic:s,payload:n}=i;switch(n.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(s,n);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(s,n);default:return await this.onUnknownRpcMethodRequest(s,n)}}),p(this,\"onRelayEventResponse\",async i=>{const{topic:s,payload:n}=i,o=(await this.core.history.get(s,n.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(s,n);default:return this.onUnknownRpcMethodResponse(o)}}),p(this,\"onPairingPingRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidPing({topic:i}),await this.sendResult(n,i,!0),this.events.emit(re.ping,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),p(this,\"onPairingPingResponse\",(i,s)=>{const{id:n}=s;setTimeout(()=>{(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResult)(s)?this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{}):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(s)&&this.events.emit((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.engineEvent)(\"pairing_ping\",n),{error:s.error})},500)}),p(this,\"onPairingDeleteRequest\",async(i,s)=>{const{id:n}=s;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(re.delete,{id:n,topic:i})}catch(o){await this.sendError(n,i,o),this.logger.error(o)}}),p(this,\"onUnknownRpcMethodRequest\",async(i,s)=>{const{id:n,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(n,i,a),this.logger.error(a)}catch(a){await this.sendError(n,i,a),this.logger.error(a)}}),p(this,\"onUnknownRpcMethodResponse\",i=>{this.registeredMethods.includes(i)||this.logger.error((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getSdkError)(\"WC_METHOD_UNSUPPORTED\",i))}),p(this,\"isValidPair\",(i,s)=>{var n;if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() params: ${i}`);throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidUrl)(i.uri)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pair() uri: ${i.uri}`);throw s.setError(Y.malformed_pairing_uri),new Error(a)}const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseUri)(i?.uri);if(!((n=o?.relay)!=null&&n.protocol)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw s.setError(Y.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o?.expiryTimestamp)<Date.now()){s.setError(Y.pairing_expired);const{message:a}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),p(this,\"isValidPing\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`ping() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),p(this,\"isValidDisconnect\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidParams)(i)){const{message:n}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`disconnect() params: ${i}`);throw new Error(n)}const{topic:s}=i;await this.isValidPairingTopic(s)}),p(this,\"isValidPairingTopic\",async i=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isValidString)(i,!1)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${i}`);throw new Error(s)}if(!this.pairings.keys.includes(i)){const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${i}`);throw new Error(s)}if((0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isExpired)(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:s}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"EXPIRED\",`pairing topic: ${i}`);throw new Error(s)}}),this.core=e,this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.pairings=new Li(this.core,this.logger,this.name,this.storagePrefix)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(C.message,async e=>{const{topic:t,message:i,transportType:s}=e;if(this.pairings.keys.includes(t)&&s!==Q.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const n=await this.core.crypto.decode(t,i);(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcRequest)(n)?(this.core.history.set(t,n),await this.onRelayEventRequest({topic:t,payload:n})):(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id)),await this.core.relayer.messages.ack(t,i)}catch(n){this.logger.error(n)}})}registerExpirerEvents(){this.core.expirer.on(M.expired,async e=>{const{topic:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.parseExpirerTarget)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(re.expire,{topic:t}))})}}var jo=Object.defineProperty,Uo=(r,e,t)=>e in r?jo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,O=(r,e,t)=>Uo(r,typeof e!=\"symbol\"?e+\"\":e,t);class ji extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,O(this,\"records\",new Map),O(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),O(this,\"name\",Bt),O(this,\"version\",Vt),O(this,\"cached\",[]),O(this,\"initialized\",!1),O(this,\"storagePrefix\",B),O(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),O(this,\"set\",(i,s,n)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:i,request:s,chainId:n}),this.records.has(s.id))return;const o={id:s.id,topic:i,request:{method:s.method,params:s.params||null},chainId:n,expiry:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.calcExpiry)(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(F.created,o)}),O(this,\"resolve\",async i=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:i}),!this.records.has(i.id))return;const s=await this.getRecord(i.id);typeof s.response>\"u\"&&(s.response=(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.isJsonRpcError)(i)?{error:i.error}:{result:i.result},this.records.set(s.id,s),this.persist(),this.events.emit(F.updated,s))}),O(this,\"get\",async(i,s)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:i,id:s}),await this.getRecord(s))),O(this,\"delete\",(i,s)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:s}),this.values.forEach(n=>{if(n.topic===i){if(typeof s<\"u\"&&n.id!==s)return;this.records.delete(n.id),this.events.emit(F.deleted,n)}}),this.persist()}),O(this,\"exists\",async(i,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===i:!1)),O(this,\"on\",(i,s)=>{this.events.on(i,s)}),O(this,\"once\",(i,s)=>{this.events.once(i,s)}),O(this,\"off\",(i,s)=>{this.events.off(i,s)}),O(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<\"u\")return;const i={topic:t.topic,request:(0,_walletconnect_jsonrpc_utils__WEBPACK_IMPORTED_MODULE_9__.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(F.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(F.created,e=>{const t=F.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(F.updated,e=>{const t=F.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.events.on(F.deleted,e=>{const t=F.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,record:e})}),this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(F.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Fo=Object.defineProperty,Mo=(r,e,t)=>e in r?Fo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,A=(r,e,t)=>Mo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ui extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,A(this,\"expirations\",new Map),A(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),A(this,\"name\",qt),A(this,\"version\",Gt),A(this,\"cached\",[]),A(this,\"initialized\",!1),A(this,\"storagePrefix\",B),A(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),A(this,\"has\",i=>{try{const s=this.formatTarget(i);return typeof this.getExpiration(s)<\"u\"}catch{return!1}}),A(this,\"set\",(i,s)=>{this.isInitialized();const n=this.formatTarget(i),o={target:n,expiry:s};this.expirations.set(n,o),this.checkExpiry(n,o),this.events.emit(M.created,{target:n,expiration:o})}),A(this,\"get\",i=>{this.isInitialized();const s=this.formatTarget(i);return this.getExpiration(s)}),A(this,\"del\",i=>{if(this.isInitialized(),this.has(i)){const s=this.formatTarget(i),n=this.getExpiration(s);this.expirations.delete(s),this.events.emit(M.deleted,{target:s,expiration:n})}}),A(this,\"on\",(i,s)=>{this.events.on(i,s)}),A(this,\"once\",(i,s)=>{this.events.once(i,s)}),A(this,\"off\",(i,s)=>{this.events.off(i,s)}),A(this,\"removeListener\",(i,s)=>{this.events.removeListener(i,s)}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name)}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatTopicTarget)(e);if(typeof e==\"number\")return (0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatIdTarget)(e);const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(M.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:t}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(M.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(M.created,e=>{const t=M.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(M.expired,e=>{const t=M.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()}),this.events.on(M.deleted,e=>{const t=M.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:\"event\",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getInternalError)(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var Ko=Object.defineProperty,Bo=(r,e,t)=>e in r?Ko(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w=(r,e,t)=>Bo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Fi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IVerify{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,w(this,\"name\",Wt),w(this,\"abortController\"),w(this,\"isDevEnv\"),w(this,\"verifyUrlV3\",Yt),w(this,\"storagePrefix\",B),w(this,\"version\",Le),w(this,\"publicKey\"),w(this,\"fetchPromise\"),w(this,\"init\",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),w(this,\"register\",async s=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isBrowser)()||this.isDevEnv)return;const n=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${n}&id=${o}&decryptedId=${a}`;try{const h=(0,_walletconnect_window_getters__WEBPACK_IMPORTED_MODULE_11__.getDocument)(),l=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),d=await new Promise((g,_)=>{const u=()=>{window.removeEventListener(\"message\",x),h.body.removeChild(b),_(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",u);const b=h.createElement(\"iframe\");b.src=c,b.style.display=\"none\",b.addEventListener(\"error\",u,{signal:this.abortController.signal});const x=I=>{if(I.data&&typeof I.data==\"string\")try{const D=JSON.parse(I.data);if(D.type===\"verify_attestation\"){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(D.attestation).payload.id!==o)return;clearInterval(l),h.body.removeChild(b),this.abortController.signal.removeEventListener(\"abort\",u),window.removeEventListener(\"message\",x),g(D.attestation===null?\"\":D.attestation)}}catch(D){this.logger.warn(D)}};h.body.appendChild(b),window.addEventListener(\"message\",x,{signal:this.abortController.signal})});return this.logger.debug(\"jwt attestation\",d),d}catch(h){this.logger.warn(h)}return\"\"}),w(this,\"resolve\",async s=>{if(this.isDevEnv)return\"\";const{attestationId:n,hash:o,encryptedId:a}=s;if(n===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(n){if((0,_walletconnect_relay_auth__WEBPACK_IMPORTED_MODULE_6__.decodeJWT)(n).payload.id!==a)return;const h=await this.isValidJwtAttestation(n);if(h){if(!h.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return h}}if(!o)return;const c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(o,c)}),w(this,\"fetchAttestation\",async(s,n)=>{this.logger.debug(`resolving attestation: ${s} from url: ${n}`);const o=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.ONE_SECOND*5),a=await fetch(`${n}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),w(this,\"getVerifyUrl\",s=>{let n=s||ue;return Jt.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${ue}`),n=ue),n}),w(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.FIVE_SECONDS),n=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await n.json()}catch(s){this.logger.warn(s)}}),w(this,\"persistPublicKey\",async s=>{this.logger.debug(\"persisting public key to local storage\",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),w(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),w(this,\"isValidJwtAttestation\",async s=>{const n=await this.getPublicKey();try{if(n)return this.validateAttestation(s,n)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),w(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),w(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async n=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),n(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),w(this,\"validateAttestation\",(s,n)=>{const o=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.verifyP256Jwt)(s,n.publicKey),a={hasExpired:(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.name),this.abortController=new AbortController,this.isDevEnv=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.toMiliseconds)(e))}}var Vo=Object.defineProperty,qo=(r,e,t)=>e in r?Vo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mi=(r,e,t)=>qo(r,typeof e!=\"symbol\"?e+\"\":e,t);class Ki extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEchoClient{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,Mi(this,\"context\",Xt),Mi(this,\"registerDeviceToken\",async i=>{const{clientId:s,token:n,notificationType:o,enableEncrypted:a=!1}=i,c=`${Zt}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:s,type:o,token:n,always_raw:a})})}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context)}}var Go=Object.defineProperty,Bi=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Ho=Object.prototype.propertyIsEnumerable,Ze=(r,e,t)=>e in r?Go(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,be=(r,e)=>{for(var t in e||(e={}))Wo.call(e,t)&&Ze(r,t,e[t]);if(Bi)for(var t of Bi(e))Ho.call(e,t)&&Ze(r,t,e[t]);return r},E=(r,e,t)=>Ze(r,typeof e!=\"symbol\"?e+\"\":e,t);class Vi extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.IEventClient{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,E(this,\"context\",ei),E(this,\"storagePrefix\",B),E(this,\"storageVersion\",Qt),E(this,\"events\",new Map),E(this,\"shouldPersist\",!1),E(this,\"init\",async()=>{if(!(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.isTestRun)())try{const s={eventId:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.formatUA)(this.core.relayer.protocol,this.core.relayer.version,_e)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),E(this,\"createEvent\",s=>{const{event:n=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=s,h=(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.uuidv4)(),l=this.core.projectId||\"\",d=Date.now(),g=be({eventId:h,timestamp:d,props:{event:n,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,g),this.shouldPersist=!0),g}),E(this,\"getEvent\",s=>{const{eventId:n,topic:o}=s;if(n)return this.events.get(n);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return be(be({},a),this.setMethods(a.eventId))}),E(this,\"deleteEvent\",s=>{const{eventId:n}=s;this.events.delete(n),this.shouldPersist=!0}),E(this,\"setEventListeners\",()=>{this.core.heartbeat.on(_walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(Date.now())-(0,_walletconnect_time__WEBPACK_IMPORTED_MODULE_4__.fromMiliseconds)(s.timestamp)>ti&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),E(this,\"setMethods\",s=>({addTrace:n=>this.addTrace(s,n),setError:n=>this.setError(s,n)})),E(this,\"addTrace\",(s,n)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(n),this.events.set(s,o),this.shouldPersist=!0)}),E(this,\"setError\",(s,n)=>{const o=this.events.get(s);o&&(o.props.type=n,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),E(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),E(this,\"restore\",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(n=>{this.events.set(n.eventId,be(be({},n),this.setMethods(n.eventId)))})}catch(s){this.logger.warn(s)}}),E(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[n,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const n of s)this.events.delete(n.eventId),this.shouldPersist=!0}catch(n){this.logger.warn(n)}}),E(this,\"sendEvent\",async s=>{const n=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${ii}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${_e}${n}`,{method:\"POST\",body:JSON.stringify(s)})}),E(this,\"getAppDomain\",()=>(0,_walletconnect_utils__WEBPACK_IMPORTED_MODULE_12__.getAppMetadata)().url),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}}var Yo=Object.defineProperty,qi=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Qe=(r,e,t)=>e in r?Yo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gi=(r,e)=>{for(var t in e||(e={}))Jo.call(e,t)&&Qe(r,t,e[t]);if(qi)for(var t of qi(e))Xo.call(e,t)&&Qe(r,t,e[t]);return r},v=(r,e,t)=>Qe(r,typeof e!=\"symbol\"?e+\"\":e,t);class Te extends _walletconnect_types__WEBPACK_IMPORTED_MODULE_13__.ICore{constructor(e){var t;super(e),v(this,\"protocol\",ze),v(this,\"version\",Le),v(this,\"name\",he),v(this,\"relayUrl\"),v(this,\"projectId\"),v(this,\"customStoragePrefix\"),v(this,\"events\",new events__WEBPACK_IMPORTED_MODULE_0__.EventEmitter),v(this,\"logger\"),v(this,\"heartbeat\"),v(this,\"relayer\"),v(this,\"crypto\"),v(this,\"storage\"),v(this,\"history\"),v(this,\"expirer\"),v(this,\"pairing\"),v(this,\"verify\"),v(this,\"echoClient\"),v(this,\"linkModeSupportedApps\"),v(this,\"eventClient\"),v(this,\"initialized\",!1),v(this,\"logChunkController\"),v(this,\"on\",(a,c)=>this.events.on(a,c)),v(this,\"once\",(a,c)=>this.events.once(a,c)),v(this,\"off\",(a,c)=>this.events.off(a,c)),v(this,\"removeListener\",(a,c)=>this.events.removeListener(a,c)),v(this,\"dispatchEnvelope\",({topic:a,message:c,sessionExists:h})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:Q.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:h})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn(\"Failed to copy global core\",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Ue,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const s=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getDefaultLoggerOptions)({level:typeof e?.logger==\"string\"&&e.logger?e.logger:Et.logger,name:he}),{logger:n,chunkLoggerController:o}=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generatePlatformLogger)({opts:s,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.generateChildLogger)(n,this.name),this.heartbeat=new _walletconnect_heartbeat__WEBPACK_IMPORTED_MODULE_1__.HeartBeat,this.crypto=new wi(this,this.logger,e?.keychain),this.history=new ji(this,this.logger),this.expirer=new Ui(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _walletconnect_keyvaluestorage__WEBPACK_IMPORTED_MODULE_2__[\"default\"](Gi(Gi({},It),e?.storageOptions)),this.relayer=new Oi({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ki(this,this.logger),this.verify=new Fi(this,this.logger,this.storage),this.echoClient=new Ki(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Vi(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Te(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(jt,i),t}get context(){return (0,_walletconnect_logger__WEBPACK_IMPORTED_MODULE_3__.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Fe,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Fe)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=\"\"){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn(\"Failed to get global WalletConnect core\",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||\"\"}`;globalThis[i]=e}catch(i){console.warn(\"Failed to set global WalletConnect core\",i)}}isGlobalCoreDisabled(){try{return typeof process<\"u\"&&process.env.DISABLE_GLOBAL_CORE===\"true\"}catch{return!0}}}const Zo=Te;\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHdhbGxldGNvbm5lY3QrY29yZUAyLjIxLjRfdHlwZXNjcmlwdEA1LjUuNF96b2RAMy4yNS43NS9ub2RlX21vZHVsZXMvQHdhbGxldGNvbm5lY3QvY29yZS9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW83RSxrQ0FBa0MsR0FBRyxLQUFLLEdBQUcsT0FBTyx1QkFBdUIsS0FBSyxvQkFBb0IseUNBQXlDLHdEQUFFLGtEQUFrRCwwREFBRSx1RkFBdUYsa1FBQWtRLHVCQUF1QiwwRUFBMEUsV0FBVyxvQkFBb0IsdUJBQXVCLG9DQUFvQyxLQUFLLHNDQUFzQyw0RUFBNEUsZ01BQWdNLElBQUksNERBQUUsK0JBQStCLDZEQUFFLDhCQUE4Qiw0REFBRSxLQUFLLGtCQUFrQixLQUFLLElBQUksd0RBQUUsbUJBQW1CLE1BQU0sSUFBSSx3REFBRSxxQkFBcUIsaUJBQWlCLEtBQUssSUFBSSwrREFBRSxvQkFBb0IsTUFBTSxJQUFJLCtEQUFFLHFCQUFxQixzQkFBc0IsS0FBSyxJQUFJLHdEQUFFLGlCQUFpQixNQUFNLElBQUksd0RBQUUsbUJBQW1CLEtBQUssNEZBQTRGLElBQUksa0dBQWtHLHVDQUF1QyxrR0FBa0csYUFBYSx3REFBRSx5R0FBeUcsR0FBRyxtRkFBbUYsd2hCQUF3aEIsSUFBSSxvWUFBb1ksS0FBSyw4bEJBQThsQixLQUFLLGtjQUFrYyxLQUFLLHN2QkFBc3ZCLEtBQUssc3FCQUFzcUIsNkVBQTZFLGlCQUFpQiwwREFBMEQsa0NBQWtDLFdBQVcsYUFBYSxZQUFZLFdBQVcsS0FBSyxvQ0FBb0MscURBQXFELE9BQU8scUZBQXFGLGNBQWMsd05BQXdOLHlCQUF5QiwrQkFBK0IsZ0JBQWdCLFNBQVMsNENBQTRDLE1BQU0sRUFBRSx5QkFBeUIscUJBQXFCLCtDQUErQywyQ0FBMkMsUUFBUSxjQUFjLGdCQUFnQixLQUFLLHVCQUF1QixJQUFJLHVCQUF1QixVQUFVLGNBQWMsNkRBQTZELHNDQUFzQyxRQUFRLGVBQWUsZ0JBQWdCLFNBQVMsU0FBUyxtREFBbUQsS0FBSyxFQUFFLHlCQUF5QixrQkFBa0Isa0JBQWtCLHFCQUFxQixpREFBaUQsMkNBQTJDLFFBQVEsZUFBZSxjQUFjLGdCQUFnQixLQUFLLHVDQUF1QyxNQUFNLGdCQUFnQixXQUFXLGNBQWMsV0FBVyxjQUFjLHVCQUF1QixHQUFHLFlBQVksT0FBTyxrQ0FBa0MsZ0JBQWdCLGFBQWEsdUVBQXVFLHFEQUFxRCxtRkFBbUYscURBQXFELHFFQUFxRSxTQUFTLG1CQUFtQiw0Q0FBNEMsVUFBVSxvQ0FBb0MsWUFBWSxFQUFFLG1CQUFtQixFQUFFLGtEQUFrRCxTQUFTLG1CQUFtQixtR0FBbUcsd0RBQXdELFVBQVUsdUJBQXVCLDRGQUE0RixrQkFBa0IsSUFBSSxXQUFXLDZDQUE2QyxZQUFZLEdBQUcsb0RBQW9ELHNEQUFzRCxNQUFNLG1CQUFtQixTQUFTLGVBQWUsZ0JBQWdCLE1BQU0sa0JBQWtCLFVBQVUsZ0NBQWdDLHdCQUF3QixzREFBc0Qsa0JBQWtCLDhCQUE4Qiw0QkFBNEIsaUJBQWlCLHdCQUF3QixnQkFBZ0IsYUFBYSxpQkFBaUIsY0FBYyxFQUFFLFNBQVMscUJBQXFCLG9IQUFvSCxVQUFVLDhCQUE4QixVQUFVLCtCQUErQixXQUFXLGtDQUFrQyx3QkFBd0IsMkJBQTJCLElBQUksTUFBTSxrQkFBa0IsU0FBUyxXQUFXLDRDQUE0QyxFQUFFLGdCQUFnQixXQUFXLFlBQVksV0FBVyxjQUFjLGVBQWUsS0FBSyxhQUFhLEtBQUssZ0NBQWdDLGdCQUFnQixZQUFZLElBQUksS0FBSyxnQkFBZ0IsMkNBQTJDLEdBQUcsWUFBWSwyQ0FBMkMsb0VBQW9FLFNBQVMsY0FBYyx1Q0FBdUMsaUJBQWlCLFlBQVksV0FBVyx5QkFBeUIsSUFBSSxtQkFBbUIsOEJBQThCLGFBQWEsUUFBUSxTQUFTLEtBQUsseUNBQXlDLE9BQU8sMEJBQTBCLGlCQUFpQixXQUFXLG9CQUFvQixTQUFTLDREQUE0RCxFQUFFLHNCQUFzQiwyQkFBMkIsRUFBRSxZQUFZLG9EQUFvRCxFQUFFLHNCQUFzQix3QkFBd0IsRUFBRSxZQUFZLDBEQUEwRCxFQUFFLHNCQUFzQix3QkFBd0IsRUFBRSxhQUFhLCtDQUErQyxFQUFFLHNCQUFzQix5QkFBeUIsRUFBRSxZQUFZLG1FQUFtRSxRQUFRLHdFQUF3RSxFQUFFLHNCQUFzQix3Q0FBd0MsRUFBRSxZQUFZLG1GQUFtRixRQUFRLHdGQUF3RixRQUFRLHVGQUF1RixRQUFRLDRGQUE0RixRQUFRLHNGQUFzRixRQUFRLDJGQUEyRixRQUFRLDBGQUEwRixRQUFRLCtGQUErRixRQUFRLG9GQUFvRixFQUFFLHNCQUFzQixzSkFBc0osRUFBRSxhQUFhLHlFQUF5RSxTQUFTLDhFQUE4RSxFQUFFLHNCQUFzQix3Q0FBd0MsRUFBRSxhQUFhLGtHQUFrRyxTQUFTLHFHQUFxRyxFQUFFLHNCQUFzQiw0Q0FBNEMsRUFBRSxZQUFZLG1IQUFtSCxRQUFRLHVIQUF1SCxRQUFRLHNIQUFzSCxRQUFRLDBIQUEwSCxFQUFFLHNCQUFzQixtRUFBbUUsRUFBRSx3QkFBd0IsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sZUFBZSxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sU0FBUyxNQUFNLEdBQUcsTUFBTSxlQUFlLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLHFCQUFxQixNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLFNBQVMsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxTQUFTLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxHQUFHLE1B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QXNJLFFBQVEsaUlBQWlJLHlDQUF5QyxHQUFHLGNBQWMsMEVBQUMsaUNBQWlDLCtEQUFFLDRLQUE0SyxzRUFBRSxTQUFTLDhDQUE4Qyw2RUFBNkUsc1FBQXNRLHFCQUFxQixrQkFBa0IscUJBQXFCLHFDQUFxQyx1Q0FBdUMsY0FBYyxPQUFPLHVFQUFDLGNBQWMsY0FBYywwQ0FBMEMsb0JBQW9CLE1BQU0sNkRBQTZELHlDQUF5QyxFQUFFLGlDQUFpQyx1SUFBdUksbUJBQW1CLGlDQUFpQyxJQUFJLCtSQUErUixTQUFTLCtEQUErRCxXQUFXLHFDQUFxQyxvQkFBb0IsSUFBSSxzQ0FBc0MsOEJBQThCLEVBQUUsT0FBTyxFQUFFLFFBQVEsd01BQXdNLGVBQWUsdUJBQXVCLFNBQVMsMERBQTBELFFBQVEsaUJBQWlCLE1BQU0sSUFBSSxzQ0FBc0MsOEJBQThCLG9EQUFvRCxFQUFFLGdCQUFnQixTQUFTLDJEQUEyRCx1QkFBdUIsSUFBSSxvRUFBb0UsTUFBTSxXQUFXLFlBQWc3RDtBQUM5MjJGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQtbmV4dC8uL25vZGVfbW9kdWxlcy8ucG5wbS9Ad2FsbGV0Y29ubmVjdCtjb3JlQDIuMjEuNF90eXBlc2NyaXB0QDUuNS40X3pvZEAzLjI1Ljc1L25vZGVfbW9kdWxlcy9Ad2FsbGV0Y29ubmVjdC9jb3JlL2Rpc3QvaW5kZXguZXMuanM/NDMwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV2kse0V2ZW50RW1pdHRlciBhcyBlZX1mcm9tXCJldmVudHNcIjtpbXBvcnR7SEVBUlRCRUFUX0VWRU5UUyBhcyB0ZSxIZWFydEJlYXQgYXMgSGl9ZnJvbVwiQHdhbGxldGNvbm5lY3QvaGVhcnRiZWF0XCI7aW1wb3J0IFlpIGZyb21cIkB3YWxsZXRjb25uZWN0L2tleXZhbHVlc3RvcmFnZVwiO2ltcG9ydHtnZW5lcmF0ZUNoaWxkTG9nZ2VyIGFzIE4sZ2V0TG9nZ2VyQ29udGV4dCBhcyBVLHBpbm8gYXMgSmksZ2V0RGVmYXVsdExvZ2dlck9wdGlvbnMgYXMgZXQsZ2VuZXJhdGVQbGF0Zm9ybUxvZ2dlciBhcyBYaX1mcm9tXCJAd2FsbGV0Y29ubmVjdC9sb2dnZXJcIjtpbXBvcnR7SU1lc3NhZ2VUcmFja2VyIGFzIFppLElQdWJsaXNoZXIgYXMgUWksSVN1YnNjcmliZXIgYXMgZXMsSVJlbGF5ZXIgYXMgdHMsSVN0b3JlIGFzIGlzLElKc29uUnBjSGlzdG9yeSBhcyBzcyxJRXhwaXJlciBhcyBycyxJVmVyaWZ5IGFzIG5zLElFY2hvQ2xpZW50IGFzIG9zLElFdmVudENsaWVudCBhcyBhcyxJQ29yZSBhcyBjc31mcm9tXCJAd2FsbGV0Y29ubmVjdC90eXBlc1wiO2ltcG9ydHtPTkVfREFZIGFzIGllLFNJWF9IT1VSUyBhcyBocyxUSElSVFlfREFZUyBhcyBDZSxGSVZFX1NFQ09ORFMgYXMgUGUsVEhJUlRZX1NFQ09ORFMgYXMgU2UsdG9NaWxpc2Vjb25kcyBhcyBSLE9ORV9NSU5VVEUgYXMgdHQsT05FX1NFQ09ORCBhcyBaLEZJVkVfTUlOVVRFUyBhcyBmZSxmcm9tTWlsaXNlY29uZHMgYXMgaXR9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdGltZVwiO2ltcG9ydHtzYWZlSnNvblN0cmluZ2lmeSBhcyBscyxzYWZlSnNvblBhcnNlIGFzIHN0fWZyb21cIkB3YWxsZXRjb25uZWN0L3NhZmUtanNvblwiO2ltcG9ydCphcyBEZSBmcm9tXCJAd2FsbGV0Y29ubmVjdC9yZWxheS1hdXRoXCI7aW1wb3J0e2RlY29kZUpXVCBhcyBydH1mcm9tXCJAd2FsbGV0Y29ubmVjdC9yZWxheS1hdXRoXCI7aW1wb3J0e21hcFRvT2JqIGFzIE9lLG9ialRvTWFwIGFzIFJlLGdldEludGVybmFsRXJyb3IgYXMgbSxnZW5lcmF0ZVJhbmRvbUJ5dGVzMzIgYXMgQWUsZ2VuZXJhdGVLZXlQYWlyIGFzIHVzLGRlcml2ZVN5bUtleSBhcyBkcyxoYXNoS2V5IGFzIGdzLHZhbGlkYXRlRW5jb2RpbmcgYXMgcHMsaXNUeXBlVHdvRW52ZWxvcGUgYXMgbnQsZW5jb2RlVHlwZVR3b0VudmVsb3BlIGFzIHlzLGlzVHlwZU9uZUVudmVsb3BlIGFzIG90LGVuY3J5cHQgYXMgYnMsdmFsaWRhdGVEZWNvZGluZyBhcyBtcyxkZWNvZGVUeXBlVHdvRW52ZWxvcGUgYXMgZnMsZGVjcnlwdCBhcyBEcyxkZXNlcmlhbGl6ZSBhcyBhdCxkZWNvZGVUeXBlQnl0ZSBhcyB2cyxCQVNFNjQgYXMgY3QsQkFTRTE2IGFzIHdzLGhhc2hNZXNzYWdlIGFzIHZlLGdldFJlbGF5UHJvdG9jb2xBcGkgYXMgb2UsZ2V0UmVsYXlQcm90b2NvbE5hbWUgYXMgd2UsaXNVbmRlZmluZWQgYXMgeGUsY3JlYXRlRXhwaXJpbmdQcm9taXNlIGFzIFgsZ2V0U2RrRXJyb3IgYXMgYWUsc2xlZXAgYXMgX3MsaXNBbmRyb2lkIGFzIEVzLGdldEFwcElkIGFzIGh0LGlzSW9zIGFzIElzLGlzT25saW5lIGFzIGx0LGNhbGNFeHBpcnkgYXMgY2UsaXNOb2RlIGFzIHV0LGZvcm1hdFJlbGF5UnBjVXJsIGFzIFRzLHN1YnNjcmliZVRvTmV0d29ya0NoYW5nZSBhcyBDcyxpc0FwcFZpc2libGUgYXMgUHMsaXNQcm9wb3NhbFN0cnVjdCBhcyBTcyxpc1Nlc3Npb25TdHJ1Y3QgYXMgT3MscGFyc2VFeHBpcmVyVGFyZ2V0IGFzIFJzLFRZUEVfMSBhcyBBcyxmb3JtYXRVcmkgYXMgZHQscGFyc2VVcmkgYXMgZ3QsY3JlYXRlRGVsYXllZFByb21pc2UgYXMgeHMsZW5naW5lRXZlbnQgYXMgTmUsaXNFeHBpcmVkIGFzIHB0LGlzVmFsaWRQYXJhbXMgYXMgJGUsaXNWYWxpZFVybCBhcyBOcyxpc1ZhbGlkU3RyaW5nIGFzICRzLGZvcm1hdFRvcGljVGFyZ2V0IGFzIHpzLGZvcm1hdElkVGFyZ2V0IGFzIExzLGlzVGVzdFJ1biBhcyB5dCxpc0Jyb3dzZXIgYXMga3MsdmVyaWZ5UDI1Nkp3dCBhcyBqcyx1dWlkdjQgYXMgYnQsZm9ybWF0VUEgYXMgVXMsZ2V0QXBwTWV0YWRhdGEgYXMgRnN9ZnJvbVwiQHdhbGxldGNvbm5lY3QvdXRpbHNcIjtpbXBvcnR7dG9TdHJpbmcgYXMgTXN9ZnJvbVwidWludDhhcnJheXNcIjtpbXBvcnR7SnNvblJwY1Byb3ZpZGVyIGFzIEtzfWZyb21cIkB3YWxsZXRjb25uZWN0L2pzb25ycGMtcHJvdmlkZXJcIjtpbXBvcnR7Z2V0QmlnSW50UnBjSWQgYXMgbXQsaXNKc29uUnBjUmVxdWVzdCBhcyBmdCxpc0pzb25ScGNSZXNwb25zZSBhcyBEdCxmb3JtYXRKc29uUnBjUmVzdWx0IGFzIHZ0LGZvcm1hdEpzb25ScGNSZXF1ZXN0IGFzIHd0LGZvcm1hdEpzb25ScGNFcnJvciBhcyBCcyxpc0pzb25ScGNSZXN1bHQgYXMgVnMsaXNKc29uUnBjRXJyb3IgYXMgX3R9ZnJvbVwiQHdhbGxldGNvbm5lY3QvanNvbnJwYy11dGlsc1wiO2ltcG9ydCBxcyBmcm9tXCJAd2FsbGV0Y29ubmVjdC9qc29ucnBjLXdzLWNvbm5lY3Rpb25cIjtpbXBvcnR7Z2V0RG9jdW1lbnQgYXMgR3N9ZnJvbVwiQHdhbGxldGNvbm5lY3Qvd2luZG93LWdldHRlcnNcIjtjb25zdCB6ZT1cIndjXCIsTGU9MixoZT1cImNvcmVcIixCPWAke3plfUAyOiR7aGV9OmAsRXQ9e25hbWU6aGUsbG9nZ2VyOlwiZXJyb3JcIn0sSXQ9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sVHQ9XCJjcnlwdG9cIixrZT1cImNsaWVudF9lZDI1NTE5X3NlZWRcIixDdD1pZSxQdD1cImtleWNoYWluXCIsU3Q9XCIwLjNcIixPdD1cIm1lc3NhZ2VzXCIsUnQ9XCIwLjNcIixqZT1ocyxBdD1cInB1Ymxpc2hlclwiLHh0PVwiaXJuXCIsTnQ9XCJlcnJvclwiLFVlPVwid3NzOi8vcmVsYXkud2FsbGV0Y29ubmVjdC5vcmdcIiwkdD1cInJlbGF5ZXJcIixDPXttZXNzYWdlOlwicmVsYXllcl9tZXNzYWdlXCIsbWVzc2FnZV9hY2s6XCJyZWxheWVyX21lc3NhZ2VfYWNrXCIsY29ubmVjdDpcInJlbGF5ZXJfY29ubmVjdFwiLGRpc2Nvbm5lY3Q6XCJyZWxheWVyX2Rpc2Nvbm5lY3RcIixlcnJvcjpcInJlbGF5ZXJfZXJyb3JcIixjb25uZWN0aW9uX3N0YWxsZWQ6XCJyZWxheWVyX2Nvbm5lY3Rpb25fc3RhbGxlZFwiLHRyYW5zcG9ydF9jbG9zZWQ6XCJyZWxheWVyX3RyYW5zcG9ydF9jbG9zZWRcIixwdWJsaXNoOlwicmVsYXllcl9wdWJsaXNoXCJ9LHp0PVwiX3N1YnNjcmlwdGlvblwiLEw9e3BheWxvYWQ6XCJwYXlsb2FkXCIsY29ubmVjdDpcImNvbm5lY3RcIixkaXNjb25uZWN0OlwiZGlzY29ubmVjdFwiLGVycm9yOlwiZXJyb3JcIn0sTHQ9LjEsV3M9e2RhdGFiYXNlOlwiOm1lbW9yeTpcIn0sX2U9XCIyLjIxLjRcIixIcz0xZTQsUT17bGlua19tb2RlOlwibGlua19tb2RlXCIscmVsYXk6XCJyZWxheVwifSxsZT17aW5ib3VuZDpcImluYm91bmRcIixvdXRib3VuZDpcIm91dGJvdW5kXCJ9LGt0PVwiMC4zXCIsanQ9XCJXQUxMRVRDT05ORUNUX0NMSUVOVF9JRFwiLEZlPVwiV0FMTEVUQ09OTkVDVF9MSU5LX01PREVfQVBQU1wiLCQ9e2NyZWF0ZWQ6XCJzdWJzY3JpcHRpb25fY3JlYXRlZFwiLGRlbGV0ZWQ6XCJzdWJzY3JpcHRpb25fZGVsZXRlZFwiLGV4cGlyZWQ6XCJzdWJzY3JpcHRpb25fZXhwaXJlZFwiLGRpc2FibGVkOlwic3Vic2NyaXB0aW9uX2Rpc2FibGVkXCIsc3luYzpcInN1YnNjcmlwdGlvbl9zeW5jXCIscmVzdWJzY3JpYmVkOlwic3Vic2NyaXB0aW9uX3Jlc3Vic2NyaWJlZFwifSxZcz1DZSxVdD1cInN1YnNjcmlwdGlvblwiLEZ0PVwiMC4zXCIsSnM9UGUqMWUzLE10PVwicGFpcmluZ1wiLEt0PVwiMC4zXCIsWHM9Q2Usc2U9e3djX3BhaXJpbmdEZWxldGU6e3JlcTp7dHRsOmllLHByb21wdDohMSx0YWc6MWUzfSxyZXM6e3R0bDppZSxwcm9tcHQ6ITEsdGFnOjEwMDF9fSx3Y19wYWlyaW5nUGluZzp7cmVxOnt0dGw6U2UscHJvbXB0OiExLHRhZzoxMDAyfSxyZXM6e3R0bDpTZSxwcm9tcHQ6ITEsdGFnOjEwMDN9fSx1bnJlZ2lzdGVyZWRfbWV0aG9kOntyZXE6e3R0bDppZSxwcm9tcHQ6ITEsdGFnOjB9LHJlczp7dHRsOmllLHByb21wdDohMSx0YWc6MH19fSxyZT17Y3JlYXRlOlwicGFpcmluZ19jcmVhdGVcIixleHBpcmU6XCJwYWlyaW5nX2V4cGlyZVwiLGRlbGV0ZTpcInBhaXJpbmdfZGVsZXRlXCIscGluZzpcInBhaXJpbmdfcGluZ1wifSxGPXtjcmVhdGVkOlwiaGlzdG9yeV9jcmVhdGVkXCIsdXBkYXRlZDpcImhpc3RvcnlfdXBkYXRlZFwiLGRlbGV0ZWQ6XCJoaXN0b3J5X2RlbGV0ZWRcIixzeW5jOlwiaGlzdG9yeV9zeW5jXCJ9LEJ0PVwiaGlzdG9yeVwiLFZ0PVwiMC4zXCIscXQ9XCJleHBpcmVyXCIsTT17Y3JlYXRlZDpcImV4cGlyZXJfY3JlYXRlZFwiLGRlbGV0ZWQ6XCJleHBpcmVyX2RlbGV0ZWRcIixleHBpcmVkOlwiZXhwaXJlcl9leHBpcmVkXCIsc3luYzpcImV4cGlyZXJfc3luY1wifSxHdD1cIjAuM1wiLFpzPWllLFd0PVwidmVyaWZ5LWFwaVwiLFFzPVwiaHR0cHM6Ly92ZXJpZnkud2FsbGV0Y29ubmVjdC5jb21cIixIdD1cImh0dHBzOi8vdmVyaWZ5LndhbGxldGNvbm5lY3Qub3JnXCIsdWU9SHQsWXQ9YCR7dWV9L3YzYCxKdD1bUXMsSHRdLFh0PVwiZWNob1wiLFp0PVwiaHR0cHM6Ly9lY2hvLndhbGxldGNvbm5lY3QuY29tXCIsZXI9XCJldmVudC1jbGllbnRcIixHPXtwYWlyaW5nX3N0YXJ0ZWQ6XCJwYWlyaW5nX3N0YXJ0ZWRcIixwYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3M6XCJwYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3NcIixwYWlyaW5nX3VyaV9ub3RfZXhwaXJlZDpcInBhaXJpbmdfdXJpX25vdF9leHBpcmVkXCIsc3RvcmVfbmV3X3BhaXJpbmc6XCJzdG9yZV9uZXdfcGFpcmluZ1wiLHN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWM6XCJzdWJzY3JpYmluZ19wYWlyaW5nX3RvcGljXCIsc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfc3VjY2VzczpcInN1YnNjcmliZV9wYWlyaW5nX3RvcGljX3N1Y2Nlc3NcIixleGlzdGluZ19wYWlyaW5nOlwiZXhpc3RpbmdfcGFpcmluZ1wiLHBhaXJpbmdfbm90X2V4cGlyZWQ6XCJwYWlyaW5nX25vdF9leHBpcmVkXCIsZW1pdF9pbmFjdGl2ZV9wYWlyaW5nOlwiZW1pdF9pbmFjdGl2ZV9wYWlyaW5nXCIsZW1pdF9zZXNzaW9uX3Byb3Bvc2FsOlwiZW1pdF9zZXNzaW9uX3Byb3Bvc2FsXCIsc3Vic2NyaWJpbmdfdG9fcGFpcmluZ190b3BpYzpcInN1YnNjcmliaW5nX3RvX3BhaXJpbmdfdG9waWNcIn0sWT17bm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLG5vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbWFsZm9ybWVkX3BhaXJpbmdfdXJpOlwibWFsZm9ybWVkX3BhaXJpbmdfdXJpXCIsYWN0aXZlX3BhaXJpbmdfYWxyZWFkeV9leGlzdHM6XCJhY3RpdmVfcGFpcmluZ19hbHJlYWR5X2V4aXN0c1wiLHN1YnNjcmliZV9wYWlyaW5nX3RvcGljX2ZhaWx1cmU6XCJzdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlXCIscGFpcmluZ19leHBpcmVkOlwicGFpcmluZ19leHBpcmVkXCIscHJvcG9zYWxfZXhwaXJlZDpcInByb3Bvc2FsX2V4cGlyZWRcIixwcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmQ6XCJwcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmRcIn0sdHI9e3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkOlwic2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRcIixwcm9wb3NhbF9ub3RfZXhwaXJlZDpcInByb3Bvc2FsX25vdF9leHBpcmVkXCIsc2Vzc2lvbl9uYW1lc3BhY2VzX3ZhbGlkYXRpb25fc3VjY2VzczpcInNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3NcIixjcmVhdGVfc2Vzc2lvbl90b3BpYzpcImNyZWF0ZV9zZXNzaW9uX3RvcGljXCIsc3Vic2NyaWJpbmdfc2Vzc2lvbl90b3BpYzpcInN1YnNjcmliaW5nX3Nlc3Npb25fdG9waWNcIixzdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19zdWNjZXNzOlwic3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2Vzc1wiLHB1Ymxpc2hpbmdfc2Vzc2lvbl9hcHByb3ZlOlwicHVibGlzaGluZ19zZXNzaW9uX2FwcHJvdmVcIixzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzOlwic2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2Vzc1wiLHN0b3JlX3Nlc3Npb246XCJzdG9yZV9zZXNzaW9uXCIscHVibGlzaGluZ19zZXNzaW9uX3NldHRsZTpcInB1Ymxpc2hpbmdfc2Vzc2lvbl9zZXR0bGVcIixzZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3M6XCJzZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3NcIn0saXI9e25vX2ludGVybmV0X2Nvbm5lY3Rpb246XCJub19pbnRlcm5ldF9jb25uZWN0aW9uXCIsbm9fd3NzX2Nvbm5lY3Rpb246XCJub193c3NfY29ubmVjdGlvblwiLHByb3Bvc2FsX2V4cGlyZWQ6XCJwcm9wb3NhbF9leHBpcmVkXCIsc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZTpcInN1YnNjcmliZV9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIixzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZTpcInNlc3Npb25fc2V0dGxlX3B1Ymxpc2hfZmFpbHVyZVwiLHNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlOlwic2Vzc2lvbl9hcHByb3ZlX25hbWVzcGFjZV92YWxpZGF0aW9uX2ZhaWx1cmVcIixwcm9wb3NhbF9ub3RfZm91bmQ6XCJwcm9wb3NhbF9ub3RfZm91bmRcIn0sc3I9e2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQ6XCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkXCIsYXV0aGVudGljYXRlZF9zZXNzaW9uX25vdF9leHBpcmVkOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX25vdF9leHBpcmVkXCIsY2hhaW5zX2NhaXAyX2NvbXBsaWFudDpcImNoYWluc19jYWlwMl9jb21wbGlhbnRcIixjaGFpbnNfZXZtX2NvbXBsaWFudDpcImNoYWluc19ldm1fY29tcGxpYW50XCIsY3JlYXRlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYzpcImNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNcIixjYWNhb3NfdmVyaWZpZWQ6XCJjYWNhb3NfdmVyaWZpZWRcIixzdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb246XCJzdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25cIixzdWJzY3JpYmluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWM6XCJzdWJzY3JpYmluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNcIixzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3M6XCJzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3NcIixwdWJsaXNoaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlOlwicHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZVwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2VzczpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfc3VjY2Vzc1wifSxycj17bm9faW50ZXJuZXRfY29ubmVjdGlvbjpcIm5vX2ludGVybmV0X2Nvbm5lY3Rpb25cIixub193c3NfY29ubmVjdGlvbjpcIm5vX3dzc19jb25uZWN0aW9uXCIsbWlzc2luZ19zZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0OlwibWlzc2luZ19zZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0XCIsc2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdF9leHBpcmVkOlwic2Vzc2lvbl9hdXRoZW50aWNhdGVfcmVxdWVzdF9leHBpcmVkXCIsY2hhaW5zX2NhaXAyX2NvbXBsaWFudF9mYWlsdXJlOlwiY2hhaW5zX2NhaXAyX2NvbXBsaWFudF9mYWlsdXJlXCIsY2hhaW5zX2V2bV9jb21wbGlhbnRfZmFpbHVyZTpcImNoYWluc19ldm1fY29tcGxpYW50X2ZhaWx1cmVcIixpbnZhbGlkX2NhY2FvOlwiaW52YWxpZF9jYWNhb1wiLHN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZTpcInN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZVwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZTpcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kOlwiYXV0aGVudGljYXRlZF9zZXNzaW9uX3BlbmRpbmdfcmVxdWVzdF9ub3RfZm91bmRcIn0sUXQ9LjEsZWk9XCJldmVudC1jbGllbnRcIix0aT04NjQwMCxpaT1cImh0dHBzOi8vcHVsc2Uud2FsbGV0Y29ubmVjdC5vcmcvYmF0Y2hcIjtmdW5jdGlvbiBucihyLGUpe2lmKHIubGVuZ3RoPj0yNTUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFscGhhYmV0IHRvbyBsb25nXCIpO2Zvcih2YXIgdD1uZXcgVWludDhBcnJheSgyNTYpLGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldPTI1NTtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG49ci5jaGFyQXQocyksbz1uLmNoYXJDb2RlQXQoMCk7aWYodFtvXSE9PTI1NSl0aHJvdyBuZXcgVHlwZUVycm9yKG4rXCIgaXMgYW1iaWd1b3VzXCIpO3Rbb109c312YXIgYT1yLmxlbmd0aCxjPXIuY2hhckF0KDApLGg9TWF0aC5sb2coYSkvTWF0aC5sb2coMjU2KSxsPU1hdGgubG9nKDI1NikvTWF0aC5sb2coYSk7ZnVuY3Rpb24gZCh1KXtpZih1IGluc3RhbmNlb2YgVWludDhBcnJheXx8KEFycmF5QnVmZmVyLmlzVmlldyh1KT91PW5ldyBVaW50OEFycmF5KHUuYnVmZmVyLHUuYnl0ZU9mZnNldCx1LmJ5dGVMZW5ndGgpOkFycmF5LmlzQXJyYXkodSkmJih1PVVpbnQ4QXJyYXkuZnJvbSh1KSkpLCEodSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBVaW50OEFycmF5XCIpO2lmKHUubGVuZ3RoPT09MClyZXR1cm5cIlwiO2Zvcih2YXIgYj0wLHg9MCxJPTAsRD11Lmxlbmd0aDtJIT09RCYmdVtJXT09PTA7KUkrKyxiKys7Zm9yKHZhciBqPShELUkpKmwrMT4+PjAsVD1uZXcgVWludDhBcnJheShqKTtJIT09RDspe2Zvcih2YXIgcT11W0ldLEo9MCxLPWotMTsocSE9PTB8fEo8eCkmJkshPT0tMTtLLS0sSisrKXErPTI1NipUW0tdPj4+MCxUW0tdPXElYT4+PjAscT1xL2E+Pj4wO2lmKHEhPT0wKXRocm93IG5ldyBFcnJvcihcIk5vbi16ZXJvIGNhcnJ5XCIpO3g9SixJKyt9Zm9yKHZhciBIPWoteDtIIT09aiYmVFtIXT09PTA7KUgrKztmb3IodmFyIG1lPWMucmVwZWF0KGIpO0g8ajsrK0gpbWUrPXIuY2hhckF0KFRbSF0pO3JldHVybiBtZX1mdW5jdGlvbiBnKHUpe2lmKHR5cGVvZiB1IT1cInN0cmluZ1wiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBTdHJpbmdcIik7aWYodS5sZW5ndGg9PT0wKXJldHVybiBuZXcgVWludDhBcnJheTt2YXIgYj0wO2lmKHVbYl0hPT1cIiBcIil7Zm9yKHZhciB4PTAsST0wO3VbYl09PT1jOyl4KyssYisrO2Zvcih2YXIgRD0odS5sZW5ndGgtYikqaCsxPj4+MCxqPW5ldyBVaW50OEFycmF5KEQpO3VbYl07KXt2YXIgVD10W3UuY2hhckNvZGVBdChiKV07aWYoVD09PTI1NSlyZXR1cm47Zm9yKHZhciBxPTAsSj1ELTE7KFQhPT0wfHxxPEkpJiZKIT09LTE7Si0tLHErKylUKz1hKmpbSl0+Pj4wLGpbSl09VCUyNTY+Pj4wLFQ9VC8yNTY+Pj4wO2lmKFQhPT0wKXRocm93IG5ldyBFcnJvcihcIk5vbi16ZXJvIGNhcnJ5XCIpO0k9cSxiKyt9aWYodVtiXSE9PVwiIFwiKXtmb3IodmFyIEs9RC1JO0shPT1EJiZqW0tdPT09MDspSysrO2Zvcih2YXIgSD1uZXcgVWludDhBcnJheSh4KyhELUspKSxtZT14O0shPT1EOylIW21lKytdPWpbSysrXTtyZXR1cm4gSH19fWZ1bmN0aW9uIF8odSl7dmFyIGI9Zyh1KTtpZihiKXJldHVybiBiO3Rocm93IG5ldyBFcnJvcihgTm9uLSR7ZX0gY2hhcmFjdGVyYCl9cmV0dXJue2VuY29kZTpkLGRlY29kZVVuc2FmZTpnLGRlY29kZTpffX12YXIgb3I9bnIsYXI9b3I7Y29uc3Qgc2k9cj0+e2lmKHIgaW5zdGFuY2VvZiBVaW50OEFycmF5JiZyLmNvbnN0cnVjdG9yLm5hbWU9PT1cIlVpbnQ4QXJyYXlcIilyZXR1cm4gcjtpZihyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIG5ldyBVaW50OEFycmF5KHIpO2lmKEFycmF5QnVmZmVyLmlzVmlldyhyKSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoci5idWZmZXIsci5ieXRlT2Zmc2V0LHIuYnl0ZUxlbmd0aCk7dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfSxjcj1yPT5uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUociksaHI9cj0+bmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHIpO2NsYXNzIGxye2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLm5hbWU9ZSx0aGlzLnByZWZpeD10LHRoaXMuYmFzZUVuY29kZT1pfWVuY29kZShlKXtpZihlIGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm5gJHt0aGlzLnByZWZpeH0ke3RoaXMuYmFzZUVuY29kZShlKX1gO3Rocm93IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpfX1jbGFzcyB1cntjb25zdHJ1Y3RvcihlLHQsaSl7aWYodGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0LmNvZGVQb2ludEF0KDApPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJlZml4IGNoYXJhY3RlclwiKTt0aGlzLnByZWZpeENvZGVQb2ludD10LmNvZGVQb2ludEF0KDApLHRoaXMuYmFzZURlY29kZT1pfWRlY29kZShlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIil7aWYoZS5jb2RlUG9pbnRBdCgwKSE9PXRoaXMucHJlZml4Q29kZVBvaW50KXRocm93IEVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sICR7dGhpcy5uYW1lfSBkZWNvZGVyIG9ubHkgc3VwcG9ydHMgaW5wdXRzIHByZWZpeGVkIHdpdGggJHt0aGlzLnByZWZpeH1gKTtyZXR1cm4gdGhpcy5iYXNlRGVjb2RlKGUuc2xpY2UodGhpcy5wcmVmaXgubGVuZ3RoKSl9ZWxzZSB0aHJvdyBFcnJvcihcIkNhbiBvbmx5IG11bHRpYmFzZSBkZWNvZGUgc3RyaW5nc1wiKX1vcihlKXtyZXR1cm4gcmkodGhpcyxlKX19Y2xhc3MgZHJ7Y29uc3RydWN0b3IoZSl7dGhpcy5kZWNvZGVycz1lfW9yKGUpe3JldHVybiByaSh0aGlzLGUpfWRlY29kZShlKXtjb25zdCB0PWVbMF0saT10aGlzLmRlY29kZXJzW3RdO2lmKGkpcmV0dXJuIGkuZGVjb2RlKGUpO3Rocm93IFJhbmdlRXJyb3IoYFVuYWJsZSB0byBkZWNvZGUgbXVsdGliYXNlIHN0cmluZyAke0pTT04uc3RyaW5naWZ5KGUpfSwgb25seSBpbnB1dHMgcHJlZml4ZWQgd2l0aCAke09iamVjdC5rZXlzKHRoaXMuZGVjb2RlcnMpfSBhcmUgc3VwcG9ydGVkYCl9fWNvbnN0IHJpPShyLGUpPT5uZXcgZHIoey4uLnIuZGVjb2RlcnN8fHtbci5wcmVmaXhdOnJ9LC4uLmUuZGVjb2RlcnN8fHtbZS5wcmVmaXhdOmV9fSk7Y2xhc3MgZ3J7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5uYW1lPWUsdGhpcy5wcmVmaXg9dCx0aGlzLmJhc2VFbmNvZGU9aSx0aGlzLmJhc2VEZWNvZGU9cyx0aGlzLmVuY29kZXI9bmV3IGxyKGUsdCxpKSx0aGlzLmRlY29kZXI9bmV3IHVyKGUsdCxzKX1lbmNvZGUoZSl7cmV0dXJuIHRoaXMuZW5jb2Rlci5lbmNvZGUoZSl9ZGVjb2RlKGUpe3JldHVybiB0aGlzLmRlY29kZXIuZGVjb2RlKGUpfX1jb25zdCBFZT0oe25hbWU6cixwcmVmaXg6ZSxlbmNvZGU6dCxkZWNvZGU6aX0pPT5uZXcgZ3IocixlLHQsaSksZGU9KHtwcmVmaXg6cixuYW1lOmUsYWxwaGFiZXQ6dH0pPT57Y29uc3R7ZW5jb2RlOmksZGVjb2RlOnN9PWFyKHQsZSk7cmV0dXJuIEVlKHtwcmVmaXg6cixuYW1lOmUsZW5jb2RlOmksZGVjb2RlOm49PnNpKHMobikpfSl9LHByPShyLGUsdCxpKT0+e2NvbnN0IHM9e307Zm9yKGxldCBsPTA7bDxlLmxlbmd0aDsrK2wpc1tlW2xdXT1sO2xldCBuPXIubGVuZ3RoO2Zvcig7cltuLTFdPT09XCI9XCI7KS0tbjtjb25zdCBvPW5ldyBVaW50OEFycmF5KG4qdC84fDApO2xldCBhPTAsYz0wLGg9MDtmb3IobGV0IGw9MDtsPG47KytsKXtjb25zdCBkPXNbcltsXV07aWYoZD09PXZvaWQgMCl0aHJvdyBuZXcgU3ludGF4RXJyb3IoYE5vbi0ke2l9IGNoYXJhY3RlcmApO2M9Yzw8dHxkLGErPXQsYT49OCYmKGEtPTgsb1toKytdPTI1NSZjPj5hKX1pZihhPj10fHwyNTUmYzw8OC1hKXRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgZW5kIG9mIGRhdGFcIik7cmV0dXJuIG99LHlyPShyLGUsdCk9Pntjb25zdCBpPWVbZS5sZW5ndGgtMV09PT1cIj1cIixzPSgxPDx0KS0xO2xldCBuPVwiXCIsbz0wLGE9MDtmb3IobGV0IGM9MDtjPHIubGVuZ3RoOysrYylmb3IoYT1hPDw4fHJbY10sbys9ODtvPnQ7KW8tPXQsbis9ZVtzJmE+Pm9dO2lmKG8mJihuKz1lW3MmYTw8dC1vXSksaSlmb3IoO24ubGVuZ3RoKnQmNzspbis9XCI9XCI7cmV0dXJuIG59LFA9KHtuYW1lOnIscHJlZml4OmUsYml0c1BlckNoYXI6dCxhbHBoYWJldDppfSk9PkVlKHtwcmVmaXg6ZSxuYW1lOnIsZW5jb2RlKHMpe3JldHVybiB5cihzLGksdCl9LGRlY29kZShzKXtyZXR1cm4gcHIocyxpLHQscil9fSksYnI9RWUoe3ByZWZpeDpcIlxcMFwiLG5hbWU6XCJpZGVudGl0eVwiLGVuY29kZTpyPT5ocihyKSxkZWNvZGU6cj0+Y3Iocil9KTt2YXIgbXI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaWRlbnRpdHk6YnJ9KTtjb25zdCBmcj1QKHtwcmVmaXg6XCIwXCIsbmFtZTpcImJhc2UyXCIsYWxwaGFiZXQ6XCIwMVwiLGJpdHNQZXJDaGFyOjF9KTt2YXIgRHI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTI6ZnJ9KTtjb25zdCB2cj1QKHtwcmVmaXg6XCI3XCIsbmFtZTpcImJhc2U4XCIsYWxwaGFiZXQ6XCIwMTIzNDU2N1wiLGJpdHNQZXJDaGFyOjN9KTt2YXIgd3I9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTg6dnJ9KTtjb25zdCBfcj1kZSh7cHJlZml4OlwiOVwiLG5hbWU6XCJiYXNlMTBcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlcIn0pO3ZhciBFcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMTA6X3J9KTtjb25zdCBJcj1QKHtwcmVmaXg6XCJmXCIsbmFtZTpcImJhc2UxNlwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OWFiY2RlZlwiLGJpdHNQZXJDaGFyOjR9KSxUcj1QKHtwcmVmaXg6XCJGXCIsbmFtZTpcImJhc2UxNnVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGXCIsYml0c1BlckNoYXI6NH0pO3ZhciBDcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMTY6SXIsYmFzZTE2dXBwZXI6VHJ9KTtjb25zdCBQcj1QKHtwcmVmaXg6XCJiXCIsbmFtZTpcImJhc2UzMlwiLGFscGhhYmV0OlwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoyMzQ1NjdcIixiaXRzUGVyQ2hhcjo1fSksU3I9UCh7cHJlZml4OlwiQlwiLG5hbWU6XCJiYXNlMzJ1cHBlclwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1NjdcIixiaXRzUGVyQ2hhcjo1fSksT3I9UCh7cHJlZml4OlwiY1wiLG5hbWU6XCJiYXNlMzJwYWRcIixhbHBoYWJldDpcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MjM0NTY3PVwiLGJpdHNQZXJDaGFyOjV9KSxScj1QKHtwcmVmaXg6XCJDXCIsbmFtZTpcImJhc2UzMnBhZHVwcGVyXCIsYWxwaGFiZXQ6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2Nz1cIixiaXRzUGVyQ2hhcjo1fSksQXI9UCh7cHJlZml4OlwidlwiLG5hbWU6XCJiYXNlMzJoZXhcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2XCIsYml0c1BlckNoYXI6NX0pLHhyPVAoe3ByZWZpeDpcIlZcIixuYW1lOlwiYmFzZTMyaGV4dXBwZXJcIixhbHBoYWJldDpcIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWXCIsYml0c1BlckNoYXI6NX0pLE5yPVAoe3ByZWZpeDpcInRcIixuYW1lOlwiYmFzZTMyaGV4cGFkXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dj1cIixiaXRzUGVyQ2hhcjo1fSksJHI9UCh7cHJlZml4OlwiVFwiLG5hbWU6XCJiYXNlMzJoZXhwYWR1cHBlclwiLGFscGhhYmV0OlwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVY9XCIsYml0c1BlckNoYXI6NX0pLHpyPVAoe3ByZWZpeDpcImhcIixuYW1lOlwiYmFzZTMyelwiLGFscGhhYmV0OlwieWJuZHJmZzhlamttY3BxeG90MXV3aXN6YTM0NWg3NjlcIixiaXRzUGVyQ2hhcjo1fSk7dmFyIExyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2UzMjpQcixiYXNlMzJ1cHBlcjpTcixiYXNlMzJwYWQ6T3IsYmFzZTMycGFkdXBwZXI6UnIsYmFzZTMyaGV4OkFyLGJhc2UzMmhleHVwcGVyOnhyLGJhc2UzMmhleHBhZDpOcixiYXNlMzJoZXhwYWR1cHBlcjokcixiYXNlMzJ6OnpyfSk7Y29uc3Qga3I9ZGUoe3ByZWZpeDpcImtcIixuYW1lOlwiYmFzZTM2XCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIn0pLGpyPWRlKHtwcmVmaXg6XCJLXCIsbmFtZTpcImJhc2UzNnVwcGVyXCIsYWxwaGFiZXQ6XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIn0pO3ZhciBVcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlMzY6a3IsYmFzZTM2dXBwZXI6anJ9KTtjb25zdCBGcj1kZSh7bmFtZTpcImJhc2U1OGJ0Y1wiLHByZWZpeDpcInpcIixhbHBoYWJldDpcIjEyMzQ1Njc4OUFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWmFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpcIn0pLE1yPWRlKHtuYW1lOlwiYmFzZTU4ZmxpY2tyXCIscHJlZml4OlwiWlwiLGFscGhhYmV0OlwiMTIzNDU2Nzg5YWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5ekFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWlwifSk7dmFyIEtyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGJhc2U1OGJ0YzpGcixiYXNlNThmbGlja3I6TXJ9KTtjb25zdCBCcj1QKHtwcmVmaXg6XCJtXCIsbmFtZTpcImJhc2U2NFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGJpdHNQZXJDaGFyOjZ9KSxWcj1QKHtwcmVmaXg6XCJNXCIsbmFtZTpcImJhc2U2NHBhZFwiLGFscGhhYmV0OlwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixiaXRzUGVyQ2hhcjo2fSkscXI9UCh7cHJlZml4OlwidVwiLG5hbWU6XCJiYXNlNjR1cmxcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV9cIixiaXRzUGVyQ2hhcjo2fSksR3I9UCh7cHJlZml4OlwiVVwiLG5hbWU6XCJiYXNlNjR1cmxwYWRcIixhbHBoYWJldDpcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV89XCIsYml0c1BlckNoYXI6Nn0pO3ZhciBXcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxiYXNlNjQ6QnIsYmFzZTY0cGFkOlZyLGJhc2U2NHVybDpxcixiYXNlNjR1cmxwYWQ6R3J9KTtjb25zdCBuaT1BcnJheS5mcm9tKFwiXFx1ezFGNjgwfVxcdXsxRkE5MH1cXHUyNjA0XFx1ezFGNkYwfVxcdXsxRjMwQ31cXHV7MUYzMTF9XFx1ezFGMzEyfVxcdXsxRjMxM31cXHV7MUYzMTR9XFx1ezFGMzE1fVxcdXsxRjMxNn1cXHV7MUYzMTd9XFx1ezFGMzE4fVxcdXsxRjMwRH1cXHV7MUYzMEZ9XFx1ezFGMzBFfVxcdXsxRjQwOX1cXHUyNjAwXFx1ezFGNEJCfVxcdXsxRjVBNX1cXHV7MUY0QkV9XFx1ezFGNEJGfVxcdXsxRjYwMn1cXHUyNzY0XFx1ezFGNjBEfVxcdXsxRjkyM31cXHV7MUY2MEF9XFx1ezFGNjRGfVxcdXsxRjQ5NX1cXHV7MUY2MkR9XFx1ezFGNjE4fVxcdXsxRjQ0RH1cXHV7MUY2MDV9XFx1ezFGNDRGfVxcdXsxRjYwMX1cXHV7MUY1MjV9XFx1ezFGOTcwfVxcdXsxRjQ5NH1cXHV7MUY0OTZ9XFx1ezFGNDk5fVxcdXsxRjYyMn1cXHV7MUY5MTR9XFx1ezFGNjA2fVxcdXsxRjY0NH1cXHV7MUY0QUF9XFx1ezFGNjA5fVxcdTI2M0FcXHV7MUY0NEN9XFx1ezFGOTE3fVxcdXsxRjQ5Q31cXHV7MUY2MTR9XFx1ezFGNjBFfVxcdXsxRjYwN31cXHV7MUYzMzl9XFx1ezFGOTI2fVxcdXsxRjM4OX1cXHV7MUY0OUV9XFx1MjcwQ1xcdTI3MjhcXHV7MUY5Mzd9XFx1ezFGNjMxfVxcdXsxRjYwQ31cXHV7MUYzMzh9XFx1ezFGNjRDfVxcdXsxRjYwQn1cXHV7MUY0OTd9XFx1ezFGNDlBfVxcdXsxRjYwRn1cXHV7MUY0OUJ9XFx1ezFGNjQyfVxcdXsxRjQ5M31cXHV7MUY5Mjl9XFx1ezFGNjA0fVxcdXsxRjYwMH1cXHV7MUY1QTR9XFx1ezFGNjAzfVxcdXsxRjRBRn1cXHV7MUY2NDh9XFx1ezFGNDQ3fVxcdXsxRjNCNn1cXHV7MUY2MTJ9XFx1ezFGOTJEfVxcdTI3NjNcXHV7MUY2MUN9XFx1ezFGNDhCfVxcdXsxRjQ0MH1cXHV7MUY2MkF9XFx1ezFGNjExfVxcdXsxRjRBNX1cXHV7MUY2NEJ9XFx1ezFGNjFFfVxcdXsxRjYyOX1cXHV7MUY2MjF9XFx1ezFGOTJBfVxcdXsxRjQ0QX1cXHV7MUY5NzN9XFx1ezFGNjI1fVxcdXsxRjkyNH1cXHV7MUY0NDl9XFx1ezFGNDgzfVxcdXsxRjYzM31cXHUyNzBCXFx1ezFGNjFBfVxcdXsxRjYxRH1cXHV7MUY2MzR9XFx1ezFGMzFGfVxcdXsxRjYyQ31cXHV7MUY2NDN9XFx1ezFGMzQwfVxcdXsxRjMzN31cXHV7MUY2M0J9XFx1ezFGNjEzfVxcdTJCNTBcXHUyNzA1XFx1ezFGOTdBfVxcdXsxRjMwOH1cXHV7MUY2MDh9XFx1ezFGOTE4fVxcdXsxRjRBNn1cXHUyNzE0XFx1ezFGNjIzfVxcdXsxRjNDM31cXHV7MUY0OTB9XFx1MjYzOVxcdXsxRjM4QX1cXHV7MUY0OTh9XFx1ezFGNjIwfVxcdTI2MURcXHV7MUY2MTV9XFx1ezFGMzNBfVxcdXsxRjM4Mn1cXHV7MUYzM0J9XFx1ezFGNjEwfVxcdXsxRjU5NX1cXHV7MUY0OUR9XFx1ezFGNjRBfVxcdXsxRjYzOX1cXHV7MUY1RTN9XFx1ezFGNEFCfVxcdXsxRjQ4MH1cXHV7MUY0NTF9XFx1ezFGM0I1fVxcdXsxRjkxRX1cXHV7MUY2MUJ9XFx1ezFGNTM0fVxcdXsxRjYyNH1cXHV7MUYzM0N9XFx1ezFGNjJCfVxcdTI2QkRcXHV7MUY5MTl9XFx1MjYxNVxcdXsxRjNDNn1cXHV7MUY5MkJ9XFx1ezFGNDQ4fVxcdXsxRjYyRX1cXHV7MUY2NDZ9XFx1ezFGMzdCfVxcdXsxRjM0M31cXHV7MUY0MzZ9XFx1ezFGNDgxfVxcdXsxRjYzMn1cXHV7MUYzM0Z9XFx1ezFGOUUxfVxcdXsxRjM4MX1cXHUyNkExXFx1ezFGMzFFfVxcdXsxRjM4OH1cXHUyNzRDXFx1MjcwQVxcdXsxRjQ0Qn1cXHV7MUY2MzB9XFx1ezFGOTI4fVxcdXsxRjYzNn1cXHV7MUY5MUR9XFx1ezFGNkI2fVxcdXsxRjRCMH1cXHV7MUYzNTN9XFx1ezFGNEEyfVxcdXsxRjkxRn1cXHV7MUY2NDF9XFx1ezFGNkE4fVxcdXsxRjRBOH1cXHV7MUY5MkN9XFx1MjcwOFxcdXsxRjM4MH1cXHV7MUYzN0F9XFx1ezFGOTEzfVxcdXsxRjYxOX1cXHV7MUY0OUZ9XFx1ezFGMzMxfVxcdXsxRjYxNn1cXHV7MUY0NzZ9XFx1ezFGOTc0fVxcdTI1QjZcXHUyN0ExXFx1Mjc1M1xcdXsxRjQ4RX1cXHV7MUY0Qjh9XFx1MkIwN1xcdXsxRjYyOH1cXHV7MUYzMUF9XFx1ezFGOThCfVxcdXsxRjYzN31cXHV7MUY1N0F9XFx1MjZBMFxcdXsxRjY0NX1cXHV7MUY2MUZ9XFx1ezFGNjM1fVxcdXsxRjQ0RX1cXHV7MUY5MzJ9XFx1ezFGOTIwfVxcdXsxRjkyN31cXHV7MUY0Q0N9XFx1ezFGNTM1fVxcdXsxRjQ4NX1cXHV7MUY5RDB9XFx1ezFGNDNFfVxcdXsxRjM1Mn1cXHV7MUY2MTd9XFx1ezFGOTExfVxcdXsxRjMwQX1cXHV7MUY5MkZ9XFx1ezFGNDM3fVxcdTI2MEVcXHV7MUY0QTd9XFx1ezFGNjJGfVxcdXsxRjQ4Nn1cXHV7MUY0NDZ9XFx1ezFGM0E0fVxcdXsxRjY0N31cXHV7MUYzNTF9XFx1Mjc0NFxcdXsxRjMzNH1cXHV7MUY0QTN9XFx1ezFGNDM4fVxcdXsxRjQ4Q31cXHV7MUY0Q0R9XFx1ezFGOTQwfVxcdXsxRjkyMn1cXHV7MUY0NDV9XFx1ezFGNEExfVxcdXsxRjRBOX1cXHV7MUY0NTB9XFx1ezFGNEY4fVxcdXsxRjQ3Qn1cXHV7MUY5MTB9XFx1ezFGOTJFfVxcdXsxRjNCQ31cXHV7MUY5NzV9XFx1ezFGNkE5fVxcdXsxRjM0RX1cXHV7MUYzNEF9XFx1ezFGNDdDfVxcdXsxRjQ4RH1cXHV7MUY0RTN9XFx1ezFGOTQyfVwiKSxIcj1uaS5yZWR1Y2UoKHIsZSx0KT0+KHJbdF09ZSxyKSxbXSksWXI9bmkucmVkdWNlKChyLGUsdCk9PihyW2UuY29kZVBvaW50QXQoMCldPXQsciksW10pO2Z1bmN0aW9uIEpyKHIpe3JldHVybiByLnJlZHVjZSgoZSx0KT0+KGUrPUhyW3RdLGUpLFwiXCIpfWZ1bmN0aW9uIFhyKHIpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2Ygcil7Y29uc3QgaT1Zclt0LmNvZGVQb2ludEF0KDApXTtpZihpPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihgTm9uLWJhc2UyNTZlbW9qaSBjaGFyYWN0ZXI6ICR7dH1gKTtlLnB1c2goaSl9cmV0dXJuIG5ldyBVaW50OEFycmF5KGUpfWNvbnN0IFpyPUVlKHtwcmVmaXg6XCJcXHV7MUY2ODB9XCIsbmFtZTpcImJhc2UyNTZlbW9qaVwiLGVuY29kZTpKcixkZWNvZGU6WHJ9KTt2YXIgUXI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYmFzZTI1NmVtb2ppOlpyfSksZW49YWksb2k9MTI4LHRuPTEyNyxzbj1+dG4scm49TWF0aC5wb3coMiwzMSk7ZnVuY3Rpb24gYWkocixlLHQpe2U9ZXx8W10sdD10fHwwO2Zvcih2YXIgaT10O3I+PXJuOyllW3QrK109ciYyNTV8b2ksci89MTI4O2Zvcig7ciZzbjspZVt0KytdPXImMjU1fG9pLHI+Pj49NztyZXR1cm4gZVt0XT1yfDAsYWkuYnl0ZXM9dC1pKzEsZX12YXIgbm49TWUsb249MTI4LGNpPTEyNztmdW5jdGlvbiBNZShyLGkpe3ZhciB0PTAsaT1pfHwwLHM9MCxuPWksbyxhPXIubGVuZ3RoO2Rve2lmKG4+PWEpdGhyb3cgTWUuYnl0ZXM9MCxuZXcgUmFuZ2VFcnJvcihcIkNvdWxkIG5vdCBkZWNvZGUgdmFyaW50XCIpO289cltuKytdLHQrPXM8Mjg/KG8mY2kpPDxzOihvJmNpKSpNYXRoLnBvdygyLHMpLHMrPTd9d2hpbGUobz49b24pO3JldHVybiBNZS5ieXRlcz1uLWksdH12YXIgYW49TWF0aC5wb3coMiw3KSxjbj1NYXRoLnBvdygyLDE0KSxobj1NYXRoLnBvdygyLDIxKSxsbj1NYXRoLnBvdygyLDI4KSx1bj1NYXRoLnBvdygyLDM1KSxkbj1NYXRoLnBvdygyLDQyKSxnbj1NYXRoLnBvdygyLDQ5KSxwbj1NYXRoLnBvdygyLDU2KSx5bj1NYXRoLnBvdygyLDYzKSxibj1mdW5jdGlvbihyKXtyZXR1cm4gcjxhbj8xOnI8Y24/MjpyPGhuPzM6cjxsbj80OnI8dW4/NTpyPGRuPzY6cjxnbj83OnI8cG4/ODpyPHluPzk6MTB9LG1uPXtlbmNvZGU6ZW4sZGVjb2RlOm5uLGVuY29kaW5nTGVuZ3RoOmJufSxoaT1tbjtjb25zdCBsaT0ocixlLHQ9MCk9PihoaS5lbmNvZGUocixlLHQpLGUpLHVpPXI9PmhpLmVuY29kaW5nTGVuZ3RoKHIpLEtlPShyLGUpPT57Y29uc3QgdD1lLmJ5dGVMZW5ndGgsaT11aShyKSxzPWkrdWkodCksbj1uZXcgVWludDhBcnJheShzK3QpO3JldHVybiBsaShyLG4sMCksbGkodCxuLGkpLG4uc2V0KGUscyksbmV3IGZuKHIsdCxlLG4pfTtjbGFzcyBmbntjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLmNvZGU9ZSx0aGlzLnNpemU9dCx0aGlzLmRpZ2VzdD1pLHRoaXMuYnl0ZXM9c319Y29uc3QgZGk9KHtuYW1lOnIsY29kZTplLGVuY29kZTp0fSk9Pm5ldyBEbihyLGUsdCk7Y2xhc3MgRG57Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMubmFtZT1lLHRoaXMuY29kZT10LHRoaXMuZW5jb2RlPWl9ZGlnZXN0KGUpe2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KXtjb25zdCB0PXRoaXMuZW5jb2RlKGUpO3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheT9LZSh0aGlzLmNvZGUsdCk6dC50aGVuKGk9PktlKHRoaXMuY29kZSxpKSl9ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKX19Y29uc3QgZ2k9cj0+YXN5bmMgZT0+bmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QocixlKSksdm49ZGkoe25hbWU6XCJzaGEyLTI1NlwiLGNvZGU6MTgsZW5jb2RlOmdpKFwiU0hBLTI1NlwiKX0pLHduPWRpKHtuYW1lOlwic2hhMi01MTJcIixjb2RlOjE5LGVuY29kZTpnaShcIlNIQS01MTJcIil9KTt2YXIgX249T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hhMjU2OnZuLHNoYTUxMjp3bn0pO2NvbnN0IHBpPTAsRW49XCJpZGVudGl0eVwiLHlpPXNpLEluPXI9PktlKHBpLHlpKHIpKSxUbj17Y29kZTpwaSxuYW1lOkVuLGVuY29kZTp5aSxkaWdlc3Q6SW59O3ZhciBDbj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpZGVudGl0eTpUbn0pO25ldyBUZXh0RW5jb2RlcixuZXcgVGV4dERlY29kZXI7Y29uc3QgYmk9ey4uLm1yLC4uLkRyLC4uLndyLC4uLkVyLC4uLkNyLC4uLkxyLC4uLlVyLC4uLktyLC4uLldyLC4uLlFyfTsoey4uLl9uLC4uLkNufSk7ZnVuY3Rpb24gbWkocil7cmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyIT1udWxsP25ldyBVaW50OEFycmF5KHIuYnVmZmVyLHIuYnl0ZU9mZnNldCxyLmJ5dGVMZW5ndGgpOnJ9ZnVuY3Rpb24gUG4ocj0wKXtyZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGwmJmdsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlIT1udWxsP21pKGdsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlKHIpKTpuZXcgVWludDhBcnJheShyKX1mdW5jdGlvbiBmaShyLGUsdCxpKXtyZXR1cm57bmFtZTpyLHByZWZpeDplLGVuY29kZXI6e25hbWU6cixwcmVmaXg6ZSxlbmNvZGU6dH0sZGVjb2Rlcjp7ZGVjb2RlOml9fX1jb25zdCBEaT1maShcInV0ZjhcIixcInVcIixyPT5cInVcIituZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIpLmRlY29kZShyKSxyPT5uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoci5zdWJzdHJpbmcoMSkpKSxCZT1maShcImFzY2lpXCIsXCJhXCIscj0+e2xldCBlPVwiYVwiO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoclt0XSk7cmV0dXJuIGV9LHI9PntyPXIuc3Vic3RyaW5nKDEpO2NvbnN0IGU9UG4oci5sZW5ndGgpO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKWVbdF09ci5jaGFyQ29kZUF0KHQpO3JldHVybiBlfSksU249e3V0Zjg6RGksXCJ1dGYtOFwiOkRpLGhleDpiaS5iYXNlMTYsbGF0aW4xOkJlLGFzY2lpOkJlLGJpbmFyeTpCZSwuLi5iaX07ZnVuY3Rpb24gT24ocixlPVwidXRmOFwiKXtjb25zdCB0PVNuW2VdO2lmKCF0KXRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIke2V9XCJgKTtyZXR1cm4oZT09PVwidXRmOFwifHxlPT09XCJ1dGYtOFwiKSYmZ2xvYmFsVGhpcy5CdWZmZXIhPW51bGwmJmdsb2JhbFRoaXMuQnVmZmVyLmZyb20hPW51bGw/bWkoZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShyLFwidXRmLThcIikpOnQuZGVjb2Rlci5kZWNvZGUoYCR7dC5wcmVmaXh9JHtyfWApfXZhciBSbj1PYmplY3QuZGVmaW5lUHJvcGVydHksQW49KHIsZSx0KT0+ZSBpbiByP1JuKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxXPShyLGUsdCk9PkFuKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3Mgdml7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LFcodGhpcyxcImtleWNoYWluXCIsbmV3IE1hcCksVyh0aGlzLFwibmFtZVwiLFB0KSxXKHRoaXMsXCJ2ZXJzaW9uXCIsU3QpLFcodGhpcyxcImluaXRpYWxpemVkXCIsITEpLFcodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxXKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdCBpPWF3YWl0IHRoaXMuZ2V0S2V5Q2hhaW4oKTt0eXBlb2YgaTxcInVcIiYmKHRoaXMua2V5Y2hhaW49aSksdGhpcy5pbml0aWFsaXplZD0hMH19KSxXKHRoaXMsXCJoYXNcIixpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5oYXMoaSkpKSxXKHRoaXMsXCJzZXRcIixhc3luYyhpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5rZXljaGFpbi5zZXQoaSxzKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLFcodGhpcyxcImdldFwiLGk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBzPXRoaXMua2V5Y2hhaW4uZ2V0KGkpO2lmKHR5cGVvZiBzPlwidVwiKXtjb25zdHttZXNzYWdlOm59PW0oXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKG4pfXJldHVybiBzfSksVyh0aGlzLFwiZGVsXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMua2V5Y2hhaW4uZGVsZXRlKGkpLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWFzeW5jIHNldEtleUNoYWluKGUpe2F3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LE9lKGUpKX1hc3luYyBnZXRLZXlDaGFpbigpe2NvbnN0IGU9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpO3JldHVybiB0eXBlb2YgZTxcInVcIj9SZShlKTp2b2lkIDB9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0S2V5Q2hhaW4odGhpcy5rZXljaGFpbil9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciB4bj1PYmplY3QuZGVmaW5lUHJvcGVydHksTm49KHIsZSx0KT0+ZSBpbiByP3huKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxTPShyLGUsdCk9Pk5uKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3Mgd2l7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsUyh0aGlzLFwibmFtZVwiLFR0KSxTKHRoaXMsXCJrZXljaGFpblwiKSxTKHRoaXMsXCJyYW5kb21TZXNzaW9uSWRlbnRpZmllclwiLEFlKCkpLFModGhpcyxcImluaXRpYWxpemVkXCIsITEpLFModGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KGF3YWl0IHRoaXMua2V5Y2hhaW4uaW5pdCgpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSksUyh0aGlzLFwiaGFzS2V5c1wiLHM9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmtleWNoYWluLmhhcyhzKSkpLFModGhpcyxcImdldENsaWVudElkXCIsYXN5bmMoKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9YXdhaXQgdGhpcy5nZXRDbGllbnRTZWVkKCksbj1EZS5nZW5lcmF0ZUtleVBhaXIocyk7cmV0dXJuIERlLmVuY29kZUlzcyhuLnB1YmxpY0tleSl9KSxTKHRoaXMsXCJnZW5lcmF0ZUtleVBhaXJcIiwoKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IHM9dXMoKTtyZXR1cm4gdGhpcy5zZXRQcml2YXRlS2V5KHMucHVibGljS2V5LHMucHJpdmF0ZUtleSl9KSxTKHRoaXMsXCJzaWduSldUXCIsYXN5bmMgcz0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49YXdhaXQgdGhpcy5nZXRDbGllbnRTZWVkKCksbz1EZS5nZW5lcmF0ZUtleVBhaXIobiksYT10aGlzLnJhbmRvbVNlc3Npb25JZGVudGlmaWVyLGM9Q3Q7cmV0dXJuIGF3YWl0IERlLnNpZ25KV1QoYSxzLGMsbyl9KSxTKHRoaXMsXCJnZW5lcmF0ZVNoYXJlZEtleVwiLChzLG4sbyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBhPXRoaXMuZ2V0UHJpdmF0ZUtleShzKSxjPWRzKGEsbik7cmV0dXJuIHRoaXMuc2V0U3ltS2V5KGMsbyl9KSxTKHRoaXMsXCJzZXRTeW1LZXlcIixhc3luYyhzLG4pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgbz1ufHxncyhzKTtyZXR1cm4gYXdhaXQgdGhpcy5rZXljaGFpbi5zZXQobyxzKSxvfSksUyh0aGlzLFwiZGVsZXRlS2V5UGFpclwiLGFzeW5jIHM9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmtleWNoYWluLmRlbChzKX0pLFModGhpcyxcImRlbGV0ZVN5bUtleVwiLGFzeW5jIHM9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSxhd2FpdCB0aGlzLmtleWNoYWluLmRlbChzKX0pLFModGhpcyxcImVuY29kZVwiLGFzeW5jKHMsbixvKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGE9cHMobyksYz1scyhuKTtpZihudChhKSlyZXR1cm4geXMoYyxvPy5lbmNvZGluZyk7aWYob3QoYSkpe2NvbnN0IGc9YS5zZW5kZXJQdWJsaWNLZXksXz1hLnJlY2VpdmVyUHVibGljS2V5O3M9YXdhaXQgdGhpcy5nZW5lcmF0ZVNoYXJlZEtleShnLF8pfWNvbnN0IGg9dGhpcy5nZXRTeW1LZXkocykse3R5cGU6bCxzZW5kZXJQdWJsaWNLZXk6ZH09YTtyZXR1cm4gYnMoe3R5cGU6bCxzeW1LZXk6aCxtZXNzYWdlOmMsc2VuZGVyUHVibGljS2V5OmQsZW5jb2Rpbmc6bz8uZW5jb2Rpbmd9KX0pLFModGhpcyxcImRlY29kZVwiLGFzeW5jKHMsbixvKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IGE9bXMobixvKTtpZihudChhKSl7Y29uc3QgYz1mcyhuLG8/LmVuY29kaW5nKTtyZXR1cm4gc3QoYyl9aWYob3QoYSkpe2NvbnN0IGM9YS5yZWNlaXZlclB1YmxpY0tleSxoPWEuc2VuZGVyUHVibGljS2V5O3M9YXdhaXQgdGhpcy5nZW5lcmF0ZVNoYXJlZEtleShjLGgpfXRyeXtjb25zdCBjPXRoaXMuZ2V0U3ltS2V5KHMpLGg9RHMoe3N5bUtleTpjLGVuY29kZWQ6bixlbmNvZGluZzpvPy5lbmNvZGluZ30pO3JldHVybiBzdChoKX1jYXRjaChjKXt0aGlzLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGRlY29kZSBtZXNzYWdlIGZyb20gdG9waWM6ICcke3N9JywgY2xpZW50SWQ6ICcke2F3YWl0IHRoaXMuZ2V0Q2xpZW50SWQoKX0nYCksdGhpcy5sb2dnZXIuZXJyb3IoYyl9fSksUyh0aGlzLFwiZ2V0UGF5bG9hZFR5cGVcIiwocyxuPWN0KT0+e2NvbnN0IG89YXQoe2VuY29kZWQ6cyxlbmNvZGluZzpufSk7cmV0dXJuIHZzKG8udHlwZSl9KSxTKHRoaXMsXCJnZXRQYXlsb2FkU2VuZGVyUHVibGljS2V5XCIsKHMsbj1jdCk9Pntjb25zdCBvPWF0KHtlbmNvZGVkOnMsZW5jb2Rpbmc6bn0pO3JldHVybiBvLnNlbmRlclB1YmxpY0tleT9NcyhvLnNlbmRlclB1YmxpY0tleSx3cyk6dm9pZCAwfSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSksdGhpcy5rZXljaGFpbj1pfHxuZXcgdmkodGhpcy5jb3JlLHRoaXMubG9nZ2VyKX1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1hc3luYyBzZXRQcml2YXRlS2V5KGUsdCl7cmV0dXJuIGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KGUsdCksZX1nZXRQcml2YXRlS2V5KGUpe3JldHVybiB0aGlzLmtleWNoYWluLmdldChlKX1hc3luYyBnZXRDbGllbnRTZWVkKCl7bGV0IGU9XCJcIjt0cnl7ZT10aGlzLmtleWNoYWluLmdldChrZSl9Y2F0Y2h7ZT1BZSgpLGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KGtlLGUpfXJldHVybiBPbihlLFwiYmFzZTE2XCIpfWdldFN5bUtleShlKXtyZXR1cm4gdGhpcy5rZXljaGFpbi5nZXQoZSl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciAkbj1PYmplY3QuZGVmaW5lUHJvcGVydHksem49T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsTG49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsX2k9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxrbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGpuPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsVmU9KHIsZSx0KT0+ZSBpbiByPyRuKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxVbj0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpa24uY2FsbChlLHQpJiZWZShyLHQsZVt0XSk7aWYoX2kpZm9yKHZhciB0IG9mIF9pKGUpKWpuLmNhbGwoZSx0KSYmVmUocix0LGVbdF0pO3JldHVybiByfSxGbj0ocixlKT0+em4ocixMbihlKSksaz0ocixlLHQpPT5WZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIEVpIGV4dGVuZHMgWml7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMubG9nZ2VyPWUsdGhpcy5jb3JlPXQsayh0aGlzLFwibWVzc2FnZXNcIixuZXcgTWFwKSxrKHRoaXMsXCJtZXNzYWdlc1dpdGhvdXRDbGllbnRBY2tcIixuZXcgTWFwKSxrKHRoaXMsXCJuYW1lXCIsT3QpLGsodGhpcyxcInZlcnNpb25cIixSdCksayh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksayh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLGsodGhpcyxcImluaXRcIixhc3luYygpPT57aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2NvbnN0IGk9YXdhaXQgdGhpcy5nZXRSZWxheWVyTWVzc2FnZXMoKTt0eXBlb2YgaTxcInVcIiYmKHRoaXMubWVzc2FnZXM9aSk7Y29uc3Qgcz1hd2FpdCB0aGlzLmdldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2soKTt0eXBlb2YgczxcInVcIiYmKHRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrPXMpLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJyZXN0b3JlXCIsc2l6ZTp0aGlzLm1lc3NhZ2VzLnNpemV9KX1jYXRjaChpKXt0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoaSl9ZmluYWxseXt0aGlzLmluaXRpYWxpemVkPSEwfX19KSxrKHRoaXMsXCJzZXRcIixhc3luYyhpLHMsbik9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBvPXZlKHMpO2xldCBhPXRoaXMubWVzc2FnZXMuZ2V0KGkpO2lmKHR5cGVvZiBhPlwidVwiJiYoYT17fSksdHlwZW9mIGFbb108XCJ1XCIpcmV0dXJuIG87aWYoYVtvXT1zLHRoaXMubWVzc2FnZXMuc2V0KGksYSksbj09PWxlLmluYm91bmQpe2NvbnN0IGM9dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZ2V0KGkpfHx7fTt0aGlzLm1lc3NhZ2VzV2l0aG91dENsaWVudEFjay5zZXQoaSxGbihVbih7fSxjKSx7W29dOnN9KSl9cmV0dXJuIGF3YWl0IHRoaXMucGVyc2lzdCgpLG99KSxrKHRoaXMsXCJnZXRcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7bGV0IHM9dGhpcy5tZXNzYWdlcy5nZXQoaSk7cmV0dXJuIHR5cGVvZiBzPlwidVwiJiYocz17fSksc30pLGsodGhpcyxcImdldFdpdGhvdXRBY2tcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz17fTtmb3IoY29uc3QgbiBvZiBpKXtjb25zdCBvPXRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmdldChuKXx8e307c1tuXT1PYmplY3QudmFsdWVzKG8pfXJldHVybiBzfSksayh0aGlzLFwiaGFzXCIsKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBuPXRoaXMuZ2V0KGkpLG89dmUocyk7cmV0dXJuIHR5cGVvZiBuW29dPFwidVwifSksayh0aGlzLFwiYWNrXCIsYXN5bmMoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpO2NvbnN0IG49dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZ2V0KGkpO2lmKHR5cGVvZiBuPlwidVwiKXJldHVybjtjb25zdCBvPXZlKHMpO2RlbGV0ZSBuW29dLE9iamVjdC5rZXlzKG4pLmxlbmd0aD09PTA/dGhpcy5tZXNzYWdlc1dpdGhvdXRDbGllbnRBY2suZGVsZXRlKGkpOnRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLnNldChpLG4pLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksayh0aGlzLFwiZGVsXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWVzc2FnZXMuZGVsZXRlKGkpLHRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrLmRlbGV0ZShpKSxhd2FpdCB0aGlzLnBlcnNpc3QoKX0pLHRoaXMubG9nZ2VyPU4oZSx0aGlzLm5hbWUpLHRoaXMuY29yZT10fWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgc3RvcmFnZUtleVdpdGhvdXRDbGllbnRBY2soKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lK1wiX3dpdGhvdXRDbGllbnRBY2tcIn1hc3luYyBzZXRSZWxheWVyTWVzc2FnZXMoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksT2UoZSkpfWFzeW5jIHNldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2soZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXlXaXRob3V0Q2xpZW50QWNrLE9lKGUpKX1hc3luYyBnZXRSZWxheWVyTWVzc2FnZXMoKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtyZXR1cm4gdHlwZW9mIGU8XCJ1XCI/UmUoZSk6dm9pZCAwfWFzeW5jIGdldFJlbGF5ZXJNZXNzYWdlc1dpdGhvdXRDbGllbnRBY2soKXtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5V2l0aG91dENsaWVudEFjayk7cmV0dXJuIHR5cGVvZiBlPFwidVwiP1JlKGUpOnZvaWQgMH1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRSZWxheWVyTWVzc2FnZXModGhpcy5tZXNzYWdlcyksYXdhaXQgdGhpcy5zZXRSZWxheWVyTWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKHRoaXMubWVzc2FnZXNXaXRob3V0Q2xpZW50QWNrKX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIE1uPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxLbj1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxCbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyxJaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFZuPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscW49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxxZT0ocixlLHQpPT5lIGluIHI/TW4ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LEllPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlWbi5jYWxsKGUsdCkmJnFlKHIsdCxlW3RdKTtpZihJaSlmb3IodmFyIHQgb2YgSWkoZSkpcW4uY2FsbChlLHQpJiZxZShyLHQsZVt0XSk7cmV0dXJuIHJ9LEdlPShyLGUpPT5LbihyLEJuKGUpKSxWPShyLGUsdCk9PnFlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgR24gZXh0ZW5kcyBRaXtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5yZWxheWVyPWUsdGhpcy5sb2dnZXI9dCxWKHRoaXMsXCJldmVudHNcIixuZXcgZWUpLFYodGhpcyxcIm5hbWVcIixBdCksVih0aGlzLFwicXVldWVcIixuZXcgTWFwKSxWKHRoaXMsXCJwdWJsaXNoVGltZW91dFwiLFIodHQpKSxWKHRoaXMsXCJpbml0aWFsUHVibGlzaFRpbWVvdXRcIixSKFoqMTUpKSxWKHRoaXMsXCJuZWVkc1RyYW5zcG9ydFJlc3RhcnRcIiwhMSksVih0aGlzLFwicHVibGlzaFwiLGFzeW5jKGkscyxuKT0+e3ZhciBvO3RoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicHVibGlzaFwiLHBhcmFtczp7dG9waWM6aSxtZXNzYWdlOnMsb3B0czpufX0pO2NvbnN0IGE9bj8udHRsfHxqZSxjPXdlKG4pLGg9bj8ucHJvbXB0fHwhMSxsPW4/LnRhZ3x8MCxkPW4/LmlkfHxtdCgpLnRvU3RyaW5nKCksZz17dG9waWM6aSxtZXNzYWdlOnMsb3B0czp7dHRsOmEscmVsYXk6Yyxwcm9tcHQ6aCx0YWc6bCxpZDpkLGF0dGVzdGF0aW9uOm4/LmF0dGVzdGF0aW9uLHR2ZjpuPy50dmZ9fSxfPWBGYWlsZWQgdG8gcHVibGlzaCBwYXlsb2FkLCBwbGVhc2UgdHJ5IGFnYWluLiBpZDoke2R9IHRhZzoke2x9YDt0cnl7Y29uc3QgdT1uZXcgUHJvbWlzZShhc3luYyBiPT57Y29uc3QgeD0oe2lkOkR9KT0+e2cub3B0cy5pZD09PUQmJih0aGlzLnJlbW92ZVJlcXVlc3RGcm9tUXVldWUoRCksdGhpcy5yZWxheWVyLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihDLnB1Ymxpc2gseCksYihnKSl9O3RoaXMucmVsYXllci5ldmVudHMub24oQy5wdWJsaXNoLHgpO2NvbnN0IEk9WChuZXcgUHJvbWlzZSgoRCxqKT0+e3RoaXMucnBjUHVibGlzaCh7dG9waWM6aSxtZXNzYWdlOnMsdHRsOmEscHJvbXB0OmgsdGFnOmwsaWQ6ZCxhdHRlc3RhdGlvbjpuPy5hdHRlc3RhdGlvbix0dmY6bj8udHZmfSkudGhlbihEKS5jYXRjaChUPT57dGhpcy5sb2dnZXIud2FybihULFQ/Lm1lc3NhZ2UpLGooVCl9KX0pLHRoaXMuaW5pdGlhbFB1Ymxpc2hUaW1lb3V0LGBGYWlsZWQgaW5pdGlhbCBwdWJsaXNoLCByZXRyeWluZy4uLi4gaWQ6JHtkfSB0YWc6JHtsfWApO3RyeXthd2FpdCBJLHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKEMucHVibGlzaCx4KX1jYXRjaChEKXt0aGlzLnF1ZXVlLnNldChkLEdlKEllKHt9LGcpLHthdHRlbXB0OjF9KSksdGhpcy5sb2dnZXIud2FybihELEQ/Lm1lc3NhZ2UpfX0pO3RoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicHVibGlzaFwiLHBhcmFtczp7aWQ6ZCx0b3BpYzppLG1lc3NhZ2U6cyxvcHRzOm59fSksYXdhaXQgWCh1LHRoaXMucHVibGlzaFRpbWVvdXQsXyl9Y2F0Y2godSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJGYWlsZWQgdG8gUHVibGlzaCBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLmVycm9yKHUpLChvPW4/LmludGVybmFsKSE9bnVsbCYmby50aHJvd09uRmFpbGVkUHVibGlzaCl0aHJvdyB1fWZpbmFsbHl7dGhpcy5xdWV1ZS5kZWxldGUoZCl9fSksVih0aGlzLFwib25cIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uKGkscyl9KSxWKHRoaXMsXCJvbmNlXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbmNlKGkscyl9KSxWKHRoaXMsXCJvZmZcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9mZihpLHMpfSksVih0aGlzLFwicmVtb3ZlTGlzdGVuZXJcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGkscyl9KSx0aGlzLnJlbGF5ZXI9ZSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKX1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1hc3luYyBycGNQdWJsaXNoKGUpe3ZhciB0LGkscyxuO2NvbnN0e3RvcGljOm8sbWVzc2FnZTphLHR0bDpjPWplLHByb21wdDpoLHRhZzpsLGlkOmQsYXR0ZXN0YXRpb246Zyx0dmY6X309ZSx1PXttZXRob2Q6b2Uod2UoKS5wcm90b2NvbCkucHVibGlzaCxwYXJhbXM6SWUoe3RvcGljOm8sbWVzc2FnZTphLHR0bDpjLHByb21wdDpoLHRhZzpsLGF0dGVzdGF0aW9uOmd9LF8pLGlkOmR9O3hlKCh0PXUucGFyYW1zKT09bnVsbD92b2lkIDA6dC5wcm9tcHQpJiYoKGk9dS5wYXJhbXMpPT1udWxsfHxkZWxldGUgaS5wcm9tcHQpLHhlKChzPXUucGFyYW1zKT09bnVsbD92b2lkIDA6cy50YWcpJiYoKG49dS5wYXJhbXMpPT1udWxsfHxkZWxldGUgbi50YWcpLHRoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1lc3NhZ2VcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6dX0pO2NvbnN0IGI9YXdhaXQgdGhpcy5yZWxheWVyLnJlcXVlc3QodSk7cmV0dXJuIHRoaXMucmVsYXllci5ldmVudHMuZW1pdChDLnB1Ymxpc2gsZSksdGhpcy5sb2dnZXIuZGVidWcoXCJTdWNjZXNzZnVsbHkgUHVibGlzaGVkIFBheWxvYWRcIiksYn1yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKGUpe3RoaXMucXVldWUuZGVsZXRlKGUpfWNoZWNrUXVldWUoKXt0aGlzLnF1ZXVlLmZvckVhY2goYXN5bmMoZSx0KT0+e2NvbnN0IGk9ZS5hdHRlbXB0KzE7dGhpcy5xdWV1ZS5zZXQodCxHZShJZSh7fSxlKSx7YXR0ZW1wdDppfSkpO2NvbnN0e3RvcGljOnMsbWVzc2FnZTpuLG9wdHM6byxhdHRlc3RhdGlvbjphfT1lO3RoaXMubG9nZ2VyLndhcm4oe30sYFB1Ymxpc2hlcjogcXVldWUtPnB1Ymxpc2hpbmc6ICR7ZS5vcHRzLmlkfSwgdGFnOiAke2Uub3B0cy50YWd9LCBhdHRlbXB0OiAke2l9YCksYXdhaXQgdGhpcy5ycGNQdWJsaXNoKEdlKEllKHt9LGUpLHt0b3BpYzpzLG1lc3NhZ2U6bix0dGw6by50dGwscHJvbXB0Om8ucHJvbXB0LHRhZzpvLnRhZyxpZDpvLmlkLGF0dGVzdGF0aW9uOmEsdHZmOm8udHZmfSkpLHRoaXMubG9nZ2VyLndhcm4oe30sYFB1Ymxpc2hlcjogcXVldWUtPnB1Ymxpc2hlZDogJHtlLm9wdHMuaWR9YCl9KX1yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7dGhpcy5yZWxheWVyLmNvcmUuaGVhcnRiZWF0Lm9uKHRlLnB1bHNlLCgpPT57aWYodGhpcy5uZWVkc1RyYW5zcG9ydFJlc3RhcnQpe3RoaXMubmVlZHNUcmFuc3BvcnRSZXN0YXJ0PSExLHRoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCk7cmV0dXJufXRoaXMuY2hlY2tRdWV1ZSgpfSksdGhpcy5yZWxheWVyLm9uKEMubWVzc2FnZV9hY2ssZT0+e3RoaXMucmVtb3ZlUmVxdWVzdEZyb21RdWV1ZShlLmlkLnRvU3RyaW5nKCkpfSl9fXZhciBXbj1PYmplY3QuZGVmaW5lUHJvcGVydHksSG49KHIsZSx0KT0+ZSBpbiByP1duKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxuZT0ocixlLHQpPT5IbihyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFlue2NvbnN0cnVjdG9yKCl7bmUodGhpcyxcIm1hcFwiLG5ldyBNYXApLG5lKHRoaXMsXCJzZXRcIiwoZSx0KT0+e2NvbnN0IGk9dGhpcy5nZXQoZSk7dGhpcy5leGlzdHMoZSx0KXx8dGhpcy5tYXAuc2V0KGUsWy4uLmksdF0pfSksbmUodGhpcyxcImdldFwiLGU9PnRoaXMubWFwLmdldChlKXx8W10pLG5lKHRoaXMsXCJleGlzdHNcIiwoZSx0KT0+dGhpcy5nZXQoZSkuaW5jbHVkZXModCkpLG5lKHRoaXMsXCJkZWxldGVcIiwoZSx0KT0+e2lmKHR5cGVvZiB0PlwidVwiKXt0aGlzLm1hcC5kZWxldGUoZSk7cmV0dXJufWlmKCF0aGlzLm1hcC5oYXMoZSkpcmV0dXJuO2NvbnN0IGk9dGhpcy5nZXQoZSk7aWYoIXRoaXMuZXhpc3RzKGUsdCkpcmV0dXJuO2NvbnN0IHM9aS5maWx0ZXIobj0+biE9PXQpO2lmKCFzLmxlbmd0aCl7dGhpcy5tYXAuZGVsZXRlKGUpO3JldHVybn10aGlzLm1hcC5zZXQoZSxzKX0pLG5lKHRoaXMsXCJjbGVhclwiLCgpPT57dGhpcy5tYXAuY2xlYXIoKX0pfWdldCB0b3BpY3MoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1hcC5rZXlzKCkpfX12YXIgSm49T2JqZWN0LmRlZmluZVByb3BlcnR5LFhuPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLFpuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLFRpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsUW49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxlbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFdlPShyLGUsdCk9PmUgaW4gcj9KbihyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsZ2U9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKVFuLmNhbGwoZSx0KSYmV2Uocix0LGVbdF0pO2lmKFRpKWZvcih2YXIgdCBvZiBUaShlKSllby5jYWxsKGUsdCkmJldlKHIsdCxlW3RdKTtyZXR1cm4gcn0sSGU9KHIsZSk9PlhuKHIsWm4oZSkpLGY9KHIsZSx0KT0+V2Uocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBDaSBleHRlbmRzIGVze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnJlbGF5ZXI9ZSx0aGlzLmxvZ2dlcj10LGYodGhpcyxcInN1YnNjcmlwdGlvbnNcIixuZXcgTWFwKSxmKHRoaXMsXCJ0b3BpY01hcFwiLG5ldyBZbiksZih0aGlzLFwiZXZlbnRzXCIsbmV3IGVlKSxmKHRoaXMsXCJuYW1lXCIsVXQpLGYodGhpcyxcInZlcnNpb25cIixGdCksZih0aGlzLFwicGVuZGluZ1wiLG5ldyBNYXApLGYodGhpcyxcImNhY2hlZFwiLFtdKSxmKHRoaXMsXCJpbml0aWFsaXplZFwiLCExKSxmKHRoaXMsXCJzdG9yYWdlUHJlZml4XCIsQiksZih0aGlzLFwic3Vic2NyaWJlVGltZW91dFwiLFIodHQpKSxmKHRoaXMsXCJpbml0aWFsU3Vic2NyaWJlVGltZW91dFwiLFIoWioxNSkpLGYodGhpcyxcImNsaWVudElkXCIpLGYodGhpcyxcImJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXRcIiw1MDApLGYodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksYXdhaXQgdGhpcy5yZXN0b3JlKCkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITB9KSxmKHRoaXMsXCJzdWJzY3JpYmVcIixhc3luYyhpLHMpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5sb2dnZXIuZGVidWcoXCJTdWJzY3JpYmluZyBUb3BpY1wiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6aSxvcHRzOnN9fSk7dHJ5e2NvbnN0IG49d2Uocyksbz17dG9waWM6aSxyZWxheTpuLHRyYW5zcG9ydFR5cGU6cz8udHJhbnNwb3J0VHlwZX07dGhpcy5wZW5kaW5nLnNldChpLG8pO2NvbnN0IGE9YXdhaXQgdGhpcy5ycGNTdWJzY3JpYmUoaSxuLHMpO3JldHVybiB0eXBlb2YgYT09XCJzdHJpbmdcIiYmKHRoaXMub25TdWJzY3JpYmUoYSxvKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBTdWJzY3JpYmVkIFRvcGljXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwic3Vic2NyaWJlXCIscGFyYW1zOnt0b3BpYzppLG9wdHM6c319KSksYX1jYXRjaChuKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBTdWJzY3JpYmUgVG9waWNcIiksdGhpcy5sb2dnZXIuZXJyb3Iobiksbn19KSxmKHRoaXMsXCJ1bnN1YnNjcmliZVwiLGFzeW5jKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0eXBlb2Ygcz8uaWQ8XCJ1XCI/YXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5SWQoaSxzLmlkLHMpOmF3YWl0IHRoaXMudW5zdWJzY3JpYmVCeVRvcGljKGkscyl9KSxmKHRoaXMsXCJpc1N1YnNjcmliZWRcIixpPT5uZXcgUHJvbWlzZShzPT57cyh0aGlzLnRvcGljTWFwLnRvcGljcy5pbmNsdWRlcyhpKSl9KSksZih0aGlzLFwiaXNLbm93blRvcGljXCIsaT0+bmV3IFByb21pc2Uocz0+e3ModGhpcy50b3BpY01hcC50b3BpY3MuaW5jbHVkZXMoaSl8fHRoaXMucGVuZGluZy5oYXMoaSl8fHRoaXMuY2FjaGVkLnNvbWUobj0+bi50b3BpYz09PWkpKX0pKSxmKHRoaXMsXCJvblwiLChpLHMpPT57dGhpcy5ldmVudHMub24oaSxzKX0pLGYodGhpcyxcIm9uY2VcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uY2UoaSxzKX0pLGYodGhpcyxcIm9mZlwiLChpLHMpPT57dGhpcy5ldmVudHMub2ZmKGkscyl9KSxmKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChpLHMpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSxzKX0pLGYodGhpcyxcInN0YXJ0XCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMub25Db25uZWN0KCl9KSxmKHRoaXMsXCJzdG9wXCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMub25EaXNjb25uZWN0KCl9KSxmKHRoaXMsXCJyZXN0YXJ0XCIsYXN5bmMoKT0+e2F3YWl0IHRoaXMucmVzdG9yZSgpLGF3YWl0IHRoaXMub25SZXN0YXJ0KCl9KSxmKHRoaXMsXCJjaGVja1BlbmRpbmdcIixhc3luYygpPT57aWYodGhpcy5wZW5kaW5nLnNpemU9PT0wJiYoIXRoaXMuaW5pdGlhbGl6ZWR8fCF0aGlzLnJlbGF5ZXIuY29ubmVjdGVkKSlyZXR1cm47Y29uc3QgaT1bXTt0aGlzLnBlbmRpbmcuZm9yRWFjaChzPT57aS5wdXNoKHMpfSksYXdhaXQgdGhpcy5iYXRjaFN1YnNjcmliZShpKX0pLGYodGhpcyxcInJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnNcIiwoKT0+e3RoaXMucmVsYXllci5jb3JlLmhlYXJ0YmVhdC5vbih0ZS5wdWxzZSxhc3luYygpPT57YXdhaXQgdGhpcy5jaGVja1BlbmRpbmcoKX0pLHRoaXMuZXZlbnRzLm9uKCQuY3JlYXRlZCxhc3luYyBpPT57Y29uc3Qgcz0kLmNyZWF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHtzfWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDpzLGRhdGE6aX0pLGF3YWl0IHRoaXMucGVyc2lzdCgpfSksdGhpcy5ldmVudHMub24oJC5kZWxldGVkLGFzeW5jIGk9Pntjb25zdCBzPSQuZGVsZXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3N9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnMsZGF0YTppfSksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KX0pLHRoaXMucmVsYXllcj1lLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpLHRoaXMuY2xpZW50SWQ9XCJcIn1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMucmVsYXllci5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplfWdldCBpZHMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN1YnNjcmlwdGlvbnMua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5zdWJzY3JpcHRpb25zLnZhbHVlcygpKX1nZXQgdG9waWNzKCl7cmV0dXJuIHRoaXMudG9waWNNYXAudG9waWNzfWdldCBoYXNBbnlUb3BpY3MoKXtyZXR1cm4gdGhpcy50b3BpY01hcC50b3BpY3MubGVuZ3RoPjB8fHRoaXMucGVuZGluZy5zaXplPjB8fHRoaXMuY2FjaGVkLmxlbmd0aD4wfHx0aGlzLnN1YnNjcmlwdGlvbnMuc2l6ZT4wfWhhc1N1YnNjcmlwdGlvbihlLHQpe2xldCBpPSExO3RyeXtpPXRoaXMuZ2V0U3Vic2NyaXB0aW9uKGUpLnRvcGljPT09dH1jYXRjaHt9cmV0dXJuIGl9cmVzZXQoKXt0aGlzLmNhY2hlZD1bXSx0aGlzLmluaXRpYWxpemVkPSEwfW9uRGlzYWJsZSgpe3RoaXMudmFsdWVzLmxlbmd0aD4wJiYodGhpcy5jYWNoZWQ9dGhpcy52YWx1ZXMpLHRoaXMuc3Vic2NyaXB0aW9ucy5jbGVhcigpLHRoaXMudG9waWNNYXAuY2xlYXIoKX1hc3luYyB1bnN1YnNjcmliZUJ5VG9waWMoZSx0KXtjb25zdCBpPXRoaXMudG9waWNNYXAuZ2V0KGUpO2F3YWl0IFByb21pc2UuYWxsKGkubWFwKGFzeW5jIHM9PmF3YWl0IHRoaXMudW5zdWJzY3JpYmVCeUlkKGUscyx0KSkpfWFzeW5jIHVuc3Vic2NyaWJlQnlJZChlLHQsaSl7dGhpcy5sb2dnZXIuZGVidWcoXCJVbnN1YnNjcmliaW5nIFRvcGljXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwidW5zdWJzY3JpYmVcIixwYXJhbXM6e3RvcGljOmUsaWQ6dCxvcHRzOml9fSk7dHJ5e2NvbnN0IHM9d2UoaSk7YXdhaXQgdGhpcy5yZXN0YXJ0VG9Db21wbGV0ZSh7dG9waWM6ZSxpZDp0LHJlbGF5OnN9KSxhd2FpdCB0aGlzLnJwY1Vuc3Vic2NyaWJlKGUsdCxzKTtjb25zdCBuPWFlKFwiVVNFUl9ESVNDT05ORUNURURcIixgJHt0aGlzLm5hbWV9LCAke2V9YCk7YXdhaXQgdGhpcy5vblVuc3Vic2NyaWJlKGUsdCxuKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBVbnN1YnNjcmliZWQgVG9waWNcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJ1bnN1YnNjcmliZVwiLHBhcmFtczp7dG9waWM6ZSxpZDp0LG9wdHM6aX19KX1jYXRjaChzKXt0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBVbnN1YnNjcmliZSBUb3BpY1wiKSx0aGlzLmxvZ2dlci5lcnJvcihzKSxzfX1hc3luYyBycGNTdWJzY3JpYmUoZSx0LGkpe3ZhciBzOyghaXx8aT8udHJhbnNwb3J0VHlwZT09PVEucmVsYXkpJiZhd2FpdCB0aGlzLnJlc3RhcnRUb0NvbXBsZXRlKHt0b3BpYzplLGlkOmUscmVsYXk6dH0pO2NvbnN0IG49e21ldGhvZDpvZSh0LnByb3RvY29sKS5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDpufSk7Y29uc3Qgbz0ocz1pPy5pbnRlcm5hbCk9PW51bGw/dm9pZCAwOnMudGhyb3dPbkZhaWxlZFB1Ymxpc2g7dHJ5e2NvbnN0IGE9YXdhaXQgdGhpcy5nZXRTdWJzY3JpcHRpb25JZChlKTtpZihpPy50cmFuc3BvcnRUeXBlPT09US5saW5rX21vZGUpcmV0dXJuIHNldFRpbWVvdXQoKCk9PnsodGhpcy5yZWxheWVyLmNvbm5lY3RlZHx8dGhpcy5yZWxheWVyLmNvbm5lY3RpbmcpJiZ0aGlzLnJlbGF5ZXIucmVxdWVzdChuKS5jYXRjaChsPT50aGlzLmxvZ2dlci53YXJuKGwpKX0sUihaKSksYTtjb25zdCBjPW5ldyBQcm9taXNlKGFzeW5jIGw9Pntjb25zdCBkPWc9PntnLnRvcGljPT09ZSYmKHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKCQuY3JlYXRlZCxkKSxsKGcuaWQpKX07dGhpcy5ldmVudHMub24oJC5jcmVhdGVkLGQpO3RyeXtjb25zdCBnPWF3YWl0IFgobmV3IFByb21pc2UoKF8sdSk9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChuKS5jYXRjaChiPT57dGhpcy5sb2dnZXIud2FybihiLGI/Lm1lc3NhZ2UpLHUoYil9KS50aGVuKF8pfSksdGhpcy5pbml0aWFsU3Vic2NyaWJlVGltZW91dCxgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcigkLmNyZWF0ZWQsZCksbChnKX1jYXRjaHt9fSksaD1hd2FpdCBYKGMsdGhpcy5zdWJzY3JpYmVUaW1lb3V0LGBTdWJzY3JpYmluZyB0byAke2V9IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbmApO2lmKCFoJiZvKXRocm93IG5ldyBFcnJvcihgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTtyZXR1cm4gaD9hOm51bGx9Y2F0Y2goYSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBTdWJzY3JpYmUgUGF5bG9hZCBzdGFsbGVkXCIpLHRoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCksbyl0aHJvdyBhfXJldHVybiBudWxsfWFzeW5jIHJwY0JhdGNoU3Vic2NyaWJlKGUpe2lmKCFlLmxlbmd0aClyZXR1cm47Y29uc3QgdD1lWzBdLnJlbGF5LGk9e21ldGhvZDpvZSh0LnByb3RvY29sKS5iYXRjaFN1YnNjcmliZSxwYXJhbXM6e3RvcGljczplLm1hcChzPT5zLnRvcGljKX19O3RoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcInBheWxvYWRcIixkaXJlY3Rpb246XCJvdXRnb2luZ1wiLHJlcXVlc3Q6aX0pO3RyeXthd2FpdCBhd2FpdCBYKG5ldyBQcm9taXNlKHM9Pnt0aGlzLnJlbGF5ZXIucmVxdWVzdChpKS5jYXRjaChuPT50aGlzLmxvZ2dlci53YXJuKG4pKS50aGVuKHMpfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hTdWJzY3JpYmUgZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluXCIpfWNhdGNoe3RoaXMucmVsYXllci5ldmVudHMuZW1pdChDLmNvbm5lY3Rpb25fc3RhbGxlZCl9fWFzeW5jIHJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKXtpZighZS5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9ZVswXS5yZWxheSxpPXttZXRob2Q6b2UodC5wcm90b2NvbCkuYmF0Y2hGZXRjaE1lc3NhZ2VzLHBhcmFtczp7dG9waWNzOmUubWFwKG49Pm4udG9waWMpfX07dGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDppfSk7bGV0IHM7dHJ5e3M9YXdhaXQgYXdhaXQgWChuZXcgUHJvbWlzZSgobixvKT0+e3RoaXMucmVsYXllci5yZXF1ZXN0KGkpLmNhdGNoKGE9Pnt0aGlzLmxvZ2dlci53YXJuKGEpLG8oYSl9KS50aGVuKG4pfSksdGhpcy5zdWJzY3JpYmVUaW1lb3V0LFwicnBjQmF0Y2hGZXRjaE1lc3NhZ2VzIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpblwiKX1jYXRjaHt0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoQy5jb25uZWN0aW9uX3N0YWxsZWQpfXJldHVybiBzfXJwY1Vuc3Vic2NyaWJlKGUsdCxpKXtjb25zdCBzPXttZXRob2Q6b2UoaS5wcm90b2NvbCkudW5zdWJzY3JpYmUscGFyYW1zOnt0b3BpYzplLGlkOnR9fTtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcIm91dGdvaW5nXCIscmVxdWVzdDpzfSksdGhpcy5yZWxheWVyLnJlcXVlc3Qocyl9b25TdWJzY3JpYmUoZSx0KXt0aGlzLnNldFN1YnNjcmlwdGlvbihlLEhlKGdlKHt9LHQpLHtpZDplfSkpLHRoaXMucGVuZGluZy5kZWxldGUodC50b3BpYyl9b25CYXRjaFN1YnNjcmliZShlKXtlLmxlbmd0aCYmZS5mb3JFYWNoKHQ9Pnt0aGlzLnNldFN1YnNjcmlwdGlvbih0LmlkLGdlKHt9LHQpKSx0aGlzLnBlbmRpbmcuZGVsZXRlKHQudG9waWMpfSl9YXN5bmMgb25VbnN1YnNjcmliZShlLHQsaSl7dGhpcy5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKHQpLHRoaXMuaGFzU3Vic2NyaXB0aW9uKHQsZSkmJnRoaXMuZGVsZXRlU3Vic2NyaXB0aW9uKHQsaSksYXdhaXQgdGhpcy5yZWxheWVyLm1lc3NhZ2VzLmRlbChlKX1hc3luYyBzZXRSZWxheWVyU3Vic2NyaXB0aW9ucyhlKXthd2FpdCB0aGlzLnJlbGF5ZXIuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LGUpfWFzeW5jIGdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCl7cmV0dXJuIGF3YWl0IHRoaXMucmVsYXllci5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfXNldFN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRTdWJzY3JpcHRpb25cIixpZDplLHN1YnNjcmlwdGlvbjp0fSksdGhpcy5hZGRTdWJzY3JpcHRpb24oZSx0KX1hZGRTdWJzY3JpcHRpb24oZSx0KXt0aGlzLnN1YnNjcmlwdGlvbnMuc2V0KGUsZ2Uoe30sdCkpLHRoaXMudG9waWNNYXAuc2V0KHQudG9waWMsZSksdGhpcy5ldmVudHMuZW1pdCgkLmNyZWF0ZWQsdCl9Z2V0U3Vic2NyaXB0aW9uKGUpe3RoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyBzdWJzY3JpcHRpb25cIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJnZXRTdWJzY3JpcHRpb25cIixpZDplfSk7Y29uc3QgdD10aGlzLnN1YnNjcmlwdGlvbnMuZ2V0KGUpO2lmKCF0KXtjb25zdHttZXNzYWdlOml9PW0oXCJOT19NQVRDSElOR19LRVlcIixgJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgbmV3IEVycm9yKGkpfXJldHVybiB0fWRlbGV0ZVN1YnNjcmlwdGlvbihlLHQpe3RoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgc3Vic2NyaXB0aW9uXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZGVsZXRlU3Vic2NyaXB0aW9uXCIsaWQ6ZSxyZWFzb246dH0pO2NvbnN0IGk9dGhpcy5nZXRTdWJzY3JpcHRpb24oZSk7dGhpcy5zdWJzY3JpcHRpb25zLmRlbGV0ZShlKSx0aGlzLnRvcGljTWFwLmRlbGV0ZShpLnRvcGljLGUpLHRoaXMuZXZlbnRzLmVtaXQoJC5kZWxldGVkLEhlKGdlKHt9LGkpLHtyZWFzb246dH0pKX1hc3luYyBwZXJzaXN0KCl7YXdhaXQgdGhpcy5zZXRSZWxheWVyU3Vic2NyaXB0aW9ucyh0aGlzLnZhbHVlcyksdGhpcy5ldmVudHMuZW1pdCgkLnN5bmMpfWFzeW5jIG9uUmVzdGFydCgpe2lmKHRoaXMuY2FjaGVkLmxlbmd0aCl7Y29uc3QgZT1bLi4udGhpcy5jYWNoZWRdLHQ9TWF0aC5jZWlsKHRoaXMuY2FjaGVkLmxlbmd0aC90aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2ZvcihsZXQgaT0wO2k8dDtpKyspe2NvbnN0IHM9ZS5zcGxpY2UoMCx0aGlzLmJhdGNoU3Vic2NyaWJlVG9waWNzTGltaXQpO2F3YWl0IHRoaXMuYmF0Y2hTdWJzY3JpYmUocyl9fXRoaXMuZXZlbnRzLmVtaXQoJC5yZXN1YnNjcmliZWQpfWFzeW5jIHJlc3RvcmUoKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLmdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCk7aWYodHlwZW9mIGU+XCJ1XCJ8fCFlLmxlbmd0aClyZXR1cm47aWYodGhpcy5zdWJzY3JpcHRpb25zLnNpemUpe2NvbnN0e21lc3NhZ2U6dH09bShcIlJFU1RPUkVfV0lMTF9PVkVSUklERVwiLHRoaXMubmFtZSk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksdGhpcy5sb2dnZXIuZXJyb3IoYCR7dGhpcy5uYW1lfTogJHtKU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlcyl9YCksbmV3IEVycm9yKHQpfXRoaXMuY2FjaGVkPWUsdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCBzdWJzY3JpcHRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixzdWJzY3JpcHRpb25zOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHN1YnNjcmlwdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLmVycm9yKGUpfX1hc3luYyBiYXRjaFN1YnNjcmliZShlKXtlLmxlbmd0aCYmKGF3YWl0IHRoaXMucnBjQmF0Y2hTdWJzY3JpYmUoZSksdGhpcy5vbkJhdGNoU3Vic2NyaWJlKGF3YWl0IFByb21pc2UuYWxsKGUubWFwKGFzeW5jIHQ9PkhlKGdlKHt9LHQpLHtpZDphd2FpdCB0aGlzLmdldFN1YnNjcmlwdGlvbklkKHQudG9waWMpfSkpKSkpfWFzeW5jIGJhdGNoRmV0Y2hNZXNzYWdlcyhlKXtpZighZS5sZW5ndGgpcmV0dXJuO3RoaXMubG9nZ2VyLnRyYWNlKGBGZXRjaGluZyBiYXRjaCBtZXNzYWdlcyBmb3IgJHtlLmxlbmd0aH0gc3Vic2NyaXB0aW9uc2ApO2NvbnN0IHQ9YXdhaXQgdGhpcy5ycGNCYXRjaEZldGNoTWVzc2FnZXMoZSk7dCYmdC5tZXNzYWdlcyYmKGF3YWl0IF9zKFIoWikpLGF3YWl0IHRoaXMucmVsYXllci5oYW5kbGVCYXRjaE1lc3NhZ2VFdmVudHModC5tZXNzYWdlcykpfWFzeW5jIG9uQ29ubmVjdCgpe2F3YWl0IHRoaXMucmVzdGFydCgpLHRoaXMucmVzZXQoKX1vbkRpc2Nvbm5lY3QoKXt0aGlzLm9uRGlzYWJsZSgpfWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fWFzeW5jIHJlc3RhcnRUb0NvbXBsZXRlKGUpeyF0aGlzLnJlbGF5ZXIuY29ubmVjdGVkJiYhdGhpcy5yZWxheWVyLmNvbm5lY3RpbmcmJih0aGlzLmNhY2hlZC5wdXNoKGUpLGF3YWl0IHRoaXMucmVsYXllci50cmFuc3BvcnRPcGVuKCkpfWFzeW5jIGdldENsaWVudElkKCl7cmV0dXJuIHRoaXMuY2xpZW50SWR8fCh0aGlzLmNsaWVudElkPWF3YWl0IHRoaXMucmVsYXllci5jb3JlLmNyeXB0by5nZXRDbGllbnRJZCgpKSx0aGlzLmNsaWVudElkfWFzeW5jIGdldFN1YnNjcmlwdGlvbklkKGUpe3JldHVybiB2ZShlK2F3YWl0IHRoaXMuZ2V0Q2xpZW50SWQoKSl9fXZhciB0bz1PYmplY3QuZGVmaW5lUHJvcGVydHksUGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxpbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHNvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsWWU9KHIsZSx0KT0+ZSBpbiByP3RvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxTaT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpaW8uY2FsbChlLHQpJiZZZShyLHQsZVt0XSk7aWYoUGkpZm9yKHZhciB0IG9mIFBpKGUpKXNvLmNhbGwoZSx0KSYmWWUocix0LGVbdF0pO3JldHVybiByfSx5PShyLGUsdCk9PlllKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgT2kgZXh0ZW5kcyB0c3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx5KHRoaXMsXCJwcm90b2NvbFwiLFwid2NcIikseSh0aGlzLFwidmVyc2lvblwiLDIpLHkodGhpcyxcImNvcmVcIikseSh0aGlzLFwibG9nZ2VyXCIpLHkodGhpcyxcImV2ZW50c1wiLG5ldyBlZSkseSh0aGlzLFwicHJvdmlkZXJcIikseSh0aGlzLFwibWVzc2FnZXNcIikseSh0aGlzLFwic3Vic2NyaWJlclwiKSx5KHRoaXMsXCJwdWJsaXNoZXJcIikseSh0aGlzLFwibmFtZVwiLCR0KSx5KHRoaXMsXCJ0cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkXCIsITEpLHkodGhpcyxcImluaXRpYWxpemVkXCIsITEpLHkodGhpcyxcImNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzc1wiLCExKSx5KHRoaXMsXCJyZWxheVVybFwiKSx5KHRoaXMsXCJwcm9qZWN0SWRcIikseSh0aGlzLFwicGFja2FnZU5hbWVcIikseSh0aGlzLFwiYnVuZGxlSWRcIikseSh0aGlzLFwiaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvblwiLCExKSx5KHRoaXMsXCJwaW5nVGltZW91dFwiKSx5KHRoaXMsXCJoZWFydEJlYXRUaW1lb3V0XCIsUihTZStQZSkpLHkodGhpcyxcInJlY29ubmVjdFRpbWVvdXRcIikseSh0aGlzLFwiY29ubmVjdFByb21pc2VcIikseSh0aGlzLFwicmVjb25uZWN0SW5Qcm9ncmVzc1wiLCExKSx5KHRoaXMsXCJyZXF1ZXN0c0luRmxpZ2h0XCIsW10pLHkodGhpcyxcImNvbm5lY3RUaW1lb3V0XCIsUihaKjE1KSkseSh0aGlzLFwicmVxdWVzdFwiLGFzeW5jIHQ9Pnt2YXIgaSxzO3RoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBSZXF1ZXN0IFBheWxvYWRcIik7Y29uc3Qgbj10LmlkfHxtdCgpLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy50b0VzdGFibGlzaENvbm5lY3Rpb24oKTt0cnl7dGhpcy5sb2dnZXIudHJhY2Uoe2lkOm4sbWV0aG9kOnQubWV0aG9kLHRvcGljOihpPXQucGFyYW1zKT09bnVsbD92b2lkIDA6aS50b3BpY30sXCJyZWxheWVyLnJlcXVlc3QgLSBwdWJsaXNoaW5nLi4uXCIpO2NvbnN0IG89YCR7bn06JHsoKHM9dC5wYXJhbXMpPT1udWxsP3ZvaWQgMDpzLnRhZyl8fFwiXCJ9YDt0aGlzLnJlcXVlc3RzSW5GbGlnaHQucHVzaChvKTtjb25zdCBhPWF3YWl0IHRoaXMucHJvdmlkZXIucmVxdWVzdCh0KTtyZXR1cm4gdGhpcy5yZXF1ZXN0c0luRmxpZ2h0PXRoaXMucmVxdWVzdHNJbkZsaWdodC5maWx0ZXIoYz0+YyE9PW8pLGF9Y2F0Y2gobyl7dGhyb3cgdGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBQdWJsaXNoIFJlcXVlc3Q6ICR7bn1gKSxvfX0pLHkodGhpcyxcInJlc2V0UGluZ1RpbWVvdXRcIiwoKT0+e3V0KCkmJihjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCksdGhpcy5waW5nVGltZW91dD1zZXRUaW1lb3V0KCgpPT57dmFyIHQsaSxzLG47dHJ5e3RoaXMubG9nZ2VyLmRlYnVnKHt9LFwicGluZ1RpbWVvdXQ6IENvbm5lY3Rpb24gc3RhbGxlZCwgdGVybWluYXRpbmcuLi5cIiksKG49KHM9KGk9KHQ9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOnQuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOmkuc29ja2V0KT09bnVsbD92b2lkIDA6cy50ZXJtaW5hdGUpPT1udWxsfHxuLmNhbGwocyl9Y2F0Y2gobyl7dGhpcy5sb2dnZXIud2FybihvLG8/Lm1lc3NhZ2UpfX0sdGhpcy5oZWFydEJlYXRUaW1lb3V0KSl9KSx5KHRoaXMsXCJvblBheWxvYWRIYW5kbGVyXCIsdD0+e3RoaXMub25Qcm92aWRlclBheWxvYWQodCksdGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9KSx5KHRoaXMsXCJvbkNvbm5lY3RIYW5kbGVyXCIsKCk9Pnt0aGlzLmxvZ2dlci53YXJuKHt9LFwiUmVsYXllciBjb25uZWN0ZWQgXFx1ezFGNkRDfVwiKSx0aGlzLnN0YXJ0UGluZ1RpbWVvdXQoKSx0aGlzLmV2ZW50cy5lbWl0KEMuY29ubmVjdCl9KSx5KHRoaXMsXCJvbkRpc2Nvbm5lY3RIYW5kbGVyXCIsKCk9Pnt0aGlzLmxvZ2dlci53YXJuKHt9LFwiUmVsYXllciBkaXNjb25uZWN0ZWQgXFx1ezFGNkQxfVwiKSx0aGlzLnJlcXVlc3RzSW5GbGlnaHQ9W10sdGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpfSkseSh0aGlzLFwib25Qcm92aWRlckVycm9ySGFuZGxlclwiLHQ9Pnt0aGlzLmxvZ2dlci5mYXRhbChgRmF0YWwgc29ja2V0IGVycm9yOiAke3QubWVzc2FnZX1gKSx0aGlzLmV2ZW50cy5lbWl0KEMuZXJyb3IsdCksdGhpcy5sb2dnZXIuZmF0YWwoXCJGYXRhbCBzb2NrZXQgZXJyb3IgcmVjZWl2ZWQsIGNsb3NpbmcgdHJhbnNwb3J0XCIpLHRoaXMudHJhbnNwb3J0Q2xvc2UoKX0pLHkodGhpcyxcInJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnNcIiwoKT0+e3RoaXMucHJvdmlkZXIub24oTC5wYXlsb2FkLHRoaXMub25QYXlsb2FkSGFuZGxlciksdGhpcy5wcm92aWRlci5vbihMLmNvbm5lY3QsdGhpcy5vbkNvbm5lY3RIYW5kbGVyKSx0aGlzLnByb3ZpZGVyLm9uKEwuZGlzY29ubmVjdCx0aGlzLm9uRGlzY29ubmVjdEhhbmRsZXIpLHRoaXMucHJvdmlkZXIub24oTC5lcnJvcix0aGlzLm9uUHJvdmlkZXJFcnJvckhhbmRsZXIpfSksdGhpcy5jb3JlPWUuY29yZSx0aGlzLmxvZ2dlcj10eXBlb2YgZS5sb2dnZXI8XCJ1XCImJnR5cGVvZiBlLmxvZ2dlciE9XCJzdHJpbmdcIj9OKGUubG9nZ2VyLHRoaXMubmFtZSk6SmkoZXQoe2xldmVsOmUubG9nZ2VyfHxOdH0pKSx0aGlzLm1lc3NhZ2VzPW5ldyBFaSh0aGlzLmxvZ2dlcixlLmNvcmUpLHRoaXMuc3Vic2NyaWJlcj1uZXcgQ2kodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5wdWJsaXNoZXI9bmV3IEduKHRoaXMsdGhpcy5sb2dnZXIpLHRoaXMucmVsYXlVcmw9ZT8ucmVsYXlVcmx8fFVlLHRoaXMucHJvamVjdElkPWUucHJvamVjdElkLEVzKCk/dGhpcy5wYWNrYWdlTmFtZT1odCgpOklzKCkmJih0aGlzLmJ1bmRsZUlkPWh0KCkpLHRoaXMucHJvdmlkZXI9e319YXN5bmMgaW5pdCgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMubWVzc2FnZXMuaW5pdCgpLHRoaXMuc3Vic2NyaWJlci5pbml0KCldKSx0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMudHJhbnNwb3J0T3BlbigpLmNhdGNoKGU9PnRoaXMubG9nZ2VyLndhcm4oZSxlPy5tZXNzYWdlKSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IGNvbm5lY3RlZCgpe3ZhciBlLHQsaTtyZXR1cm4oKGk9KHQ9KGU9dGhpcy5wcm92aWRlcik9PW51bGw/dm9pZCAwOmUuY29ubmVjdGlvbik9PW51bGw/dm9pZCAwOnQuc29ja2V0KT09bnVsbD92b2lkIDA6aS5yZWFkeVN0YXRlKT09PTF8fCExfWdldCBjb25uZWN0aW5nKCl7dmFyIGUsdCxpO3JldHVybigoaT0odD0oZT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6ZS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6dC5zb2NrZXQpPT1udWxsP3ZvaWQgMDppLnJlYWR5U3RhdGUpPT09MHx8dGhpcy5jb25uZWN0UHJvbWlzZSE9PXZvaWQgMHx8ITF9YXN5bmMgcHVibGlzaChlLHQsaSl7dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wdWJsaXNoZXIucHVibGlzaChlLHQsaSksYXdhaXQgdGhpcy5yZWNvcmRNZXNzYWdlRXZlbnQoe3RvcGljOmUsbWVzc2FnZTp0LHB1Ymxpc2hlZEF0OkRhdGUubm93KCksdHJhbnNwb3J0VHlwZTpRLnJlbGF5fSxsZS5vdXRib3VuZCl9YXN5bmMgc3Vic2NyaWJlKGUsdCl7dmFyIGkscyxuO3RoaXMuaXNJbml0aWFsaXplZCgpLCghKHQhPW51bGwmJnQudHJhbnNwb3J0VHlwZSl8fHQ/LnRyYW5zcG9ydFR5cGU9PT1cInJlbGF5XCIpJiZhd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO2NvbnN0IG89dHlwZW9mKChpPXQ/LmludGVybmFsKT09bnVsbD92b2lkIDA6aS50aHJvd09uRmFpbGVkUHVibGlzaCk+XCJ1XCI/ITA6KHM9dD8uaW50ZXJuYWwpPT1udWxsP3ZvaWQgMDpzLnRocm93T25GYWlsZWRQdWJsaXNoO2xldCBhPSgobj10aGlzLnN1YnNjcmliZXIudG9waWNNYXAuZ2V0KGUpKT09bnVsbD92b2lkIDA6blswXSl8fFwiXCIsYztjb25zdCBoPWw9PntsLnRvcGljPT09ZSYmKHRoaXMuc3Vic2NyaWJlci5vZmYoJC5jcmVhdGVkLGgpLGMoKSl9O3JldHVybiBhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UobD0+e2M9bCx0aGlzLnN1YnNjcmliZXIub24oJC5jcmVhdGVkLGgpfSksbmV3IFByb21pc2UoYXN5bmMobCxkKT0+e2E9YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN1YnNjcmliZShlLFNpKHtpbnRlcm5hbDp7dGhyb3dPbkZhaWxlZFB1Ymxpc2g6b319LHQpKS5jYXRjaChnPT57byYmZChnKX0pfHxhLGwoKX0pXSksYX1hc3luYyB1bnN1YnNjcmliZShlLHQpe3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuc3Vic2NyaWJlci51bnN1YnNjcmliZShlLHQpfW9uKGUsdCl7dGhpcy5ldmVudHMub24oZSx0KX1vbmNlKGUsdCl7dGhpcy5ldmVudHMub25jZShlLHQpfW9mZihlLHQpe3RoaXMuZXZlbnRzLm9mZihlLHQpfXJlbW92ZUxpc3RlbmVyKGUsdCl7dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSx0KX1hc3luYyB0cmFuc3BvcnREaXNjb25uZWN0KCl7dGhpcy5wcm92aWRlci5kaXNjb25uZWN0JiYodGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9ufHx0aGlzLmNvbm5lY3RlZCk/YXdhaXQgWCh0aGlzLnByb3ZpZGVyLmRpc2Nvbm5lY3QoKSwyZTMsXCJwcm92aWRlci5kaXNjb25uZWN0KClcIikuY2F0Y2goKCk9PnRoaXMub25Qcm92aWRlckRpc2Nvbm5lY3QoKSk6dGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydENsb3NlKCl7dGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSEwLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpfWFzeW5jIHRyYW5zcG9ydE9wZW4oZSl7aWYoIXRoaXMuc3Vic2NyaWJlci5oYXNBbnlUb3BpY3Mpe3RoaXMubG9nZ2VyLndhcm4oXCJTdGFydGluZyBXUyBjb25uZWN0aW9uIHNraXBwZWQgYmVjYXVzZSB0aGUgY2xpZW50IGhhcyBubyB0b3BpY3MgdG8gd29yayB3aXRoLlwiKTtyZXR1cm59aWYodGhpcy5jb25uZWN0UHJvbWlzZT8odGhpcy5sb2dnZXIuZGVidWcoe30sXCJXYWl0aW5nIGZvciBleGlzdGluZyBjb25uZWN0aW9uIGF0dGVtcHQgdG8gcmVzb2x2ZS4uLlwiKSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlLHRoaXMubG9nZ2VyLmRlYnVnKHt9LFwiRXhpc3RpbmcgY29ubmVjdGlvbiBhdHRlbXB0IHJlc29sdmVkXCIpKToodGhpcy5jb25uZWN0UHJvbWlzZT1uZXcgUHJvbWlzZShhc3luYyh0LGkpPT57YXdhaXQgdGhpcy5jb25uZWN0KGUpLnRoZW4odCkuY2F0Y2goaSkuZmluYWxseSgoKT0+e3RoaXMuY29ubmVjdFByb21pc2U9dm9pZCAwfSl9KSxhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlKSwhdGhpcy5jb25uZWN0ZWQpdGhyb3cgbmV3IEVycm9yKGBDb3VsZG4ndCBlc3RhYmxpc2ggc29ja2V0IGNvbm5lY3Rpb24gdG8gdGhlIHJlbGF5IHNlcnZlcjogJHt0aGlzLnJlbGF5VXJsfWApfWFzeW5jIHJlc3RhcnRUcmFuc3BvcnQoZSl7dGhpcy5sb2dnZXIuZGVidWcoe30sXCJSZXN0YXJ0aW5nIHRyYW5zcG9ydC4uLlwiKSwhdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3MmJih0aGlzLnJlbGF5VXJsPWV8fHRoaXMucmVsYXlVcmwsYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksYXdhaXQgdGhpcy50cmFuc3BvcnRDbG9zZSgpLGF3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpKX1hc3luYyBjb25maXJtT25saW5lU3RhdGVPclRocm93KCl7aWYoIWF3YWl0IGx0KCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gaW50ZXJuZXQgY29ubmVjdGlvbiBkZXRlY3RlZC4gUGxlYXNlIHJlc3RhcnQgeW91ciBuZXR3b3JrIGFuZCB0cnkgYWdhaW4uXCIpfWFzeW5jIGhhbmRsZUJhdGNoTWVzc2FnZUV2ZW50cyhlKXtpZihlPy5sZW5ndGg9PT0wKXt0aGlzLmxvZ2dlci50cmFjZShcIkJhdGNoIG1lc3NhZ2UgZXZlbnRzIGlzIGVtcHR5LiBJZ25vcmluZy4uLlwiKTtyZXR1cm59Y29uc3QgdD1lLnNvcnQoKGkscyk9PmkucHVibGlzaGVkQXQtcy5wdWJsaXNoZWRBdCk7dGhpcy5sb2dnZXIuZGVidWcoYEJhdGNoIG9mICR7dC5sZW5ndGh9IG1lc3NhZ2UgZXZlbnRzIHNvcnRlZGApO2Zvcihjb25zdCBpIG9mIHQpdHJ5e2F3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQoaSl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzLFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBiYXRjaCBtZXNzYWdlIGV2ZW50OiBcIitzPy5tZXNzYWdlKX10aGlzLmxvZ2dlci50cmFjZShgQmF0Y2ggb2YgJHt0Lmxlbmd0aH0gbWVzc2FnZSBldmVudHMgcHJvY2Vzc2VkYCl9YXN5bmMgb25MaW5rTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6aX09ZTtpZighdC5zZXNzaW9uRXhpc3RzKXtjb25zdCBzPWNlKGZlKSxuPXt0b3BpYzppLGV4cGlyeTpzLHJlbGF5Ontwcm90b2NvbDpcImlyblwifSxhY3RpdmU6ITF9O2F3YWl0IHRoaXMuY29yZS5wYWlyaW5nLnBhaXJpbmdzLnNldChpLG4pfXRoaXMuZXZlbnRzLmVtaXQoQy5tZXNzYWdlLGUpLGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUsbGUuaW5ib3VuZCl9YXN5bmMgY29ubmVjdChlKXthd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxlJiZlIT09dGhpcy5yZWxheVVybCYmKHRoaXMucmVsYXlVcmw9ZSxhd2FpdCB0aGlzLnRyYW5zcG9ydERpc2Nvbm5lY3QoKSksdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3M9ITAsdGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkPSExO2xldCB0PTE7Zm9yKDt0PDY7KXt0cnl7aWYodGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkKWJyZWFrO3RoaXMubG9nZ2VyLmRlYnVnKHt9LGBDb25uZWN0aW5nIHRvICR7dGhpcy5yZWxheVVybH0sIGF0dGVtcHQ6ICR7dH0uLi5gKSxhd2FpdCB0aGlzLmNyZWF0ZVByb3ZpZGVyKCksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMoaSxzKT0+e2NvbnN0IG49KCk9PntzKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIGNvbm5lY3RcIikpfTt0aGlzLnByb3ZpZGVyLm9uY2UoTC5kaXNjb25uZWN0LG4pLGF3YWl0IFgobmV3IFByb21pc2UoKG8sYSk9Pnt0aGlzLnByb3ZpZGVyLmNvbm5lY3QoKS50aGVuKG8pLmNhdGNoKGEpfSksdGhpcy5jb25uZWN0VGltZW91dCxgU29ja2V0IHN0YWxsZWQgd2hlbiB0cnlpbmcgdG8gY29ubmVjdCB0byAke3RoaXMucmVsYXlVcmx9YCkuY2F0Y2gobz0+e3Mobyl9KS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTC5kaXNjb25uZWN0LG4pLGNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVvdXQpfSksYXdhaXQgbmV3IFByb21pc2UoYXN5bmMobyxhKT0+e2NvbnN0IGM9KCk9PntzKG5ldyBFcnJvcihcIkNvbm5lY3Rpb24gaW50ZXJydXB0ZWQgd2hpbGUgdHJ5aW5nIHRvIHN1YnNjcmliZVwiKSl9O3RoaXMucHJvdmlkZXIub25jZShMLmRpc2Nvbm5lY3QsYyksYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0YXJ0KCkudGhlbihvKS5jYXRjaChhKS5maW5hbGx5KCgpPT57dGhpcy5wcm92aWRlci5vZmYoTC5kaXNjb25uZWN0LGMpfSl9KSx0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb249ITEsaSgpfSl9Y2F0Y2goaSl7YXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0b3AoKTtjb25zdCBzPWk7dGhpcy5sb2dnZXIud2Fybih7fSxzLm1lc3NhZ2UpLHRoaXMuaGFzRXhwZXJpZW5jZWROZXR3b3JrRGlzcnVwdGlvbj0hMH1maW5hbGx5e3RoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzPSExfWlmKHRoaXMuY29ubmVjdGVkKXt0aGlzLmxvZ2dlci5kZWJ1Zyh7fSxgQ29ubmVjdGVkIHRvICR7dGhpcy5yZWxheVVybH0gc3VjY2Vzc2Z1bGx5IG9uIGF0dGVtcHQ6ICR7dH1gKTticmVha31hd2FpdCBuZXcgUHJvbWlzZShpPT5zZXRUaW1lb3V0KGksUih0KjEpKSksdCsrfX1zdGFydFBpbmdUaW1lb3V0KCl7dmFyIGUsdCxpLHMsbjtpZih1dCgpKXRyeXsodD0oZT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6ZS5jb25uZWN0aW9uKSE9bnVsbCYmdC5zb2NrZXQmJigobj0ocz0oaT10aGlzLnByb3ZpZGVyKT09bnVsbD92b2lkIDA6aS5jb25uZWN0aW9uKT09bnVsbD92b2lkIDA6cy5zb2NrZXQpPT1udWxsfHxuLm9uKFwicGluZ1wiLCgpPT57dGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9KSksdGhpcy5yZXNldFBpbmdUaW1lb3V0KCl9Y2F0Y2gobyl7dGhpcy5sb2dnZXIud2FybihvLG8/Lm1lc3NhZ2UpfX1hc3luYyBjcmVhdGVQcm92aWRlcigpe3RoaXMucHJvdmlkZXIuY29ubmVjdGlvbiYmdGhpcy51bnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMoKTtjb25zdCBlPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2lnbkpXVCh0aGlzLnJlbGF5VXJsKTt0aGlzLnByb3ZpZGVyPW5ldyBLcyhuZXcgcXMoVHMoe3Nka1ZlcnNpb246X2UscHJvdG9jb2w6dGhpcy5wcm90b2NvbCx2ZXJzaW9uOnRoaXMudmVyc2lvbixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZCxhdXRoOmUsdXNlT25DbG9zZUV2ZW50OiEwLGJ1bmRsZUlkOnRoaXMuYnVuZGxlSWQscGFja2FnZU5hbWU6dGhpcy5wYWNrYWdlTmFtZX0pKSksdGhpcy5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCl9YXN5bmMgcmVjb3JkTWVzc2FnZUV2ZW50KGUsdCl7Y29uc3R7dG9waWM6aSxtZXNzYWdlOnN9PWU7YXdhaXQgdGhpcy5tZXNzYWdlcy5zZXQoaSxzLHQpfWFzeW5jIHNob3VsZElnbm9yZU1lc3NhZ2VFdmVudChlKXtjb25zdHt0b3BpYzp0LG1lc3NhZ2U6aX09ZTtpZighaXx8aS5sZW5ndGg9PT0wKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBpbnZhbGlkL2VtcHR5IG1lc3NhZ2U6ICR7aX1gKSwhMDtpZighYXdhaXQgdGhpcy5zdWJzY3JpYmVyLmlzS25vd25Ub3BpYyh0KSlyZXR1cm4gdGhpcy5sb2dnZXIud2FybihgSWdub3JpbmcgbWVzc2FnZSBmb3IgdW5rbm93biB0b3BpYyAke3R9YCksITA7Y29uc3Qgcz10aGlzLm1lc3NhZ2VzLmhhcyh0LGkpO3JldHVybiBzJiZ0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBkdXBsaWNhdGUgbWVzc2FnZTogJHtpfWApLHN9YXN5bmMgb25Qcm92aWRlclBheWxvYWQoZSl7aWYodGhpcy5sb2dnZXIuZGVidWcoXCJJbmNvbWluZyBSZWxheSBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwicGF5bG9hZFwiLGRpcmVjdGlvbjpcImluY29taW5nXCIscGF5bG9hZDplfSksZnQoZSkpe2lmKCFlLm1ldGhvZC5lbmRzV2l0aCh6dCkpcmV0dXJuO2NvbnN0IHQ9ZS5wYXJhbXMse3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sYXR0ZXN0YXRpb246b309dC5kYXRhLGE9e3RvcGljOmksbWVzc2FnZTpzLHB1Ymxpc2hlZEF0Om4sdHJhbnNwb3J0VHlwZTpRLnJlbGF5LGF0dGVzdGF0aW9uOm99O3RoaXMubG9nZ2VyLmRlYnVnKFwiRW1pdHRpbmcgUmVsYXllciBQYXlsb2FkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKFNpKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LmlkfSxhKSksdGhpcy5ldmVudHMuZW1pdCh0LmlkLGEpLGF3YWl0IHRoaXMuYWNrbm93bGVkZ2VQYXlsb2FkKGUpLGF3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQoYSl9ZWxzZSBEdChlKSYmdGhpcy5ldmVudHMuZW1pdChDLm1lc3NhZ2VfYWNrLGUpfWFzeW5jIG9uTWVzc2FnZUV2ZW50KGUpe2F3YWl0IHRoaXMuc2hvdWxkSWdub3JlTWVzc2FnZUV2ZW50KGUpfHwoYXdhaXQgdGhpcy5yZWNvcmRNZXNzYWdlRXZlbnQoZSxsZS5pbmJvdW5kKSx0aGlzLmV2ZW50cy5lbWl0KEMubWVzc2FnZSxlKSl9YXN5bmMgYWNrbm93bGVkZ2VQYXlsb2FkKGUpe2NvbnN0IHQ9dnQoZS5pZCwhMCk7YXdhaXQgdGhpcy5wcm92aWRlci5jb25uZWN0aW9uLnNlbmQodCl9dW5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCl7dGhpcy5wcm92aWRlci5vZmYoTC5wYXlsb2FkLHRoaXMub25QYXlsb2FkSGFuZGxlciksdGhpcy5wcm92aWRlci5vZmYoTC5jb25uZWN0LHRoaXMub25Db25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vZmYoTC5kaXNjb25uZWN0LHRoaXMub25EaXNjb25uZWN0SGFuZGxlciksdGhpcy5wcm92aWRlci5vZmYoTC5lcnJvcix0aGlzLm9uUHJvdmlkZXJFcnJvckhhbmRsZXIpLGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0KX1hc3luYyByZWdpc3RlckV2ZW50TGlzdGVuZXJzKCl7bGV0IGU9YXdhaXQgbHQoKTtDcyhhc3luYyB0PT57ZSE9PXQmJihlPXQsdD9hd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKS5jYXRjaChpPT50aGlzLmxvZ2dlci5lcnJvcihpLGk/Lm1lc3NhZ2UpKToodGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uPSEwLGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpLHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZD0hMSkpfSksdGhpcy5jb3JlLmhlYXJ0YmVhdC5vbih0ZS5wdWxzZSxhc3luYygpPT57aWYoIXRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZCYmIXRoaXMuY29ubmVjdGVkJiZQcygpKXRyeXthd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSxhd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKX1jYXRjaCh0KXt0aGlzLmxvZ2dlci53YXJuKHQsdD8ubWVzc2FnZSl9fSl9YXN5bmMgb25Qcm92aWRlckRpc2Nvbm5lY3QoKXtjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCksdGhpcy5ldmVudHMuZW1pdChDLmRpc2Nvbm5lY3QpLHRoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzPSExLCF0aGlzLnJlY29ubmVjdEluUHJvZ3Jlc3MmJih0aGlzLnJlY29ubmVjdEluUHJvZ3Jlc3M9ITAsYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0b3AoKSx0aGlzLnN1YnNjcmliZXIuaGFzQW55VG9waWNzJiYodGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkfHwodGhpcy5yZWNvbm5lY3RUaW1lb3V0PXNldFRpbWVvdXQoYXN5bmMoKT0+e2F3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpLmNhdGNoKGU9PnRoaXMubG9nZ2VyLmVycm9yKGUsZT8ubWVzc2FnZSkpLHRoaXMucmVjb25uZWN0VGltZW91dD12b2lkIDAsdGhpcy5yZWNvbm5lY3RJblByb2dyZXNzPSExfSxSKEx0KSkpKSl9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19YXN5bmMgdG9Fc3RhYmxpc2hDb25uZWN0aW9uKCl7aWYoYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksIXRoaXMuY29ubmVjdGVkKXtpZih0aGlzLmNvbm5lY3RQcm9taXNlKXthd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlO3JldHVybn1hd2FpdCB0aGlzLmNvbm5lY3QoKX19fWZ1bmN0aW9uIHJvKHIsZSl7cmV0dXJuIHI9PT1lfHxOdW1iZXIuaXNOYU4ocikmJk51bWJlci5pc05hTihlKX1mdW5jdGlvbiBSaShyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhyKS5maWx0ZXIoZT0+T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHIsZSkpfWZ1bmN0aW9uIEFpKHIpe3JldHVybiByPT1udWxsP3I9PT12b2lkIDA/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocil9Y29uc3Qgbm89XCJbb2JqZWN0IFJlZ0V4cF1cIixvbz1cIltvYmplY3QgU3RyaW5nXVwiLGFvPVwiW29iamVjdCBOdW1iZXJdXCIsY289XCJbb2JqZWN0IEJvb2xlYW5dXCIseGk9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixobz1cIltvYmplY3QgU3ltYm9sXVwiLGxvPVwiW29iamVjdCBEYXRlXVwiLHVvPVwiW29iamVjdCBNYXBdXCIsZ289XCJbb2JqZWN0IFNldF1cIixwbz1cIltvYmplY3QgQXJyYXldXCIseW89XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLGJvPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixKZT1cIltvYmplY3QgT2JqZWN0XVwiLG1vPVwiW29iamVjdCBFcnJvcl1cIixmbz1cIltvYmplY3QgRGF0YVZpZXddXCIsRG89XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsdm89XCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLHdvPVwiW29iamVjdCBVaW50MTZBcnJheV1cIixfbz1cIltvYmplY3QgVWludDMyQXJyYXldXCIsRW89XCJbb2JqZWN0IEJpZ1VpbnQ2NEFycmF5XVwiLElvPVwiW29iamVjdCBJbnQ4QXJyYXldXCIsVG89XCJbb2JqZWN0IEludDE2QXJyYXldXCIsQ289XCJbb2JqZWN0IEludDMyQXJyYXldXCIsUG89XCJbb2JqZWN0IEJpZ0ludDY0QXJyYXldXCIsU289XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixPbz1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiO2Z1bmN0aW9uIFJvKCl7fWZ1bmN0aW9uIE5pKHIpe2lmKCFyfHx0eXBlb2YgciE9XCJvYmplY3RcIilyZXR1cm4hMTtjb25zdCBlPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtyZXR1cm4gZT09PW51bGx8fGU9PT1PYmplY3QucHJvdG90eXBlfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1udWxsP09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKT09PVwiW29iamVjdCBPYmplY3RdXCI6ITF9ZnVuY3Rpb24gQW8ocixlLHQpe3JldHVybiBwZShyLGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHQpfWZ1bmN0aW9uIHBlKHIsZSx0LGkscyxuLG8pe2NvbnN0IGE9byhyLGUsdCxpLHMsbik7aWYoYSE9PXZvaWQgMClyZXR1cm4gYTtpZih0eXBlb2Ygcj09dHlwZW9mIGUpc3dpdGNoKHR5cGVvZiByKXtjYXNlXCJiaWdpbnRcIjpjYXNlXCJzdHJpbmdcIjpjYXNlXCJib29sZWFuXCI6Y2FzZVwic3ltYm9sXCI6Y2FzZVwidW5kZWZpbmVkXCI6cmV0dXJuIHI9PT1lO2Nhc2VcIm51bWJlclwiOnJldHVybiByPT09ZXx8T2JqZWN0LmlzKHIsZSk7Y2FzZVwiZnVuY3Rpb25cIjpyZXR1cm4gcj09PWU7Y2FzZVwib2JqZWN0XCI6cmV0dXJuIHllKHIsZSxuLG8pfXJldHVybiB5ZShyLGUsbixvKX1mdW5jdGlvbiB5ZShyLGUsdCxpKXtpZihPYmplY3QuaXMocixlKSlyZXR1cm4hMDtsZXQgcz1BaShyKSxuPUFpKGUpO2lmKHM9PT14aSYmKHM9SmUpLG49PT14aSYmKG49SmUpLHMhPT1uKXJldHVybiExO3N3aXRjaChzKXtjYXNlIG9vOnJldHVybiByLnRvU3RyaW5nKCk9PT1lLnRvU3RyaW5nKCk7Y2FzZSBhbzp7Y29uc3QgYz1yLnZhbHVlT2YoKSxoPWUudmFsdWVPZigpO3JldHVybiBybyhjLGgpfWNhc2UgY286Y2FzZSBsbzpjYXNlIGhvOnJldHVybiBPYmplY3QuaXMoci52YWx1ZU9mKCksZS52YWx1ZU9mKCkpO2Nhc2Ugbm86cmV0dXJuIHIuc291cmNlPT09ZS5zb3VyY2UmJnIuZmxhZ3M9PT1lLmZsYWdzO2Nhc2UgeW86cmV0dXJuIHI9PT1lfXQ9dD8/bmV3IE1hcDtjb25zdCBvPXQuZ2V0KHIpLGE9dC5nZXQoZSk7aWYobyE9bnVsbCYmYSE9bnVsbClyZXR1cm4gbz09PWU7dC5zZXQocixlKSx0LnNldChlLHIpO3RyeXtzd2l0Y2gocyl7Y2FzZSB1bzp7aWYoci5zaXplIT09ZS5zaXplKXJldHVybiExO2Zvcihjb25zdFtjLGhdb2Ygci5lbnRyaWVzKCkpaWYoIWUuaGFzKGMpfHwhcGUoaCxlLmdldChjKSxjLHIsZSx0LGkpKXJldHVybiExO3JldHVybiEwfWNhc2UgZ286e2lmKHIuc2l6ZSE9PWUuc2l6ZSlyZXR1cm4hMTtjb25zdCBjPUFycmF5LmZyb20oci52YWx1ZXMoKSksaD1BcnJheS5mcm9tKGUudmFsdWVzKCkpO2ZvcihsZXQgbD0wO2w8Yy5sZW5ndGg7bCsrKXtjb25zdCBkPWNbbF0sZz1oLmZpbmRJbmRleChfPT5wZShkLF8sdm9pZCAwLHIsZSx0LGkpKTtpZihnPT09LTEpcmV0dXJuITE7aC5zcGxpY2UoZywxKX1yZXR1cm4hMH1jYXNlIHBvOmNhc2UgRG86Y2FzZSB2bzpjYXNlIHdvOmNhc2UgX286Y2FzZSBFbzpjYXNlIElvOmNhc2UgVG86Y2FzZSBDbzpjYXNlIFBvOmNhc2UgU286Y2FzZSBPbzp7aWYodHlwZW9mIEJ1ZmZlcjxcInVcIiYmQnVmZmVyLmlzQnVmZmVyKHIpIT09QnVmZmVyLmlzQnVmZmVyKGUpfHxyLmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgYz0wO2M8ci5sZW5ndGg7YysrKWlmKCFwZShyW2NdLGVbY10sYyxyLGUsdCxpKSlyZXR1cm4hMTtyZXR1cm4hMH1jYXNlIGJvOnJldHVybiByLmJ5dGVMZW5ndGghPT1lLmJ5dGVMZW5ndGg/ITE6eWUobmV3IFVpbnQ4QXJyYXkociksbmV3IFVpbnQ4QXJyYXkoZSksdCxpKTtjYXNlIGZvOnJldHVybiByLmJ5dGVMZW5ndGghPT1lLmJ5dGVMZW5ndGh8fHIuYnl0ZU9mZnNldCE9PWUuYnl0ZU9mZnNldD8hMTp5ZShuZXcgVWludDhBcnJheShyKSxuZXcgVWludDhBcnJheShlKSx0LGkpO2Nhc2UgbW86cmV0dXJuIHIubmFtZT09PWUubmFtZSYmci5tZXNzYWdlPT09ZS5tZXNzYWdlO2Nhc2UgSmU6e2lmKCEoeWUoci5jb25zdHJ1Y3RvcixlLmNvbnN0cnVjdG9yLHQsaSl8fE5pKHIpJiZOaShlKSkpcmV0dXJuITE7Y29uc3QgaD1bLi4uT2JqZWN0LmtleXMociksLi4uUmkocildLGw9Wy4uLk9iamVjdC5rZXlzKGUpLC4uLlJpKGUpXTtpZihoLmxlbmd0aCE9PWwubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgZD0wO2Q8aC5sZW5ndGg7ZCsrKXtjb25zdCBnPWhbZF0sXz1yW2ddO2lmKCFPYmplY3QuaGFzT3duKGUsZykpcmV0dXJuITE7Y29uc3QgdT1lW2ddO2lmKCFwZShfLHUsZyxyLGUsdCxpKSlyZXR1cm4hMX1yZXR1cm4hMH1kZWZhdWx0OnJldHVybiExfX1maW5hbGx5e3QuZGVsZXRlKHIpLHQuZGVsZXRlKGUpfX1mdW5jdGlvbiB4byhyLGUpe3JldHVybiBBbyhyLGUsUm8pfXZhciBObz1PYmplY3QuZGVmaW5lUHJvcGVydHksJGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywkbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHpvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsWGU9KHIsZSx0KT0+ZSBpbiByP05vKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCx6aT0ocixlKT0+e2Zvcih2YXIgdCBpbiBlfHwoZT17fSkpJG8uY2FsbChlLHQpJiZYZShyLHQsZVt0XSk7aWYoJGkpZm9yKHZhciB0IG9mICRpKGUpKXpvLmNhbGwoZSx0KSYmWGUocix0LGVbdF0pO3JldHVybiByfSx6PShyLGUsdCk9PlhlKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgTGkgZXh0ZW5kcyBpc3tjb25zdHJ1Y3RvcihlLHQsaSxzPUIsbj12b2lkIDApe3N1cGVyKGUsdCxpLHMpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsdGhpcy5uYW1lPWkseih0aGlzLFwibWFwXCIsbmV3IE1hcCkseih0aGlzLFwidmVyc2lvblwiLGt0KSx6KHRoaXMsXCJjYWNoZWRcIixbXSkseih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSkseih0aGlzLFwiZ2V0S2V5XCIpLHoodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSx6KHRoaXMsXCJyZWNlbnRseURlbGV0ZWRcIixbXSkseih0aGlzLFwicmVjZW50bHlEZWxldGVkTGltaXRcIiwyMDApLHoodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5yZXN0b3JlKCksdGhpcy5jYWNoZWQuZm9yRWFjaChvPT57dGhpcy5nZXRLZXkmJm8hPT1udWxsJiYheGUobyk/dGhpcy5tYXAuc2V0KHRoaXMuZ2V0S2V5KG8pLG8pOlNzKG8pP3RoaXMubWFwLnNldChvLmlkLG8pOk9zKG8pJiZ0aGlzLm1hcC5zZXQoby50b3BpYyxvKX0pLHRoaXMuY2FjaGVkPVtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITApfSkseih0aGlzLFwic2V0XCIsYXN5bmMobyxhKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubWFwLmhhcyhvKT9hd2FpdCB0aGlzLnVwZGF0ZShvLGEpOih0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgdmFsdWVcIiksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJzZXRcIixrZXk6byx2YWx1ZTphfSksdGhpcy5tYXAuc2V0KG8sYSksYXdhaXQgdGhpcy5wZXJzaXN0KCkpfSkseih0aGlzLFwiZ2V0XCIsbz0+KHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImdldFwiLGtleTpvfSksdGhpcy5nZXREYXRhKG8pKSkseih0aGlzLFwiZ2V0QWxsXCIsbz0+KHRoaXMuaXNJbml0aWFsaXplZCgpLG8/dGhpcy52YWx1ZXMuZmlsdGVyKGE9Pk9iamVjdC5rZXlzKG8pLmV2ZXJ5KGM9PnhvKGFbY10sb1tjXSkpKTp0aGlzLnZhbHVlcykpLHoodGhpcyxcInVwZGF0ZVwiLGFzeW5jKG8sYSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVwZGF0aW5nIHZhbHVlXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwidXBkYXRlXCIsa2V5Om8sdXBkYXRlOmF9KTtjb25zdCBjPXppKHppKHt9LHRoaXMuZ2V0RGF0YShvKSksYSk7dGhpcy5tYXAuc2V0KG8sYyksYXdhaXQgdGhpcy5wZXJzaXN0KCl9KSx6KHRoaXMsXCJkZWxldGVcIixhc3luYyhvLGEpPT57dGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5tYXAuaGFzKG8pJiYodGhpcy5sb2dnZXIuZGVidWcoXCJEZWxldGluZyB2YWx1ZVwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcImRlbGV0ZVwiLGtleTpvLHJlYXNvbjphfSksdGhpcy5tYXAuZGVsZXRlKG8pLHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQobyksYXdhaXQgdGhpcy5wZXJzaXN0KCkpfSksdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSksdGhpcy5zdG9yYWdlUHJlZml4PXMsdGhpcy5nZXRLZXk9bn1nZXQgY29udGV4dCgpe3JldHVybiBVKHRoaXMubG9nZ2VyKX1nZXQgc3RvcmFnZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy9cIit0aGlzLm5hbWV9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLm1hcC5zaXplfWdldCBrZXlzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAudmFsdWVzKCkpfWFkZFRvUmVjZW50bHlEZWxldGVkKGUpe3RoaXMucmVjZW50bHlEZWxldGVkLnB1c2goZSksdGhpcy5yZWNlbnRseURlbGV0ZWQubGVuZ3RoPj10aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0JiZ0aGlzLnJlY2VudGx5RGVsZXRlZC5zcGxpY2UoMCx0aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0LzIpfWFzeW5jIHNldERhdGFTdG9yZShlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXREYXRhU3RvcmUoKXtyZXR1cm4gYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfWdldERhdGEoZSl7Y29uc3QgdD10aGlzLm1hcC5nZXQoZSk7aWYoIXQpe2lmKHRoaXMucmVjZW50bHlEZWxldGVkLmluY2x1ZGVzKGUpKXtjb25zdHttZXNzYWdlOnN9PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixgUmVjb3JkIHdhcyByZWNlbnRseSBkZWxldGVkIC0gJHt0aGlzLm5hbWV9OiAke2V9YCk7dGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IocyksbmV3IEVycm9yKHMpfWNvbnN0e21lc3NhZ2U6aX09bShcIk5PX01BVENISU5HX0tFWVwiLGAke3RoaXMubmFtZX06ICR7ZX1gKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihpKSxuZXcgRXJyb3IoaSl9cmV0dXJuIHR9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0RGF0YVN0b3JlKHRoaXMudmFsdWVzKX1hc3luYyByZXN0b3JlKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5nZXREYXRhU3RvcmUoKTtpZih0eXBlb2YgZT5cInVcInx8IWUubGVuZ3RoKXJldHVybjtpZih0aGlzLm1hcC5zaXplKXtjb25zdHttZXNzYWdlOnR9PW0oXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgdmFsdWUgZm9yICR7dGhpcy5uYW1lfWApLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwicmVzdG9yZVwiLHZhbHVlOnRoaXMudmFsdWVzfSl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHZhbHVlIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19fXZhciBMbz1PYmplY3QuZGVmaW5lUHJvcGVydHksa289KHIsZSx0KT0+ZSBpbiByP0xvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxwPShyLGUsdCk9PmtvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3Mga2l7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LHAodGhpcyxcIm5hbWVcIixNdCkscCh0aGlzLFwidmVyc2lvblwiLEt0KSxwKHRoaXMsXCJldmVudHNcIixuZXcgV2kpLHAodGhpcyxcInBhaXJpbmdzXCIpLHAodGhpcyxcImluaXRpYWxpemVkXCIsITEpLHAodGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxwKHRoaXMsXCJpZ25vcmVkUGF5bG9hZFR5cGVzXCIsW0FzXSkscCh0aGlzLFwicmVnaXN0ZXJlZE1ldGhvZHNcIixbXSkscCh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9Pnt0aGlzLmluaXRpYWxpemVkfHwoYXdhaXQgdGhpcy5wYWlyaW5ncy5pbml0KCksYXdhaXQgdGhpcy5jbGVhbnVwKCksdGhpcy5yZWdpc3RlclJlbGF5ZXJFdmVudHMoKSx0aGlzLnJlZ2lzdGVyRXhwaXJlckV2ZW50cygpLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSl9KSxwKHRoaXMsXCJyZWdpc3RlclwiLCh7bWV0aG9kczppfSk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnJlZ2lzdGVyZWRNZXRob2RzPVsuLi5uZXcgU2V0KFsuLi50aGlzLnJlZ2lzdGVyZWRNZXRob2RzLC4uLmldKV19KSxwKHRoaXMsXCJjcmVhdGVcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1BZSgpLG49YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5zZXRTeW1LZXkocyksbz1jZShmZSksYT17cHJvdG9jb2w6eHR9LGM9e3RvcGljOm4sZXhwaXJ5Om8scmVsYXk6YSxhY3RpdmU6ITEsbWV0aG9kczppPy5tZXRob2RzfSxoPWR0KHtwcm90b2NvbDp0aGlzLmNvcmUucHJvdG9jb2wsdmVyc2lvbjp0aGlzLmNvcmUudmVyc2lvbix0b3BpYzpuLHN5bUtleTpzLHJlbGF5OmEsZXhwaXJ5VGltZXN0YW1wOm8sbWV0aG9kczppPy5tZXRob2RzfSk7cmV0dXJuIHRoaXMuZXZlbnRzLmVtaXQocmUuY3JlYXRlLGMpLHRoaXMuY29yZS5leHBpcmVyLnNldChuLG8pLGF3YWl0IHRoaXMucGFpcmluZ3Muc2V0KG4sYyksYXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKG4se3RyYW5zcG9ydFR5cGU6aT8udHJhbnNwb3J0VHlwZX0pLHt0b3BpYzpuLHVyaTpofX0pLHAodGhpcyxcInBhaXJcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz10aGlzLmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoe3Byb3BlcnRpZXM6e3RvcGljOmk/LnVyaSx0cmFjZTpbRy5wYWlyaW5nX3N0YXJ0ZWRdfX0pO3RoaXMuaXNWYWxpZFBhaXIoaSxzKTtjb25zdHt0b3BpYzpuLHN5bUtleTpvLHJlbGF5OmEsZXhwaXJ5VGltZXN0YW1wOmMsbWV0aG9kczpofT1ndChpLnVyaSk7cy5wcm9wcy5wcm9wZXJ0aWVzLnRvcGljPW4scy5hZGRUcmFjZShHLnBhaXJpbmdfdXJpX3ZhbGlkYXRpb25fc3VjY2Vzcykscy5hZGRUcmFjZShHLnBhaXJpbmdfdXJpX25vdF9leHBpcmVkKTtsZXQgbDtpZih0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMobikpe2lmKGw9dGhpcy5wYWlyaW5ncy5nZXQobikscy5hZGRUcmFjZShHLmV4aXN0aW5nX3BhaXJpbmcpLGwuYWN0aXZlKXRocm93IHMuc2V0RXJyb3IoWS5hY3RpdmVfcGFpcmluZ19hbHJlYWR5X2V4aXN0cyksbmV3IEVycm9yKGBQYWlyaW5nIGFscmVhZHkgZXhpc3RzOiAke259LiBQbGVhc2UgdHJ5IGFnYWluIHdpdGggYSBuZXcgY29ubmVjdGlvbiBVUkkuYCk7cy5hZGRUcmFjZShHLnBhaXJpbmdfbm90X2V4cGlyZWQpfWNvbnN0IGQ9Y3x8Y2UoZmUpLGc9e3RvcGljOm4scmVsYXk6YSxleHBpcnk6ZCxhY3RpdmU6ITEsbWV0aG9kczpofTt0aGlzLmNvcmUuZXhwaXJlci5zZXQobixkKSxhd2FpdCB0aGlzLnBhaXJpbmdzLnNldChuLGcpLHMuYWRkVHJhY2UoRy5zdG9yZV9uZXdfcGFpcmluZyksaS5hY3RpdmF0ZVBhaXJpbmcmJmF3YWl0IHRoaXMuYWN0aXZhdGUoe3RvcGljOm59KSx0aGlzLmV2ZW50cy5lbWl0KHJlLmNyZWF0ZSxnKSxzLmFkZFRyYWNlKEcuZW1pdF9pbmFjdGl2ZV9wYWlyaW5nKSx0aGlzLmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhuKXx8YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5zZXRTeW1LZXkobyxuKSxzLmFkZFRyYWNlKEcuc3Vic2NyaWJpbmdfcGFpcmluZ190b3BpYyk7dHJ5e2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKX1jYXRjaHtzLnNldEVycm9yKFkubm9faW50ZXJuZXRfY29ubmVjdGlvbil9dHJ5e2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLnN1YnNjcmliZShuLHtyZWxheTphfSl9Y2F0Y2goXyl7dGhyb3cgcy5zZXRFcnJvcihZLnN1YnNjcmliZV9wYWlyaW5nX3RvcGljX2ZhaWx1cmUpLF99cmV0dXJuIHMuYWRkVHJhY2UoRy5zdWJzY3JpYmVfcGFpcmluZ190b3BpY19zdWNjZXNzKSxnfSkscCh0aGlzLFwiYWN0aXZhdGVcIixhc3luYyh7dG9waWM6aX0pPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz1jZShmZSk7dGhpcy5jb3JlLmV4cGlyZXIuc2V0KGkscyksYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSx7YWN0aXZlOiEwLGV4cGlyeTpzfSl9KSxwKHRoaXMsXCJwaW5nXCIsYXN5bmMgaT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLGF3YWl0IHRoaXMuaXNWYWxpZFBpbmcoaSksdGhpcy5sb2dnZXIud2FybihcInBpbmcoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cIik7Y29uc3R7dG9waWM6c309aTtpZih0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMocykpe2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kUmVxdWVzdChzLFwid2NfcGFpcmluZ1BpbmdcIix7fSkse2RvbmU6byxyZXNvbHZlOmEscmVqZWN0OmN9PXhzKCk7dGhpcy5ldmVudHMub25jZShOZShcInBhaXJpbmdfcGluZ1wiLG4pLCh7ZXJyb3I6aH0pPT57aD9jKGgpOmEoKX0pLGF3YWl0IG8oKX19KSxwKHRoaXMsXCJ1cGRhdGVFeHBpcnlcIixhc3luYyh7dG9waWM6aSxleHBpcnk6c30pPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSx7ZXhwaXJ5OnN9KX0pLHAodGhpcyxcInVwZGF0ZU1ldGFkYXRhXCIsYXN5bmMoe3RvcGljOmksbWV0YWRhdGE6c30pPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSx7cGVlck1ldGFkYXRhOnN9KX0pLHAodGhpcyxcImdldFBhaXJpbmdzXCIsKCk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLnBhaXJpbmdzLnZhbHVlcykpLHAodGhpcyxcImRpc2Nvbm5lY3RcIixhc3luYyBpPT57dGhpcy5pc0luaXRpYWxpemVkKCksYXdhaXQgdGhpcy5pc1ZhbGlkRGlzY29ubmVjdChpKTtjb25zdHt0b3BpYzpzfT1pO3RoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhzKSYmKGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QocyxcIndjX3BhaXJpbmdEZWxldGVcIixhZShcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSxhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcocykpfSkscCh0aGlzLFwiZm9ybWF0VXJpRnJvbVBhaXJpbmdcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3R7dG9waWM6cyxyZWxheTpuLGV4cGlyeTpvLG1ldGhvZHM6YX09aSxjPXRoaXMuY29yZS5jcnlwdG8ua2V5Y2hhaW4uZ2V0KHMpO3JldHVybiBkdCh7cHJvdG9jb2w6dGhpcy5jb3JlLnByb3RvY29sLHZlcnNpb246dGhpcy5jb3JlLnZlcnNpb24sdG9waWM6cyxzeW1LZXk6YyxyZWxheTpuLGV4cGlyeVRpbWVzdGFtcDpvLG1ldGhvZHM6YX0pfSkscCh0aGlzLFwic2VuZFJlcXVlc3RcIixhc3luYyhpLHMsbik9Pntjb25zdCBvPXd0KHMsbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShpLG8pLGM9c2Vbc10ucmVxO3JldHVybiB0aGlzLmNvcmUuaGlzdG9yeS5zZXQoaSxvKSx0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKGksYSxjKSxvLmlkfSkscCh0aGlzLFwic2VuZFJlc3VsdFwiLGFzeW5jKGkscyxuKT0+e2NvbnN0IG89dnQoaSxuKSxhPWF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZW5jb2RlKHMsbyksYz0oYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkuZ2V0KHMsaSkpLnJlcXVlc3QubWV0aG9kLGg9c2VbY10ucmVzO2F3YWl0IHRoaXMuY29yZS5yZWxheWVyLnB1Ymxpc2gocyxhLGgpLGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LnJlc29sdmUobyl9KSxwKHRoaXMsXCJzZW5kRXJyb3JcIixhc3luYyhpLHMsbik9Pntjb25zdCBvPUJzKGksbiksYT1hd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShzLG8pLGM9KGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChzLGkpKS5yZXF1ZXN0Lm1ldGhvZCxoPXNlW2NdP3NlW2NdLnJlczpzZS51bnJlZ2lzdGVyZWRfbWV0aG9kLnJlczthd2FpdCB0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKHMsYSxoKSxhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pfSkscCh0aGlzLFwiZGVsZXRlUGFpcmluZ1wiLGFzeW5jKGkscyk9Pnthd2FpdCB0aGlzLmNvcmUucmVsYXllci51bnN1YnNjcmliZShpKSxhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYWlyaW5ncy5kZWxldGUoaSxhZShcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSx0aGlzLmNvcmUuY3J5cHRvLmRlbGV0ZVN5bUtleShpKSxzP1Byb21pc2UucmVzb2x2ZSgpOnRoaXMuY29yZS5leHBpcmVyLmRlbChpKV0pfSkscCh0aGlzLFwiY2xlYW51cFwiLGFzeW5jKCk9Pntjb25zdCBpPXRoaXMucGFpcmluZ3MuZ2V0QWxsKCkuZmlsdGVyKHM9PnB0KHMuZXhwaXJ5KSk7YXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAocz0+dGhpcy5kZWxldGVQYWlyaW5nKHMudG9waWMpKSl9KSxwKHRoaXMsXCJvblJlbGF5RXZlbnRSZXF1ZXN0XCIsYXN5bmMgaT0+e2NvbnN0e3RvcGljOnMscGF5bG9hZDpufT1pO3N3aXRjaChuLm1ldGhvZCl7Y2FzZVwid2NfcGFpcmluZ1BpbmdcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblBhaXJpbmdQaW5nUmVxdWVzdChzLG4pO2Nhc2VcIndjX3BhaXJpbmdEZWxldGVcIjpyZXR1cm4gYXdhaXQgdGhpcy5vblBhaXJpbmdEZWxldGVSZXF1ZXN0KHMsbik7ZGVmYXVsdDpyZXR1cm4gYXdhaXQgdGhpcy5vblVua25vd25ScGNNZXRob2RSZXF1ZXN0KHMsbil9fSkscCh0aGlzLFwib25SZWxheUV2ZW50UmVzcG9uc2VcIixhc3luYyBpPT57Y29uc3R7dG9waWM6cyxwYXlsb2FkOm59PWksbz0oYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkuZ2V0KHMsbi5pZCkpLnJlcXVlc3QubWV0aG9kO3N3aXRjaChvKXtjYXNlXCJ3Y19wYWlyaW5nUGluZ1wiOnJldHVybiB0aGlzLm9uUGFpcmluZ1BpbmdSZXNwb25zZShzLG4pO2RlZmF1bHQ6cmV0dXJuIHRoaXMub25Vbmtub3duUnBjTWV0aG9kUmVzcG9uc2Uobyl9fSkscCh0aGlzLFwib25QYWlyaW5nUGluZ1JlcXVlc3RcIixhc3luYyhpLHMpPT57Y29uc3R7aWQ6bn09czt0cnl7dGhpcy5pc1ZhbGlkUGluZyh7dG9waWM6aX0pLGF3YWl0IHRoaXMuc2VuZFJlc3VsdChuLGksITApLHRoaXMuZXZlbnRzLmVtaXQocmUucGluZyx7aWQ6bix0b3BpYzppfSl9Y2F0Y2gobyl7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLG8pLHRoaXMubG9nZ2VyLmVycm9yKG8pfX0pLHAodGhpcyxcIm9uUGFpcmluZ1BpbmdSZXNwb25zZVwiLChpLHMpPT57Y29uc3R7aWQ6bn09cztzZXRUaW1lb3V0KCgpPT57VnMocyk/dGhpcy5ldmVudHMuZW1pdChOZShcInBhaXJpbmdfcGluZ1wiLG4pLHt9KTpfdChzKSYmdGhpcy5ldmVudHMuZW1pdChOZShcInBhaXJpbmdfcGluZ1wiLG4pLHtlcnJvcjpzLmVycm9yfSl9LDUwMCl9KSxwKHRoaXMsXCJvblBhaXJpbmdEZWxldGVSZXF1ZXN0XCIsYXN5bmMoaSxzKT0+e2NvbnN0e2lkOm59PXM7dHJ5e3RoaXMuaXNWYWxpZERpc2Nvbm5lY3Qoe3RvcGljOml9KSxhd2FpdCB0aGlzLmRlbGV0ZVBhaXJpbmcoaSksdGhpcy5ldmVudHMuZW1pdChyZS5kZWxldGUse2lkOm4sdG9waWM6aX0pfWNhdGNoKG8pe2F3YWl0IHRoaXMuc2VuZEVycm9yKG4saSxvKSx0aGlzLmxvZ2dlci5lcnJvcihvKX19KSxwKHRoaXMsXCJvblVua25vd25ScGNNZXRob2RSZXF1ZXN0XCIsYXN5bmMoaSxzKT0+e2NvbnN0e2lkOm4sbWV0aG9kOm99PXM7dHJ5e2lmKHRoaXMucmVnaXN0ZXJlZE1ldGhvZHMuaW5jbHVkZXMobykpcmV0dXJuO2NvbnN0IGE9YWUoXCJXQ19NRVRIT0RfVU5TVVBQT1JURURcIixvKTthd2FpdCB0aGlzLnNlbmRFcnJvcihuLGksYSksdGhpcy5sb2dnZXIuZXJyb3IoYSl9Y2F0Y2goYSl7YXdhaXQgdGhpcy5zZW5kRXJyb3IobixpLGEpLHRoaXMubG9nZ2VyLmVycm9yKGEpfX0pLHAodGhpcyxcIm9uVW5rbm93blJwY01ldGhvZFJlc3BvbnNlXCIsaT0+e3RoaXMucmVnaXN0ZXJlZE1ldGhvZHMuaW5jbHVkZXMoaSl8fHRoaXMubG9nZ2VyLmVycm9yKGFlKFwiV0NfTUVUSE9EX1VOU1VQUE9SVEVEXCIsaSkpfSkscCh0aGlzLFwiaXNWYWxpZFBhaXJcIiwoaSxzKT0+e3ZhciBuO2lmKCEkZShpKSl7Y29uc3R7bWVzc2FnZTphfT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXIoKSBwYXJhbXM6ICR7aX1gKTt0aHJvdyBzLnNldEVycm9yKFkubWFsZm9ybWVkX3BhaXJpbmdfdXJpKSxuZXcgRXJyb3IoYSl9aWYoIU5zKGkudXJpKSl7Y29uc3R7bWVzc2FnZTphfT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXIoKSB1cmk6ICR7aS51cml9YCk7dGhyb3cgcy5zZXRFcnJvcihZLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWNvbnN0IG89Z3QoaT8udXJpKTtpZighKChuPW8/LnJlbGF5KSE9bnVsbCYmbi5wcm90b2NvbCkpe2NvbnN0e21lc3NhZ2U6YX09bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwicGFpcigpIHVyaSNyZWxheS1wcm90b2NvbFwiKTt0aHJvdyBzLnNldEVycm9yKFkubWFsZm9ybWVkX3BhaXJpbmdfdXJpKSxuZXcgRXJyb3IoYSl9aWYoIShvIT1udWxsJiZvLnN5bUtleSkpe2NvbnN0e21lc3NhZ2U6YX09bShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLFwicGFpcigpIHVyaSNzeW1LZXlcIik7dGhyb3cgcy5zZXRFcnJvcihZLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksbmV3IEVycm9yKGEpfWlmKG8hPW51bGwmJm8uZXhwaXJ5VGltZXN0YW1wJiZSKG8/LmV4cGlyeVRpbWVzdGFtcCk8RGF0ZS5ub3coKSl7cy5zZXRFcnJvcihZLnBhaXJpbmdfZXhwaXJlZCk7Y29uc3R7bWVzc2FnZTphfT1tKFwiRVhQSVJFRFwiLFwicGFpcigpIFVSSSBoYXMgZXhwaXJlZC4gUGxlYXNlIHRyeSBhZ2FpbiB3aXRoIGEgbmV3IGNvbm5lY3Rpb24gVVJJLlwiKTt0aHJvdyBuZXcgRXJyb3IoYSl9fSkscCh0aGlzLFwiaXNWYWxpZFBpbmdcIixhc3luYyBpPT57aWYoISRlKGkpKXtjb25zdHttZXNzYWdlOm59PW0oXCJNSVNTSU5HX09SX0lOVkFMSURcIixgcGluZygpIHBhcmFtczogJHtpfWApO3Rocm93IG5ldyBFcnJvcihuKX1jb25zdHt0b3BpYzpzfT1pO2F3YWl0IHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyhzKX0pLHAodGhpcyxcImlzVmFsaWREaXNjb25uZWN0XCIsYXN5bmMgaT0+e2lmKCEkZShpKSl7Y29uc3R7bWVzc2FnZTpufT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYGRpc2Nvbm5lY3QoKSBwYXJhbXM6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iobil9Y29uc3R7dG9waWM6c309aTthd2FpdCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMocyl9KSxwKHRoaXMsXCJpc1ZhbGlkUGFpcmluZ1RvcGljXCIsYXN5bmMgaT0+e2lmKCEkcyhpLCExKSl7Y29uc3R7bWVzc2FnZTpzfT1tKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsYHBhaXJpbmcgdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke2l9YCk7dGhyb3cgbmV3IEVycm9yKHMpfWlmKCF0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMoaSkpe2NvbnN0e21lc3NhZ2U6c309bShcIk5PX01BVENISU5HX0tFWVwiLGBwYWlyaW5nIHRvcGljIGRvZXNuJ3QgZXhpc3Q6ICR7aX1gKTt0aHJvdyBuZXcgRXJyb3Iocyl9aWYocHQodGhpcy5wYWlyaW5ncy5nZXQoaSkuZXhwaXJ5KSl7YXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKGkpO2NvbnN0e21lc3NhZ2U6c309bShcIkVYUElSRURcIixgcGFpcmluZyB0b3BpYzogJHtpfWApO3Rocm93IG5ldyBFcnJvcihzKX19KSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5uYW1lKSx0aGlzLnBhaXJpbmdzPW5ldyBMaSh0aGlzLmNvcmUsdGhpcy5sb2dnZXIsdGhpcy5uYW1lLHRoaXMuc3RvcmFnZVByZWZpeCl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9aXNJbml0aWFsaXplZCgpe2lmKCF0aGlzLmluaXRpYWxpemVkKXtjb25zdHttZXNzYWdlOmV9PW0oXCJOT1RfSU5JVElBTElaRURcIix0aGlzLm5hbWUpO3Rocm93IG5ldyBFcnJvcihlKX19cmVnaXN0ZXJSZWxheWVyRXZlbnRzKCl7dGhpcy5jb3JlLnJlbGF5ZXIub24oQy5tZXNzYWdlLGFzeW5jIGU9Pntjb25zdHt0b3BpYzp0LG1lc3NhZ2U6aSx0cmFuc3BvcnRUeXBlOnN9PWU7aWYodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHQpJiZzIT09US5saW5rX21vZGUmJiF0aGlzLmlnbm9yZWRQYXlsb2FkVHlwZXMuaW5jbHVkZXModGhpcy5jb3JlLmNyeXB0by5nZXRQYXlsb2FkVHlwZShpKSkpdHJ5e2NvbnN0IG49YXdhaXQgdGhpcy5jb3JlLmNyeXB0by5kZWNvZGUodCxpKTtmdChuKT8odGhpcy5jb3JlLmhpc3Rvcnkuc2V0KHQsbiksYXdhaXQgdGhpcy5vblJlbGF5RXZlbnRSZXF1ZXN0KHt0b3BpYzp0LHBheWxvYWQ6bn0pKTpEdChuKSYmKGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LnJlc29sdmUobiksYXdhaXQgdGhpcy5vblJlbGF5RXZlbnRSZXNwb25zZSh7dG9waWM6dCxwYXlsb2FkOm59KSx0aGlzLmNvcmUuaGlzdG9yeS5kZWxldGUodCxuLmlkKSksYXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIubWVzc2FnZXMuYWNrKHQsaSl9Y2F0Y2gobil7dGhpcy5sb2dnZXIuZXJyb3Iobil9fSl9cmVnaXN0ZXJFeHBpcmVyRXZlbnRzKCl7dGhpcy5jb3JlLmV4cGlyZXIub24oTS5leHBpcmVkLGFzeW5jIGU9Pntjb25zdHt0b3BpYzp0fT1ScyhlLnRhcmdldCk7dCYmdGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKHQpJiYoYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKHQsITApLHRoaXMuZXZlbnRzLmVtaXQocmUuZXhwaXJlLHt0b3BpYzp0fSkpfSl9fXZhciBqbz1PYmplY3QuZGVmaW5lUHJvcGVydHksVW89KHIsZSx0KT0+ZSBpbiByP2pvKHIsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pOnJbZV09dCxPPShyLGUsdCk9PlVvKHIsdHlwZW9mIGUhPVwic3ltYm9sXCI/ZStcIlwiOmUsdCk7Y2xhc3MgamkgZXh0ZW5kcyBzc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCxPKHRoaXMsXCJyZWNvcmRzXCIsbmV3IE1hcCksTyh0aGlzLFwiZXZlbnRzXCIsbmV3IGVlKSxPKHRoaXMsXCJuYW1lXCIsQnQpLE8odGhpcyxcInZlcnNpb25cIixWdCksTyh0aGlzLFwiY2FjaGVkXCIsW10pLE8odGhpcyxcImluaXRpYWxpemVkXCIsITEpLE8odGhpcyxcInN0b3JhZ2VQcmVmaXhcIixCKSxPKHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3RoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLGF3YWl0IHRoaXMucmVzdG9yZSgpLHRoaXMuY2FjaGVkLmZvckVhY2goaT0+dGhpcy5yZWNvcmRzLnNldChpLmlkLGkpKSx0aGlzLmNhY2hlZD1bXSx0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLmluaXRpYWxpemVkPSEwKX0pLE8odGhpcyxcInNldFwiLChpLHMsbik9PntpZih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgSlNPTi1SUEMgcmVxdWVzdCBoaXN0b3J5IHJlY29yZFwiKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInNldFwiLHRvcGljOmkscmVxdWVzdDpzLGNoYWluSWQ6bn0pLHRoaXMucmVjb3Jkcy5oYXMocy5pZCkpcmV0dXJuO2NvbnN0IG89e2lkOnMuaWQsdG9waWM6aSxyZXF1ZXN0OnttZXRob2Q6cy5tZXRob2QscGFyYW1zOnMucGFyYW1zfHxudWxsfSxjaGFpbklkOm4sZXhwaXJ5OmNlKENlKX07dGhpcy5yZWNvcmRzLnNldChvLmlkLG8pLHRoaXMucGVyc2lzdCgpLHRoaXMuZXZlbnRzLmVtaXQoRi5jcmVhdGVkLG8pfSksTyh0aGlzLFwicmVzb2x2ZVwiLGFzeW5jIGk9PntpZih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVwZGF0aW5nIEpTT04tUlBDIHJlc3BvbnNlIGhpc3RvcnkgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwidXBkYXRlXCIscmVzcG9uc2U6aX0pLCF0aGlzLnJlY29yZHMuaGFzKGkuaWQpKXJldHVybjtjb25zdCBzPWF3YWl0IHRoaXMuZ2V0UmVjb3JkKGkuaWQpO3R5cGVvZiBzLnJlc3BvbnNlPlwidVwiJiYocy5yZXNwb25zZT1fdChpKT97ZXJyb3I6aS5lcnJvcn06e3Jlc3VsdDppLnJlc3VsdH0sdGhpcy5yZWNvcmRzLnNldChzLmlkLHMpLHRoaXMucGVyc2lzdCgpLHRoaXMuZXZlbnRzLmVtaXQoRi51cGRhdGVkLHMpKX0pLE8odGhpcyxcImdldFwiLGFzeW5jKGkscyk9Pih0aGlzLmlzSW5pdGlhbGl6ZWQoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdldHRpbmcgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZ2V0XCIsdG9waWM6aSxpZDpzfSksYXdhaXQgdGhpcy5nZXRSZWNvcmQocykpKSxPKHRoaXMsXCJkZWxldGVcIiwoaSxzKT0+e3RoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgcmVjb3JkXCIpLHRoaXMubG9nZ2VyLnRyYWNlKHt0eXBlOlwibWV0aG9kXCIsbWV0aG9kOlwiZGVsZXRlXCIsaWQ6c30pLHRoaXMudmFsdWVzLmZvckVhY2gobj0+e2lmKG4udG9waWM9PT1pKXtpZih0eXBlb2YgczxcInVcIiYmbi5pZCE9PXMpcmV0dXJuO3RoaXMucmVjb3Jkcy5kZWxldGUobi5pZCksdGhpcy5ldmVudHMuZW1pdChGLmRlbGV0ZWQsbil9fSksdGhpcy5wZXJzaXN0KCl9KSxPKHRoaXMsXCJleGlzdHNcIixhc3luYyhpLHMpPT4odGhpcy5pc0luaXRpYWxpemVkKCksdGhpcy5yZWNvcmRzLmhhcyhzKT8oYXdhaXQgdGhpcy5nZXRSZWNvcmQocykpLnRvcGljPT09aTohMSkpLE8odGhpcyxcIm9uXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vbihpLHMpfSksTyh0aGlzLFwib25jZVwiLChpLHMpPT57dGhpcy5ldmVudHMub25jZShpLHMpfSksTyh0aGlzLFwib2ZmXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5vZmYoaSxzKX0pLE8odGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGkscyk9Pnt0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLHMpfSksdGhpcy5sb2dnZXI9Tih0LHRoaXMubmFtZSl9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMudmVyc2lvbit0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCtcIi8vXCIrdGhpcy5uYW1lfWdldCBzaXplKCl7cmV0dXJuIHRoaXMucmVjb3Jkcy5zaXplfWdldCBrZXlzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yZWNvcmRzLmtleXMoKSl9Z2V0IHZhbHVlcygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMucmVjb3Jkcy52YWx1ZXMoKSl9Z2V0IHBlbmRpbmcoKXtjb25zdCBlPVtdO3JldHVybiB0aGlzLnZhbHVlcy5mb3JFYWNoKHQ9PntpZih0eXBlb2YgdC5yZXNwb25zZTxcInVcIilyZXR1cm47Y29uc3QgaT17dG9waWM6dC50b3BpYyxyZXF1ZXN0Ond0KHQucmVxdWVzdC5tZXRob2QsdC5yZXF1ZXN0LnBhcmFtcyx0LmlkKSxjaGFpbklkOnQuY2hhaW5JZH07cmV0dXJuIGUucHVzaChpKX0pLGV9YXN5bmMgc2V0SnNvblJwY1JlY29yZHMoZSl7YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksZSl9YXN5bmMgZ2V0SnNvblJwY1JlY29yZHMoKXtyZXR1cm4gYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfWdldFJlY29yZChlKXt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCB0PXRoaXMucmVjb3Jkcy5nZXQoZSk7aWYoIXQpe2NvbnN0e21lc3NhZ2U6aX09bShcIk5PX01BVENISU5HX0tFWVwiLGAke3RoaXMubmFtZX06ICR7ZX1gKTt0aHJvdyBuZXcgRXJyb3IoaSl9cmV0dXJuIHR9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0SnNvblJwY1JlY29yZHModGhpcy52YWx1ZXMpLHRoaXMuZXZlbnRzLmVtaXQoRi5zeW5jKX1hc3luYyByZXN0b3JlKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5nZXRKc29uUnBjUmVjb3JkcygpO2lmKHR5cGVvZiBlPlwidVwifHwhZS5sZW5ndGgpcmV0dXJuO2lmKHRoaXMucmVjb3Jkcy5zaXplKXtjb25zdHttZXNzYWdlOnR9PW0oXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIix0aGlzLm5hbWUpO3Rocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLG5ldyBFcnJvcih0KX10aGlzLmNhY2hlZD1lLHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIudHJhY2Uoe3R5cGU6XCJtZXRob2RcIixtZXRob2Q6XCJyZXN0b3JlXCIscmVjb3Jkczp0aGlzLnZhbHVlc30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci5lcnJvcihlKX19cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe3RoaXMuZXZlbnRzLm9uKEYuY3JlYXRlZCxlPT57Y29uc3QgdD1GLmNyZWF0ZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LHJlY29yZDplfSl9KSx0aGlzLmV2ZW50cy5vbihGLnVwZGF0ZWQsZT0+e2NvbnN0IHQ9Ri51cGRhdGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxyZWNvcmQ6ZX0pfSksdGhpcy5ldmVudHMub24oRi5kZWxldGVkLGU9Pntjb25zdCB0PUYuZGVsZXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQscmVjb3JkOmV9KX0pLHRoaXMuY29yZS5oZWFydGJlYXQub24odGUucHVsc2UsKCk9Pnt0aGlzLmNsZWFudXAoKX0pfWNsZWFudXAoKXt0cnl7dGhpcy5pc0luaXRpYWxpemVkKCk7bGV0IGU9ITE7dGhpcy5yZWNvcmRzLmZvckVhY2godD0+e1IodC5leHBpcnl8fDApLURhdGUubm93KCk8PTAmJih0aGlzLmxvZ2dlci5pbmZvKGBEZWxldGluZyBleHBpcmVkIGhpc3RvcnkgbG9nOiAke3QuaWR9YCksdGhpcy5yZWNvcmRzLmRlbGV0ZSh0LmlkKSx0aGlzLmV2ZW50cy5lbWl0KEYuZGVsZXRlZCx0LCExKSxlPSEwKX0pLGUmJnRoaXMucGVyc2lzdCgpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLndhcm4oZSl9fWlzSW5pdGlhbGl6ZWQoKXtpZighdGhpcy5pbml0aWFsaXplZCl7Y29uc3R7bWVzc2FnZTplfT1tKFwiTk9UX0lOSVRJQUxJWkVEXCIsdGhpcy5uYW1lKTt0aHJvdyBuZXcgRXJyb3IoZSl9fX12YXIgRm89T2JqZWN0LmRlZmluZVByb3BlcnR5LE1vPShyLGUsdCk9PmUgaW4gcj9GbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsQT0ocixlLHQpPT5NbyhyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFVpIGV4dGVuZHMgcnN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuY29yZT1lLHRoaXMubG9nZ2VyPXQsQSh0aGlzLFwiZXhwaXJhdGlvbnNcIixuZXcgTWFwKSxBKHRoaXMsXCJldmVudHNcIixuZXcgZWUpLEEodGhpcyxcIm5hbWVcIixxdCksQSh0aGlzLFwidmVyc2lvblwiLEd0KSxBKHRoaXMsXCJjYWNoZWRcIixbXSksQSh0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksQSh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLEEodGhpcyxcImluaXRcIixhc3luYygpPT57dGhpcy5pbml0aWFsaXplZHx8KHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksYXdhaXQgdGhpcy5yZXN0b3JlKCksdGhpcy5jYWNoZWQuZm9yRWFjaChpPT50aGlzLmV4cGlyYXRpb25zLnNldChpLnRhcmdldCxpKSksdGhpcy5jYWNoZWQ9W10sdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksdGhpcy5pbml0aWFsaXplZD0hMCl9KSxBKHRoaXMsXCJoYXNcIixpPT57dHJ5e2NvbnN0IHM9dGhpcy5mb3JtYXRUYXJnZXQoaSk7cmV0dXJuIHR5cGVvZiB0aGlzLmdldEV4cGlyYXRpb24ocyk8XCJ1XCJ9Y2F0Y2h7cmV0dXJuITF9fSksQSh0aGlzLFwic2V0XCIsKGkscyk9Pnt0aGlzLmlzSW5pdGlhbGl6ZWQoKTtjb25zdCBuPXRoaXMuZm9ybWF0VGFyZ2V0KGkpLG89e3RhcmdldDpuLGV4cGlyeTpzfTt0aGlzLmV4cGlyYXRpb25zLnNldChuLG8pLHRoaXMuY2hlY2tFeHBpcnkobixvKSx0aGlzLmV2ZW50cy5lbWl0KE0uY3JlYXRlZCx7dGFyZ2V0Om4sZXhwaXJhdGlvbjpvfSl9KSxBKHRoaXMsXCJnZXRcIixpPT57dGhpcy5pc0luaXRpYWxpemVkKCk7Y29uc3Qgcz10aGlzLmZvcm1hdFRhcmdldChpKTtyZXR1cm4gdGhpcy5nZXRFeHBpcmF0aW9uKHMpfSksQSh0aGlzLFwiZGVsXCIsaT0+e2lmKHRoaXMuaXNJbml0aWFsaXplZCgpLHRoaXMuaGFzKGkpKXtjb25zdCBzPXRoaXMuZm9ybWF0VGFyZ2V0KGkpLG49dGhpcy5nZXRFeHBpcmF0aW9uKHMpO3RoaXMuZXhwaXJhdGlvbnMuZGVsZXRlKHMpLHRoaXMuZXZlbnRzLmVtaXQoTS5kZWxldGVkLHt0YXJnZXQ6cyxleHBpcmF0aW9uOm59KX19KSxBKHRoaXMsXCJvblwiLChpLHMpPT57dGhpcy5ldmVudHMub24oaSxzKX0pLEEodGhpcyxcIm9uY2VcIiwoaSxzKT0+e3RoaXMuZXZlbnRzLm9uY2UoaSxzKX0pLEEodGhpcyxcIm9mZlwiLChpLHMpPT57dGhpcy5ldmVudHMub2ZmKGkscyl9KSxBKHRoaXMsXCJyZW1vdmVMaXN0ZW5lclwiLChpLHMpPT57dGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSxzKX0pLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpfWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfWdldCBzdG9yYWdlS2V5KCl7cmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCt0aGlzLnZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMubmFtZX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuZXhwaXJhdGlvbnMuc2l6ZX1nZXQga2V5cygpe3JldHVybiBBcnJheS5mcm9tKHRoaXMuZXhwaXJhdGlvbnMua2V5cygpKX1nZXQgdmFsdWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5leHBpcmF0aW9ucy52YWx1ZXMoKSl9Zm9ybWF0VGFyZ2V0KGUpe2lmKHR5cGVvZiBlPT1cInN0cmluZ1wiKXJldHVybiB6cyhlKTtpZih0eXBlb2YgZT09XCJudW1iZXJcIilyZXR1cm4gTHMoZSk7Y29uc3R7bWVzc2FnZTp0fT1tKFwiVU5LTk9XTl9UWVBFXCIsYFRhcmdldCB0eXBlOiAke3R5cGVvZiBlfWApO3Rocm93IG5ldyBFcnJvcih0KX1hc3luYyBzZXRFeHBpcmF0aW9ucyhlKXthd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSxlKX1hc3luYyBnZXRFeHBpcmF0aW9ucygpe3JldHVybiBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSl9YXN5bmMgcGVyc2lzdCgpe2F3YWl0IHRoaXMuc2V0RXhwaXJhdGlvbnModGhpcy52YWx1ZXMpLHRoaXMuZXZlbnRzLmVtaXQoTS5zeW5jKX1hc3luYyByZXN0b3JlKCl7dHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5nZXRFeHBpcmF0aW9ucygpO2lmKHR5cGVvZiBlPlwidVwifHwhZS5sZW5ndGgpcmV0dXJuO2lmKHRoaXMuZXhwaXJhdGlvbnMuc2l6ZSl7Y29uc3R7bWVzc2FnZTp0fT1tKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsdGhpcy5uYW1lKTt0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcih0KSxuZXcgRXJyb3IodCl9dGhpcy5jYWNoZWQ9ZSx0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIGV4cGlyYXRpb25zIGZvciAke3RoaXMubmFtZX1gKSx0aGlzLmxvZ2dlci50cmFjZSh7dHlwZTpcIm1ldGhvZFwiLG1ldGhvZDpcInJlc3RvcmVcIixleHBpcmF0aW9uczp0aGlzLnZhbHVlc30pfWNhdGNoKGUpe3RoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSBleHBpcmF0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksdGhpcy5sb2dnZXIuZXJyb3IoZSl9fWdldEV4cGlyYXRpb24oZSl7Y29uc3QgdD10aGlzLmV4cGlyYXRpb25zLmdldChlKTtpZighdCl7Y29uc3R7bWVzc2FnZTppfT1tKFwiTk9fTUFUQ0hJTkdfS0VZXCIsYCR7dGhpcy5uYW1lfTogJHtlfWApO3Rocm93IHRoaXMubG9nZ2VyLndhcm4oaSksbmV3IEVycm9yKGkpfXJldHVybiB0fWNoZWNrRXhwaXJ5KGUsdCl7Y29uc3R7ZXhwaXJ5Oml9PXQ7UihpKS1EYXRlLm5vdygpPD0wJiZ0aGlzLmV4cGlyZShlLHQpfWV4cGlyZShlLHQpe3RoaXMuZXhwaXJhdGlvbnMuZGVsZXRlKGUpLHRoaXMuZXZlbnRzLmVtaXQoTS5leHBpcmVkLHt0YXJnZXQ6ZSxleHBpcmF0aW9uOnR9KX1jaGVja0V4cGlyYXRpb25zKCl7dGhpcy5jb3JlLnJlbGF5ZXIuY29ubmVjdGVkJiZ0aGlzLmV4cGlyYXRpb25zLmZvckVhY2goKGUsdCk9PnRoaXMuY2hlY2tFeHBpcnkodCxlKSl9cmVnaXN0ZXJFdmVudExpc3RlbmVycygpe3RoaXMuY29yZS5oZWFydGJlYXQub24odGUucHVsc2UsKCk9PnRoaXMuY2hlY2tFeHBpcmF0aW9ucygpKSx0aGlzLmV2ZW50cy5vbihNLmNyZWF0ZWQsZT0+e2NvbnN0IHQ9TS5jcmVhdGVkO3RoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSx0aGlzLmxvZ2dlci5kZWJ1Zyh7dHlwZTpcImV2ZW50XCIsZXZlbnQ6dCxkYXRhOmV9KSx0aGlzLnBlcnNpc3QoKX0pLHRoaXMuZXZlbnRzLm9uKE0uZXhwaXJlZCxlPT57Y29uc3QgdD1NLmV4cGlyZWQ7dGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLHRoaXMubG9nZ2VyLmRlYnVnKHt0eXBlOlwiZXZlbnRcIixldmVudDp0LGRhdGE6ZX0pLHRoaXMucGVyc2lzdCgpfSksdGhpcy5ldmVudHMub24oTS5kZWxldGVkLGU9Pntjb25zdCB0PU0uZGVsZXRlZDt0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksdGhpcy5sb2dnZXIuZGVidWcoe3R5cGU6XCJldmVudFwiLGV2ZW50OnQsZGF0YTplfSksdGhpcy5wZXJzaXN0KCl9KX1pc0luaXRpYWxpemVkKCl7aWYoIXRoaXMuaW5pdGlhbGl6ZWQpe2NvbnN0e21lc3NhZ2U6ZX09bShcIk5PVF9JTklUSUFMSVpFRFwiLHRoaXMubmFtZSk7dGhyb3cgbmV3IEVycm9yKGUpfX19dmFyIEtvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxCbz0ocixlLHQpPT5lIGluIHI/S28ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LHc9KHIsZSx0KT0+Qm8ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBGaSBleHRlbmRzIG5ze2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLHQsaSksdGhpcy5jb3JlPWUsdGhpcy5sb2dnZXI9dCx0aGlzLnN0b3JlPWksdyh0aGlzLFwibmFtZVwiLFd0KSx3KHRoaXMsXCJhYm9ydENvbnRyb2xsZXJcIiksdyh0aGlzLFwiaXNEZXZFbnZcIiksdyh0aGlzLFwidmVyaWZ5VXJsVjNcIixZdCksdyh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLHcodGhpcyxcInZlcnNpb25cIixMZSksdyh0aGlzLFwicHVibGljS2V5XCIpLHcodGhpcyxcImZldGNoUHJvbWlzZVwiKSx3KHRoaXMsXCJpbml0XCIsYXN5bmMoKT0+e3ZhciBzO3RoaXMuaXNEZXZFbnZ8fCh0aGlzLnB1YmxpY0tleT1hd2FpdCB0aGlzLnN0b3JlLmdldEl0ZW0odGhpcy5zdG9yZUtleSksdGhpcy5wdWJsaWNLZXkmJlIoKHM9dGhpcy5wdWJsaWNLZXkpPT1udWxsP3ZvaWQgMDpzLmV4cGlyZXNBdCk8RGF0ZS5ub3coKSYmKHRoaXMubG9nZ2VyLmRlYnVnKFwidmVyaWZ5IHYyIHB1YmxpYyBrZXkgZXhwaXJlZFwiKSxhd2FpdCB0aGlzLnJlbW92ZVB1YmxpY0tleSgpKSl9KSx3KHRoaXMsXCJyZWdpc3RlclwiLGFzeW5jIHM9PntpZigha3MoKXx8dGhpcy5pc0RldkVudilyZXR1cm47Y29uc3Qgbj13aW5kb3cubG9jYXRpb24ub3JpZ2luLHtpZDpvLGRlY3J5cHRlZElkOmF9PXMsYz1gJHt0aGlzLnZlcmlmeVVybFYzfS9hdHRlc3RhdGlvbj9wcm9qZWN0SWQ9JHt0aGlzLmNvcmUucHJvamVjdElkfSZvcmlnaW49JHtufSZpZD0ke299JmRlY3J5cHRlZElkPSR7YX1gO3RyeXtjb25zdCBoPUdzKCksbD10aGlzLnN0YXJ0QWJvcnRUaW1lcihaKjUpLGQ9YXdhaXQgbmV3IFByb21pc2UoKGcsXyk9Pntjb25zdCB1PSgpPT57d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIseCksaC5ib2R5LnJlbW92ZUNoaWxkKGIpLF8oXCJhdHRlc3RhdGlvbiBhYm9ydGVkXCIpfTt0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdSk7Y29uc3QgYj1oLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7Yi5zcmM9YyxiLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsYi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix1LHtzaWduYWw6dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsfSk7Y29uc3QgeD1JPT57aWYoSS5kYXRhJiZ0eXBlb2YgSS5kYXRhPT1cInN0cmluZ1wiKXRyeXtjb25zdCBEPUpTT04ucGFyc2UoSS5kYXRhKTtpZihELnR5cGU9PT1cInZlcmlmeV9hdHRlc3RhdGlvblwiKXtpZihydChELmF0dGVzdGF0aW9uKS5wYXlsb2FkLmlkIT09bylyZXR1cm47Y2xlYXJJbnRlcnZhbChsKSxoLmJvZHkucmVtb3ZlQ2hpbGQoYiksdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHgpLGcoRC5hdHRlc3RhdGlvbj09PW51bGw/XCJcIjpELmF0dGVzdGF0aW9uKX19Y2F0Y2goRCl7dGhpcy5sb2dnZXIud2FybihEKX19O2guYm9keS5hcHBlbmRDaGlsZChiKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix4LHtzaWduYWw6dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsfSl9KTtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJqd3QgYXR0ZXN0YXRpb25cIixkKSxkfWNhdGNoKGgpe3RoaXMubG9nZ2VyLndhcm4oaCl9cmV0dXJuXCJcIn0pLHcodGhpcyxcInJlc29sdmVcIixhc3luYyBzPT57aWYodGhpcy5pc0RldkVudilyZXR1cm5cIlwiO2NvbnN0e2F0dGVzdGF0aW9uSWQ6bixoYXNoOm8sZW5jcnlwdGVkSWQ6YX09cztpZihuPT09XCJcIil7dGhpcy5sb2dnZXIuZGVidWcoXCJyZXNvbHZlOiBhdHRlc3RhdGlvbklkIGlzIGVtcHR5LCBza2lwcGluZ1wiKTtyZXR1cm59aWYobil7aWYocnQobikucGF5bG9hZC5pZCE9PWEpcmV0dXJuO2NvbnN0IGg9YXdhaXQgdGhpcy5pc1ZhbGlkSnd0QXR0ZXN0YXRpb24obik7aWYoaCl7aWYoIWguaXNWZXJpZmllZCl7dGhpcy5sb2dnZXIud2FybihcInJlc29sdmU6IGp3dCBhdHRlc3RhdGlvbjogb3JpZ2luIHVybCBub3QgdmVyaWZpZWRcIik7cmV0dXJufXJldHVybiBofX1pZighbylyZXR1cm47Y29uc3QgYz10aGlzLmdldFZlcmlmeVVybChzPy52ZXJpZnlVcmwpO3JldHVybiB0aGlzLmZldGNoQXR0ZXN0YXRpb24obyxjKX0pLHcodGhpcyxcImZldGNoQXR0ZXN0YXRpb25cIixhc3luYyhzLG4pPT57dGhpcy5sb2dnZXIuZGVidWcoYHJlc29sdmluZyBhdHRlc3RhdGlvbjogJHtzfSBmcm9tIHVybDogJHtufWApO2NvbnN0IG89dGhpcy5zdGFydEFib3J0VGltZXIoWio1KSxhPWF3YWl0IGZldGNoKGAke259L2F0dGVzdGF0aW9uLyR7c30/djJTdXBwb3J0ZWQ9dHJ1ZWAse3NpZ25hbDp0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWx9KTtyZXR1cm4gY2xlYXJUaW1lb3V0KG8pLGEuc3RhdHVzPT09MjAwP2F3YWl0IGEuanNvbigpOnZvaWQgMH0pLHcodGhpcyxcImdldFZlcmlmeVVybFwiLHM9PntsZXQgbj1zfHx1ZTtyZXR1cm4gSnQuaW5jbHVkZXMobil8fCh0aGlzLmxvZ2dlci5pbmZvKGB2ZXJpZnkgdXJsOiAke259LCBub3QgaW5jbHVkZWQgaW4gdHJ1c3RlZCBsaXN0LCBhc3NpZ25pbmcgZGVmYXVsdDogJHt1ZX1gKSxuPXVlKSxufSksdyh0aGlzLFwiZmV0Y2hQdWJsaWNLZXlcIixhc3luYygpPT57dHJ5e3RoaXMubG9nZ2VyLmRlYnVnKGBmZXRjaGluZyBwdWJsaWMga2V5IGZyb206ICR7dGhpcy52ZXJpZnlVcmxWM31gKTtjb25zdCBzPXRoaXMuc3RhcnRBYm9ydFRpbWVyKFBlKSxuPWF3YWl0IGZldGNoKGAke3RoaXMudmVyaWZ5VXJsVjN9L3B1YmxpYy1rZXlgLHtzaWduYWw6dGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsfSk7cmV0dXJuIGNsZWFyVGltZW91dChzKSxhd2FpdCBuLmpzb24oKX1jYXRjaChzKXt0aGlzLmxvZ2dlci53YXJuKHMpfX0pLHcodGhpcyxcInBlcnNpc3RQdWJsaWNLZXlcIixhc3luYyBzPT57dGhpcy5sb2dnZXIuZGVidWcoXCJwZXJzaXN0aW5nIHB1YmxpYyBrZXkgdG8gbG9jYWwgc3RvcmFnZVwiLHMpLGF3YWl0IHRoaXMuc3RvcmUuc2V0SXRlbSh0aGlzLnN0b3JlS2V5LHMpLHRoaXMucHVibGljS2V5PXN9KSx3KHRoaXMsXCJyZW1vdmVQdWJsaWNLZXlcIixhc3luYygpPT57dGhpcy5sb2dnZXIuZGVidWcoXCJyZW1vdmluZyB2ZXJpZnkgdjIgcHVibGljIGtleSBmcm9tIHN0b3JhZ2VcIiksYXdhaXQgdGhpcy5zdG9yZS5yZW1vdmVJdGVtKHRoaXMuc3RvcmVLZXkpLHRoaXMucHVibGljS2V5PXZvaWQgMH0pLHcodGhpcyxcImlzVmFsaWRKd3RBdHRlc3RhdGlvblwiLGFzeW5jIHM9Pntjb25zdCBuPWF3YWl0IHRoaXMuZ2V0UHVibGljS2V5KCk7dHJ5e2lmKG4pcmV0dXJuIHRoaXMudmFsaWRhdGVBdHRlc3RhdGlvbihzLG4pfWNhdGNoKGEpe3RoaXMubG9nZ2VyLmVycm9yKGEpLHRoaXMubG9nZ2VyLndhcm4oXCJlcnJvciB2YWxpZGF0aW5nIGF0dGVzdGF0aW9uXCIpfWNvbnN0IG89YXdhaXQgdGhpcy5mZXRjaEFuZFBlcnNpc3RQdWJsaWNLZXkoKTt0cnl7aWYobylyZXR1cm4gdGhpcy52YWxpZGF0ZUF0dGVzdGF0aW9uKHMsbyl9Y2F0Y2goYSl7dGhpcy5sb2dnZXIuZXJyb3IoYSksdGhpcy5sb2dnZXIud2FybihcImVycm9yIHZhbGlkYXRpbmcgYXR0ZXN0YXRpb25cIil9fSksdyh0aGlzLFwiZ2V0UHVibGljS2V5XCIsYXN5bmMoKT0+dGhpcy5wdWJsaWNLZXk/dGhpcy5wdWJsaWNLZXk6YXdhaXQgdGhpcy5mZXRjaEFuZFBlcnNpc3RQdWJsaWNLZXkoKSksdyh0aGlzLFwiZmV0Y2hBbmRQZXJzaXN0UHVibGljS2V5XCIsYXN5bmMoKT0+e2lmKHRoaXMuZmV0Y2hQcm9taXNlKXJldHVybiBhd2FpdCB0aGlzLmZldGNoUHJvbWlzZSx0aGlzLnB1YmxpY0tleTt0aGlzLmZldGNoUHJvbWlzZT1uZXcgUHJvbWlzZShhc3luYyBuPT57Y29uc3Qgbz1hd2FpdCB0aGlzLmZldGNoUHVibGljS2V5KCk7byYmKGF3YWl0IHRoaXMucGVyc2lzdFB1YmxpY0tleShvKSxuKG8pKX0pO2NvbnN0IHM9YXdhaXQgdGhpcy5mZXRjaFByb21pc2U7cmV0dXJuIHRoaXMuZmV0Y2hQcm9taXNlPXZvaWQgMCxzfSksdyh0aGlzLFwidmFsaWRhdGVBdHRlc3RhdGlvblwiLChzLG4pPT57Y29uc3Qgbz1qcyhzLG4ucHVibGljS2V5KSxhPXtoYXNFeHBpcmVkOlIoby5leHApPERhdGUubm93KCkscGF5bG9hZDpvfTtpZihhLmhhc0V4cGlyZWQpdGhyb3cgdGhpcy5sb2dnZXIud2FybihcInJlc29sdmU6IGp3dCBhdHRlc3RhdGlvbiBleHBpcmVkXCIpLG5ldyBFcnJvcihcIkpXVCBhdHRlc3RhdGlvbiBleHBpcmVkXCIpO3JldHVybntvcmlnaW46YS5wYXlsb2FkLm9yaWdpbixpc1NjYW06YS5wYXlsb2FkLmlzU2NhbSxpc1ZlcmlmaWVkOmEucGF5bG9hZC5pc1ZlcmlmaWVkfX0pLHRoaXMubG9nZ2VyPU4odCx0aGlzLm5hbWUpLHRoaXMuYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5pc0RldkVudj15dCgpLHRoaXMuaW5pdCgpfWdldCBzdG9yZUtleSgpe3JldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXgrdGhpcy52ZXJzaW9uK3RoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4K1wiLy92ZXJpZnk6cHVibGljOmtleVwifWdldCBjb250ZXh0KCl7cmV0dXJuIFUodGhpcy5sb2dnZXIpfXN0YXJ0QWJvcnRUaW1lcihlKXtyZXR1cm4gdGhpcy5hYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcixzZXRUaW1lb3V0KCgpPT50aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpLFIoZSkpfX12YXIgVm89T2JqZWN0LmRlZmluZVByb3BlcnR5LHFvPShyLGUsdCk9PmUgaW4gcj9WbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsTWk9KHIsZSx0KT0+cW8ocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBLaSBleHRlbmRzIG9ze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnByb2plY3RJZD1lLHRoaXMubG9nZ2VyPXQsTWkodGhpcyxcImNvbnRleHRcIixYdCksTWkodGhpcyxcInJlZ2lzdGVyRGV2aWNlVG9rZW5cIixhc3luYyBpPT57Y29uc3R7Y2xpZW50SWQ6cyx0b2tlbjpuLG5vdGlmaWNhdGlvblR5cGU6byxlbmFibGVFbmNyeXB0ZWQ6YT0hMX09aSxjPWAke1p0fS8ke3RoaXMucHJvamVjdElkfS9jbGllbnRzYDthd2FpdCBmZXRjaChjLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sYm9keTpKU09OLnN0cmluZ2lmeSh7Y2xpZW50X2lkOnMsdHlwZTpvLHRva2VuOm4sYWx3YXlzX3JhdzphfSl9KX0pLHRoaXMubG9nZ2VyPU4odCx0aGlzLmNvbnRleHQpfX12YXIgR289T2JqZWN0LmRlZmluZVByb3BlcnR5LEJpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsV289T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxIbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLFplPShyLGUsdCk9PmUgaW4gcj9HbyhyLGUse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KTpyW2VdPXQsYmU9KHIsZSk9Pntmb3IodmFyIHQgaW4gZXx8KGU9e30pKVdvLmNhbGwoZSx0KSYmWmUocix0LGVbdF0pO2lmKEJpKWZvcih2YXIgdCBvZiBCaShlKSlIby5jYWxsKGUsdCkmJlplKHIsdCxlW3RdKTtyZXR1cm4gcn0sRT0ocixlLHQpPT5aZShyLHR5cGVvZiBlIT1cInN5bWJvbFwiP2UrXCJcIjplLHQpO2NsYXNzIFZpIGV4dGVuZHMgYXN7Y29uc3RydWN0b3IoZSx0LGk9ITApe3N1cGVyKGUsdCxpKSx0aGlzLmNvcmU9ZSx0aGlzLmxvZ2dlcj10LEUodGhpcyxcImNvbnRleHRcIixlaSksRSh0aGlzLFwic3RvcmFnZVByZWZpeFwiLEIpLEUodGhpcyxcInN0b3JhZ2VWZXJzaW9uXCIsUXQpLEUodGhpcyxcImV2ZW50c1wiLG5ldyBNYXApLEUodGhpcyxcInNob3VsZFBlcnNpc3RcIiwhMSksRSh0aGlzLFwiaW5pdFwiLGFzeW5jKCk9PntpZigheXQoKSl0cnl7Y29uc3Qgcz17ZXZlbnRJZDpidCgpLHRpbWVzdGFtcDpEYXRlLm5vdygpLGRvbWFpbjp0aGlzLmdldEFwcERvbWFpbigpLHByb3BzOntldmVudDpcIklOSVRcIix0eXBlOlwiXCIscHJvcGVydGllczp7Y2xpZW50X2lkOmF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZ2V0Q2xpZW50SWQoKSx1c2VyX2FnZW50OlVzKHRoaXMuY29yZS5yZWxheWVyLnByb3RvY29sLHRoaXMuY29yZS5yZWxheWVyLnZlcnNpb24sX2UpfX19O2F3YWl0IHRoaXMuc2VuZEV2ZW50KFtzXSl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzKX19KSxFKHRoaXMsXCJjcmVhdGVFdmVudFwiLHM9Pntjb25zdHtldmVudDpuPVwiRVJST1JcIix0eXBlOm89XCJcIixwcm9wZXJ0aWVzOnt0b3BpYzphLHRyYWNlOmN9fT1zLGg9YnQoKSxsPXRoaXMuY29yZS5wcm9qZWN0SWR8fFwiXCIsZD1EYXRlLm5vdygpLGc9YmUoe2V2ZW50SWQ6aCx0aW1lc3RhbXA6ZCxwcm9wczp7ZXZlbnQ6bix0eXBlOm8scHJvcGVydGllczp7dG9waWM6YSx0cmFjZTpjfX0sYnVuZGxlSWQ6bCxkb21haW46dGhpcy5nZXRBcHBEb21haW4oKX0sdGhpcy5zZXRNZXRob2RzKGgpKTtyZXR1cm4gdGhpcy50ZWxlbWV0cnlFbmFibGVkJiYodGhpcy5ldmVudHMuc2V0KGgsZyksdGhpcy5zaG91bGRQZXJzaXN0PSEwKSxnfSksRSh0aGlzLFwiZ2V0RXZlbnRcIixzPT57Y29uc3R7ZXZlbnRJZDpuLHRvcGljOm99PXM7aWYobilyZXR1cm4gdGhpcy5ldmVudHMuZ2V0KG4pO2NvbnN0IGE9QXJyYXkuZnJvbSh0aGlzLmV2ZW50cy52YWx1ZXMoKSkuZmluZChjPT5jLnByb3BzLnByb3BlcnRpZXMudG9waWM9PT1vKTtpZihhKXJldHVybiBiZShiZSh7fSxhKSx0aGlzLnNldE1ldGhvZHMoYS5ldmVudElkKSl9KSxFKHRoaXMsXCJkZWxldGVFdmVudFwiLHM9Pntjb25zdHtldmVudElkOm59PXM7dGhpcy5ldmVudHMuZGVsZXRlKG4pLHRoaXMuc2hvdWxkUGVyc2lzdD0hMH0pLEUodGhpcyxcInNldEV2ZW50TGlzdGVuZXJzXCIsKCk9Pnt0aGlzLmNvcmUuaGVhcnRiZWF0Lm9uKHRlLnB1bHNlLGFzeW5jKCk9Pnt0aGlzLnNob3VsZFBlcnNpc3QmJmF3YWl0IHRoaXMucGVyc2lzdCgpLHRoaXMuZXZlbnRzLmZvckVhY2gocz0+e2l0KERhdGUubm93KCkpLWl0KHMudGltZXN0YW1wKT50aSYmKHRoaXMuZXZlbnRzLmRlbGV0ZShzLmV2ZW50SWQpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMCl9KX0pfSksRSh0aGlzLFwic2V0TWV0aG9kc1wiLHM9Pih7YWRkVHJhY2U6bj0+dGhpcy5hZGRUcmFjZShzLG4pLHNldEVycm9yOm49PnRoaXMuc2V0RXJyb3IocyxuKX0pKSxFKHRoaXMsXCJhZGRUcmFjZVwiLChzLG4pPT57Y29uc3Qgbz10aGlzLmV2ZW50cy5nZXQocyk7byYmKG8ucHJvcHMucHJvcGVydGllcy50cmFjZS5wdXNoKG4pLHRoaXMuZXZlbnRzLnNldChzLG8pLHRoaXMuc2hvdWxkUGVyc2lzdD0hMCl9KSxFKHRoaXMsXCJzZXRFcnJvclwiLChzLG4pPT57Y29uc3Qgbz10aGlzLmV2ZW50cy5nZXQocyk7byYmKG8ucHJvcHMudHlwZT1uLG8udGltZXN0YW1wPURhdGUubm93KCksdGhpcy5ldmVudHMuc2V0KHMsbyksdGhpcy5zaG91bGRQZXJzaXN0PSEwKX0pLEUodGhpcyxcInBlcnNpc3RcIixhc3luYygpPT57YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksQXJyYXkuZnJvbSh0aGlzLmV2ZW50cy52YWx1ZXMoKSkpLHRoaXMuc2hvdWxkUGVyc2lzdD0hMX0pLEUodGhpcyxcInJlc3RvcmVcIixhc3luYygpPT57dHJ5e2NvbnN0IHM9YXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpfHxbXTtpZighcy5sZW5ndGgpcmV0dXJuO3MuZm9yRWFjaChuPT57dGhpcy5ldmVudHMuc2V0KG4uZXZlbnRJZCxiZShiZSh7fSxuKSx0aGlzLnNldE1ldGhvZHMobi5ldmVudElkKSkpfSl9Y2F0Y2gocyl7dGhpcy5sb2dnZXIud2FybihzKX19KSxFKHRoaXMsXCJzdWJtaXRcIixhc3luYygpPT57aWYoIXRoaXMudGVsZW1ldHJ5RW5hYmxlZHx8dGhpcy5ldmVudHMuc2l6ZT09PTApcmV0dXJuO2NvbnN0IHM9W107Zm9yKGNvbnN0W24sb11vZiB0aGlzLmV2ZW50cylvLnByb3BzLnR5cGUmJnMucHVzaChvKTtpZihzLmxlbmd0aCE9PTApdHJ5e2lmKChhd2FpdCB0aGlzLnNlbmRFdmVudChzKSkub2spZm9yKGNvbnN0IG4gb2Ygcyl0aGlzLmV2ZW50cy5kZWxldGUobi5ldmVudElkKSx0aGlzLnNob3VsZFBlcnNpc3Q9ITB9Y2F0Y2gobil7dGhpcy5sb2dnZXIud2FybihuKX19KSxFKHRoaXMsXCJzZW5kRXZlbnRcIixhc3luYyBzPT57Y29uc3Qgbj10aGlzLmdldEFwcERvbWFpbigpP1wiXCI6XCImc3A9ZGVza3RvcFwiO3JldHVybiBhd2FpdCBmZXRjaChgJHtpaX0/cHJvamVjdElkPSR7dGhpcy5jb3JlLnByb2plY3RJZH0mc3Q9ZXZlbnRzX3NkayZzdj1qcy0ke19lfSR7bn1gLHttZXRob2Q6XCJQT1NUXCIsYm9keTpKU09OLnN0cmluZ2lmeShzKX0pfSksRSh0aGlzLFwiZ2V0QXBwRG9tYWluXCIsKCk9PkZzKCkudXJsKSx0aGlzLmxvZ2dlcj1OKHQsdGhpcy5jb250ZXh0KSx0aGlzLnRlbGVtZXRyeUVuYWJsZWQ9aSxpP3RoaXMucmVzdG9yZSgpLnRoZW4oYXN5bmMoKT0+e2F3YWl0IHRoaXMuc3VibWl0KCksdGhpcy5zZXRFdmVudExpc3RlbmVycygpfSk6dGhpcy5wZXJzaXN0KCl9Z2V0IHN0b3JhZ2VLZXkoKXtyZXR1cm4gdGhpcy5zdG9yYWdlUHJlZml4K3RoaXMuc3RvcmFnZVZlcnNpb24rdGhpcy5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXgrXCIvL1wiK3RoaXMuY29udGV4dH19dmFyIFlvPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxxaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLEpvPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksWG89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxRZT0ocixlLHQpPT5lIGluIHI/WW8ocixlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSk6cltlXT10LEdpPShyLGUpPT57Zm9yKHZhciB0IGluIGV8fChlPXt9KSlKby5jYWxsKGUsdCkmJlFlKHIsdCxlW3RdKTtpZihxaSlmb3IodmFyIHQgb2YgcWkoZSkpWG8uY2FsbChlLHQpJiZRZShyLHQsZVt0XSk7cmV0dXJuIHJ9LHY9KHIsZSx0KT0+UWUocix0eXBlb2YgZSE9XCJzeW1ib2xcIj9lK1wiXCI6ZSx0KTtjbGFzcyBUZSBleHRlbmRzIGNze2NvbnN0cnVjdG9yKGUpe3ZhciB0O3N1cGVyKGUpLHYodGhpcyxcInByb3RvY29sXCIsemUpLHYodGhpcyxcInZlcnNpb25cIixMZSksdih0aGlzLFwibmFtZVwiLGhlKSx2KHRoaXMsXCJyZWxheVVybFwiKSx2KHRoaXMsXCJwcm9qZWN0SWRcIiksdih0aGlzLFwiY3VzdG9tU3RvcmFnZVByZWZpeFwiKSx2KHRoaXMsXCJldmVudHNcIixuZXcgZWUpLHYodGhpcyxcImxvZ2dlclwiKSx2KHRoaXMsXCJoZWFydGJlYXRcIiksdih0aGlzLFwicmVsYXllclwiKSx2KHRoaXMsXCJjcnlwdG9cIiksdih0aGlzLFwic3RvcmFnZVwiKSx2KHRoaXMsXCJoaXN0b3J5XCIpLHYodGhpcyxcImV4cGlyZXJcIiksdih0aGlzLFwicGFpcmluZ1wiKSx2KHRoaXMsXCJ2ZXJpZnlcIiksdih0aGlzLFwiZWNob0NsaWVudFwiKSx2KHRoaXMsXCJsaW5rTW9kZVN1cHBvcnRlZEFwcHNcIiksdih0aGlzLFwiZXZlbnRDbGllbnRcIiksdih0aGlzLFwiaW5pdGlhbGl6ZWRcIiwhMSksdih0aGlzLFwibG9nQ2h1bmtDb250cm9sbGVyXCIpLHYodGhpcyxcIm9uXCIsKGEsYyk9PnRoaXMuZXZlbnRzLm9uKGEsYykpLHYodGhpcyxcIm9uY2VcIiwoYSxjKT0+dGhpcy5ldmVudHMub25jZShhLGMpKSx2KHRoaXMsXCJvZmZcIiwoYSxjKT0+dGhpcy5ldmVudHMub2ZmKGEsYykpLHYodGhpcyxcInJlbW92ZUxpc3RlbmVyXCIsKGEsYyk9PnRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGEsYykpLHYodGhpcyxcImRpc3BhdGNoRW52ZWxvcGVcIiwoe3RvcGljOmEsbWVzc2FnZTpjLHNlc3Npb25FeGlzdHM6aH0pPT57aWYoIWF8fCFjKXJldHVybjtjb25zdCBsPXt0b3BpYzphLG1lc3NhZ2U6YyxwdWJsaXNoZWRBdDpEYXRlLm5vdygpLHRyYW5zcG9ydFR5cGU6US5saW5rX21vZGV9O3RoaXMucmVsYXllci5vbkxpbmtNZXNzYWdlRXZlbnQobCx7c2Vzc2lvbkV4aXN0czpofSl9KTtjb25zdCBpPXRoaXMuZ2V0R2xvYmFsQ29yZShlPy5jdXN0b21TdG9yYWdlUHJlZml4KTtpZihpKXRyeXtyZXR1cm4gdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWkuY3VzdG9tU3RvcmFnZVByZWZpeCx0aGlzLmxvZ2dlcj1pLmxvZ2dlcix0aGlzLmhlYXJ0YmVhdD1pLmhlYXJ0YmVhdCx0aGlzLmNyeXB0bz1pLmNyeXB0byx0aGlzLmhpc3Rvcnk9aS5oaXN0b3J5LHRoaXMuZXhwaXJlcj1pLmV4cGlyZXIsdGhpcy5zdG9yYWdlPWkuc3RvcmFnZSx0aGlzLnJlbGF5ZXI9aS5yZWxheWVyLHRoaXMucGFpcmluZz1pLnBhaXJpbmcsdGhpcy52ZXJpZnk9aS52ZXJpZnksdGhpcy5lY2hvQ2xpZW50PWkuZWNob0NsaWVudCx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1pLmxpbmtNb2RlU3VwcG9ydGVkQXBwcyx0aGlzLmV2ZW50Q2xpZW50PWkuZXZlbnRDbGllbnQsdGhpcy5pbml0aWFsaXplZD1pLmluaXRpYWxpemVkLHRoaXMubG9nQ2h1bmtDb250cm9sbGVyPWkubG9nQ2h1bmtDb250cm9sbGVyLGl9Y2F0Y2goYSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIGNvcHkgZ2xvYmFsIGNvcmVcIixhKX10aGlzLnByb2plY3RJZD1lPy5wcm9qZWN0SWQsdGhpcy5yZWxheVVybD1lPy5yZWxheVVybHx8VWUsdGhpcy5jdXN0b21TdG9yYWdlUHJlZml4PWUhPW51bGwmJmUuY3VzdG9tU3RvcmFnZVByZWZpeD9gOiR7ZS5jdXN0b21TdG9yYWdlUHJlZml4fWA6XCJcIjtjb25zdCBzPWV0KHtsZXZlbDp0eXBlb2YgZT8ubG9nZ2VyPT1cInN0cmluZ1wiJiZlLmxvZ2dlcj9lLmxvZ2dlcjpFdC5sb2dnZXIsbmFtZTpoZX0pLHtsb2dnZXI6bixjaHVua0xvZ2dlckNvbnRyb2xsZXI6b309WGkoe29wdHM6cyxtYXhTaXplSW5CeXRlczplPy5tYXhMb2dCbG9iU2l6ZUluQnl0ZXMsbG9nZ2VyT3ZlcnJpZGU6ZT8ubG9nZ2VyfSk7dGhpcy5sb2dDaHVua0NvbnRyb2xsZXI9bywodD10aGlzLmxvZ0NodW5rQ29udHJvbGxlcikhPW51bGwmJnQuZG93bmxvYWRMb2dzQmxvYkluQnJvd3NlciYmKHdpbmRvdy5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyPWFzeW5jKCk9Pnt2YXIgYSxjOyhhPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKSE9bnVsbCYmYS5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyJiYoKGM9dGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpPT1udWxsfHxjLmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXIoe2NsaWVudElkOmF3YWl0IHRoaXMuY3J5cHRvLmdldENsaWVudElkKCl9KSl9KSx0aGlzLmxvZ2dlcj1OKG4sdGhpcy5uYW1lKSx0aGlzLmhlYXJ0YmVhdD1uZXcgSGksdGhpcy5jcnlwdG89bmV3IHdpKHRoaXMsdGhpcy5sb2dnZXIsZT8ua2V5Y2hhaW4pLHRoaXMuaGlzdG9yeT1uZXcgamkodGhpcyx0aGlzLmxvZ2dlciksdGhpcy5leHBpcmVyPW5ldyBVaSh0aGlzLHRoaXMubG9nZ2VyKSx0aGlzLnN0b3JhZ2U9ZSE9bnVsbCYmZS5zdG9yYWdlP2Uuc3RvcmFnZTpuZXcgWWkoR2koR2koe30sSXQpLGU/LnN0b3JhZ2VPcHRpb25zKSksdGhpcy5yZWxheWVyPW5ldyBPaSh7Y29yZTp0aGlzLGxvZ2dlcjp0aGlzLmxvZ2dlcixyZWxheVVybDp0aGlzLnJlbGF5VXJsLHByb2plY3RJZDp0aGlzLnByb2plY3RJZH0pLHRoaXMucGFpcmluZz1uZXcga2kodGhpcyx0aGlzLmxvZ2dlciksdGhpcy52ZXJpZnk9bmV3IEZpKHRoaXMsdGhpcy5sb2dnZXIsdGhpcy5zdG9yYWdlKSx0aGlzLmVjaG9DbGllbnQ9bmV3IEtpKHRoaXMucHJvamVjdElkfHxcIlwiLHRoaXMubG9nZ2VyKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1bXSx0aGlzLmV2ZW50Q2xpZW50PW5ldyBWaSh0aGlzLHRoaXMubG9nZ2VyLGU/LnRlbGVtZXRyeUVuYWJsZWQpLHRoaXMuc2V0R2xvYmFsQ29yZSh0aGlzKX1zdGF0aWMgYXN5bmMgaW5pdChlKXtjb25zdCB0PW5ldyBUZShlKTthd2FpdCB0LmluaXRpYWxpemUoKTtjb25zdCBpPWF3YWl0IHQuY3J5cHRvLmdldENsaWVudElkKCk7cmV0dXJuIGF3YWl0IHQuc3RvcmFnZS5zZXRJdGVtKGp0LGkpLHR9Z2V0IGNvbnRleHQoKXtyZXR1cm4gVSh0aGlzLmxvZ2dlcil9YXN5bmMgc3RhcnQoKXt0aGlzLmluaXRpYWxpemVkfHxhd2FpdCB0aGlzLmluaXRpYWxpemUoKX1hc3luYyBnZXRMb2dzQmxvYigpe3ZhciBlO3JldHVybihlPXRoaXMubG9nQ2h1bmtDb250cm9sbGVyKT09bnVsbD92b2lkIDA6ZS5sb2dzVG9CbG9iKHtjbGllbnRJZDphd2FpdCB0aGlzLmNyeXB0by5nZXRDbGllbnRJZCgpfSl9YXN5bmMgYWRkTGlua01vZGVTdXBwb3J0ZWRBcHAoZSl7dGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoZSl8fCh0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5wdXNoKGUpLGF3YWl0IHRoaXMuc3RvcmFnZS5zZXRJdGVtKEZlLHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzKSl9YXN5bmMgaW5pdGlhbGl6ZSgpe3RoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIik7dHJ5e2F3YWl0IHRoaXMuY3J5cHRvLmluaXQoKSxhd2FpdCB0aGlzLmhpc3RvcnkuaW5pdCgpLGF3YWl0IHRoaXMuZXhwaXJlci5pbml0KCksYXdhaXQgdGhpcy5yZWxheWVyLmluaXQoKSxhd2FpdCB0aGlzLmhlYXJ0YmVhdC5pbml0KCksYXdhaXQgdGhpcy5wYWlyaW5nLmluaXQoKSx0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcz1hd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShGZSl8fFtdLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5sb2dnZXIuaW5mbyhcIkNvcmUgSW5pdGlhbGl6YXRpb24gU3VjY2Vzc1wiKX1jYXRjaChlKXt0aHJvdyB0aGlzLmxvZ2dlci53YXJuKGBDb3JlIEluaXRpYWxpemF0aW9uIEZhaWx1cmUgYXQgZXBvY2ggJHtEYXRlLm5vdygpfWAsZSksdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKSxlfX1nZXRHbG9iYWxDb3JlKGU9XCJcIil7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgdD1gX3dhbGxldENvbm5lY3RDb3JlXyR7ZX1gLGk9YCR7dH1fY291bnRgO3JldHVybiBnbG9iYWxUaGlzW2ldPShnbG9iYWxUaGlzW2ldfHwwKSsxLGdsb2JhbFRoaXNbaV0+MSYmY29uc29sZS53YXJuKGBXYWxsZXRDb25uZWN0IENvcmUgaXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgYW5kIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIEluaXQoKSB3YXMgY2FsbGVkICR7Z2xvYmFsVGhpc1tpXX0gdGltZXMuYCksZ2xvYmFsVGhpc1t0XX1jYXRjaCh0KXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gZ2V0IGdsb2JhbCBXYWxsZXRDb25uZWN0IGNvcmVcIix0KTtyZXR1cm59fXNldEdsb2JhbENvcmUoZSl7dmFyIHQ7dHJ5e2lmKHRoaXMuaXNHbG9iYWxDb3JlRGlzYWJsZWQoKSlyZXR1cm47Y29uc3QgaT1gX3dhbGxldENvbm5lY3RDb3JlXyR7KCh0PWUub3B0cyk9PW51bGw/dm9pZCAwOnQuY3VzdG9tU3RvcmFnZVByZWZpeCl8fFwiXCJ9YDtnbG9iYWxUaGlzW2ldPWV9Y2F0Y2goaSl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHNldCBnbG9iYWwgV2FsbGV0Q29ubmVjdCBjb3JlXCIsaSl9fWlzR2xvYmFsQ29yZURpc2FibGVkKCl7dHJ5e3JldHVybiB0eXBlb2YgcHJvY2VzczxcInVcIiYmcHJvY2Vzcy5lbnYuRElTQUJMRV9HTE9CQUxfQ09SRT09PVwidHJ1ZVwifWNhdGNoe3JldHVybiEwfX19Y29uc3QgWm89VGU7ZXhwb3J0e2hlIGFzIENPUkVfQ09OVEVYVCxFdCBhcyBDT1JFX0RFRkFVTFQsemUgYXMgQ09SRV9QUk9UT0NPTCxJdCBhcyBDT1JFX1NUT1JBR0VfT1BUSU9OUyxCIGFzIENPUkVfU1RPUkFHRV9QUkVGSVgsTGUgYXMgQ09SRV9WRVJTSU9OLGtlIGFzIENSWVBUT19DTElFTlRfU0VFRCxUdCBhcyBDUllQVE9fQ09OVEVYVCxDdCBhcyBDUllQVE9fSldUX1RUTCxabyBhcyBDb3JlLHdpIGFzIENyeXB0byxYdCBhcyBFQ0hPX0NPTlRFWFQsWnQgYXMgRUNIT19VUkwsaWkgYXMgRVZFTlRTX0NMSUVOVF9BUElfVVJMLHRpIGFzIEVWRU5UU19TVE9SQUdFX0NMRUFOVVBfSU5URVJWQUwsZWkgYXMgRVZFTlRTX1NUT1JBR0VfQ09OVEVYVCxRdCBhcyBFVkVOVFNfU1RPUkFHRV9WRVJTSU9OLHJyIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfRVJST1JTLHNyIGFzIEVWRU5UX0NMSUVOVF9BVVRIRU5USUNBVEVfVFJBQ0VTLGVyIGFzIEVWRU5UX0NMSUVOVF9DT05URVhULFkgYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfRVJST1JTLEcgYXMgRVZFTlRfQ0xJRU5UX1BBSVJJTkdfVFJBQ0VTLGlyIGFzIEVWRU5UX0NMSUVOVF9TRVNTSU9OX0VSUk9SUyx0ciBhcyBFVkVOVF9DTElFTlRfU0VTU0lPTl9UUkFDRVMscXQgYXMgRVhQSVJFUl9DT05URVhULFpzIGFzIEVYUElSRVJfREVGQVVMVF9UVEwsTSBhcyBFWFBJUkVSX0VWRU5UUyxHdCBhcyBFWFBJUkVSX1NUT1JBR0VfVkVSU0lPTixLaSBhcyBFY2hvQ2xpZW50LFZpIGFzIEV2ZW50Q2xpZW50LFVpIGFzIEV4cGlyZXIsQnQgYXMgSElTVE9SWV9DT05URVhULEYgYXMgSElTVE9SWV9FVkVOVFMsVnQgYXMgSElTVE9SWV9TVE9SQUdFX1ZFUlNJT04samkgYXMgSnNvblJwY0hpc3RvcnksUHQgYXMgS0VZQ0hBSU5fQ09OVEVYVCxTdCBhcyBLRVlDSEFJTl9TVE9SQUdFX1ZFUlNJT04sdmkgYXMgS2V5Q2hhaW4sT3QgYXMgTUVTU0FHRVNfQ09OVEVYVCxSdCBhcyBNRVNTQUdFU19TVE9SQUdFX1ZFUlNJT04sbGUgYXMgTUVTU0FHRV9ESVJFQ1RJT04sRWkgYXMgTWVzc2FnZVRyYWNrZXIsTXQgYXMgUEFJUklOR19DT05URVhULFhzIGFzIFBBSVJJTkdfREVGQVVMVF9UVEwscmUgYXMgUEFJUklOR19FVkVOVFMsc2UgYXMgUEFJUklOR19SUENfT1BUUyxLdCBhcyBQQUlSSU5HX1NUT1JBR0VfVkVSU0lPTixKcyBhcyBQRU5ESU5HX1NVQl9SRVNPTFVUSU9OX1RJTUVPVVQsQXQgYXMgUFVCTElTSEVSX0NPTlRFWFQsamUgYXMgUFVCTElTSEVSX0RFRkFVTFRfVFRMLGtpIGFzIFBhaXJpbmcsJHQgYXMgUkVMQVlFUl9DT05URVhULE50IGFzIFJFTEFZRVJfREVGQVVMVF9MT0dHRVIseHQgYXMgUkVMQVlFUl9ERUZBVUxUX1BST1RPQ09MLFVlIGFzIFJFTEFZRVJfREVGQVVMVF9SRUxBWV9VUkwsQyBhcyBSRUxBWUVSX0VWRU5UUyxMIGFzIFJFTEFZRVJfUFJPVklERVJfRVZFTlRTLEx0IGFzIFJFTEFZRVJfUkVDT05ORUNUX1RJTUVPVVQsX2UgYXMgUkVMQVlFUl9TREtfVkVSU0lPTixXcyBhcyBSRUxBWUVSX1NUT1JBR0VfT1BUSU9OUyx6dCBhcyBSRUxBWUVSX1NVQlNDUklCRVJfU1VGRklYLEhzIGFzIFJFTEFZRVJfVFJBTlNQT1JUX0NVVE9GRixPaSBhcyBSZWxheWVyLGt0IGFzIFNUT1JFX1NUT1JBR0VfVkVSU0lPTixVdCBhcyBTVUJTQ1JJQkVSX0NPTlRFWFQsWXMgYXMgU1VCU0NSSUJFUl9ERUZBVUxUX1RUTCwkIGFzIFNVQlNDUklCRVJfRVZFTlRTLEZ0IGFzIFNVQlNDUklCRVJfU1RPUkFHRV9WRVJTSU9OLExpIGFzIFN0b3JlLENpIGFzIFN1YnNjcmliZXIsUSBhcyBUUkFOU1BPUlRfVFlQRVMsSnQgYXMgVFJVU1RFRF9WRVJJRllfVVJMUyxXdCBhcyBWRVJJRllfQ09OVEVYVCx1ZSBhcyBWRVJJRllfU0VSVkVSLFl0IGFzIFZFUklGWV9TRVJWRVJfVjMsRmkgYXMgVmVyaWZ5LGp0IGFzIFdBTExFVENPTk5FQ1RfQ0xJRU5UX0lELEZlIGFzIFdBTExFVENPTk5FQ1RfTElOS19NT0RFX0FQUFMsVGUgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@walletconnect+core@2.21.4_typescript@5.5.4_zod@3.25.75/node_modules/@walletconnect/core/dist/index.es.js\n");

/***/ })

};
;
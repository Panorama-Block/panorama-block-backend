# Supported Swap Routes

## ‚úÖ Tested & Working Cross-Chain Routes

### Base ‚Üí Arbitrum
| From Token | To Token | Provider | Status |
|------------|----------|----------|--------|
| ETH (native) | ETH (native) | Thirdweb | ‚úÖ Working |
| USDC | USDC | Thirdweb | ‚úÖ Working |
| WETH | USDC | Thirdweb | ‚úÖ Working |
| USDC | WETH | Thirdweb | ‚úÖ Working |
| UNI | ETH | Thirdweb | ‚ùå No route |

### Ethereum ‚Üí Polygon
| From Token | To Token | Provider | Status |
|------------|----------|----------|--------|
| ETH (native) | MATIC (native) | Thirdweb | ‚úÖ Working |
| USDC | USDC | Thirdweb | ‚úÖ Working |
| WETH | USDC | Thirdweb | ‚úÖ Working |
| USDT | USDT | Thirdweb | ‚úÖ Working |

### Same-Chain Swaps (All Chains)
| Chain | From Token | To Token | Provider | Status |
|-------|------------|----------|----------|--------|
| Base | ETH | USDC | Uniswap | ‚úÖ Working |
| Base | USDC | ETH | Uniswap | ‚úÖ Working |
| Base | UNI | USDC | Uniswap | ‚úÖ Working |
| Ethereum | ETH | USDC | Uniswap | ‚úÖ Working |
| Polygon | MATIC | USDC | Uniswap | ‚úÖ Working |
| Arbitrum | ETH | USDC | Uniswap | ‚úÖ Working |

## üìã Token Availability by Chain

### Base (8453)
- **Native**: ETH
- **Supported ERC-20**:
  - WETH: `0x4200000000000000000000000000000000000006`
  - USDC: `0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913`
  - USDbC: `0xd9aAEc86B65D86f6A7B5B1b0c42Ff1cbDf6E27d5`
  - cbETH: `0x2AE4f0e3144d9c6C5B1D0F5d33C3fd44E1c8223B`
  - UNI: `0x8ebaf22b6f053dffeaf46f4dd9efa95d89ba8580`

### Arbitrum (42161)
- **Native**: ETH
- **Supported ERC-20**:
  - WETH: `0x82aF49447D8a07e3bd95BD0d56f35241523fBab1`
  - USDC: `0xaf88d065e77c8cC2239327C5EDb3A432268e5831`
  - USDT: `0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9`
  - ARB: `0x912CE59144191C1204E64559FE8253a0e49E6548`
  - WBTC: `0x2f2a2543B76A4166549F7aaBBF5cF4A9b330e5CE`
  - DAI: `0xDa10009cBd5D07dd0CeCc66161FC93D7c9000da1`
  - GMX: `0xfc5A1A6EB076a2C7ad06ED22C90d7E710E35ad0a`
  - MAGIC: `0x539bdE0d7DbD336b79148AA742883198BBF60342`
  - GRAIL: `0x3D9907F9a368ad0a51be60f7Da3b97cf940982D8`
  - RDNT: `0x3082cc23568Ea640225c2467653dB90e9250AaA0`
  - AAVE: `0x76FB31fb4AF56892A25e32cfc43De717950c9278`

### Ethereum (1)
- **Native**: ETH
- **Supported ERC-20**:
  - WETH: `0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2`
  - USDC: `0xA0b86991c6218b36c1d19d4a2e9eb0ce3606eb48`
  - USDT: `0xdAC17F958D2ee523a2206206994597C13D831ec7`
  - DAI: `0x6B175474E89094C44Da98b954EedeAC495271d0F`
  - UNI: `0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984`
  - LINK: `0x514910771AF9Ca656af840dff83E8264EcF986CA`
  - stETH: `0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84`
  - WBTC: `0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599`
  - USDe: `0x4c9EDD5852cd905F086c759E8383e09bFF1E68B3`
  - LDO: `0x5A98FcBEA516Cf06857215779Fd812CA3beF1B32`
  - AAVE: `0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9`
  - COMP: `0xc00e94Cb662C3520282E6f5717214004A7f26888`
  - MKR: `0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2`

### Polygon (137)
- **Native**: MATIC
- **Supported ERC-20**:
  - WMATIC: `0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270`
  - USDC (Bridged): `0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174`
  - USDC (Native): `0x3c499c542cEF5E3811E1192ce70D8CC03d5C3359`
  - USDT: `0xc2132D05D31c914a87C6611C10748AEb04B58e8F`
  - WETH: `0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619`
  - DAI: `0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063`
  - WBTC: `0x1BFD67037B42cF73acf2047067bd4F2C47D9BfD6`
  - LINK: `0x53E0bca35eC356BD5ddDFebbD1Fc0fD03FaBad39`
  - AAVE: `0x8dff5e27ea6b7ac08ebfdf9eb090f32ee9a30fcf`
  - SAND: `0xBBba073C31BF03b8ACf7c28EF0738DECf3695683`
  - MATICX: `0xfa68fb4628dff1028cfe82f4b35f23eb62a97f61`
  - GHST: `0x3f382DbD960E3a9bbCeaE22651E88158d2791550`

## üéØ Recommended Token Pairs for Testing

### Cross-Chain (Best Liquidity)
1. **ETH ‚Üí ETH** (any chain to any chain)
2. **USDC ‚Üí USDC** (Ethereum ‚Üî Polygon ‚Üî Arbitrum ‚Üî Base)
3. **WETH ‚Üí USDC** (any chain)
4. **USDC ‚Üí WETH** (any chain)

### Same-Chain (All Working)
1. **ETH ‚Üí USDC** (on any chain)
2. **USDC ‚Üí ETH** (on any chain)
3. **WETH ‚Üí USDC** (on any chain)
4. **Any token ‚Üí USDC** (on same chain)

## ‚ö†Ô∏è Known Limitations

### Thirdweb Bridge API
- **Limited token support**: Only major tokens (ETH, USDC, USDT, WETH, WBTC, DAI)
- **No exotic pairs**: UNI ‚Üí ETH cross-chain not supported
- **Chain coverage**: Best for ETH L2s (Base, Arbitrum, Optimism, Polygon)

### Uniswap Trading API
- **Same-chain only**: Cannot do cross-chain swaps
- **Chain support**: 15+ major EVM chains
- **Token support**: Any token with Uniswap liquidity

## üí° Best Practices

1. **For cross-chain swaps**: Use stablecoins (USDC, USDT) or ETH/WETH
2. **For same-chain swaps**: Any token pair works via Uniswap
3. **For exotic tokens**:
   - First swap to USDC/ETH on origin chain (same-chain)
   - Then bridge USDC/ETH to destination chain
   - Finally swap to desired token on destination chain

## üîÑ Multi-Hop Strategy (Future)

For unsupported routes like **UNI (Base) ‚Üí ETH (Arbitrum)**:

```
Step 1: UNI ‚Üí ETH (same-chain on Base via Uniswap)
Step 2: ETH ‚Üí ETH (cross-chain Base ‚Üí Arbitrum via Thirdweb)

Total: 2 transactions
```

## üìä Provider Selection Logic

### Same-Chain Swaps
```
Priority 1: Uniswap Trading API (best liquidity, lowest fees)
Priority 2: Thirdweb (fallback if Uniswap fails)
```

### Cross-Chain Swaps
```
Only Provider: Thirdweb Bridge API
```

## üÜò Error Messages

### "No liquidity route available"
**Cause**: Thirdweb doesn't support this token pair cross-chain
**Solution**: Use recommended token pairs (ETH, USDC, USDT, WETH)

### "Token not supported on chain"
**Cause**: Token not in registry for this chain
**Solution**: Check `SUPPORTED_ROUTES.md` for available tokens

### "All preferred providers failed"
**Cause**: No provider can fulfill the request
**Solution**: Check token addresses and chain IDs

## üìù Adding New Tokens

To add a token to the registry:

1. Edit `/shared/token-registry.json`
2. Add token to appropriate chain section
3. Include both `uniswap` and `thirdweb` in providers (if supported)
4. Restart `liquid-swap-service`

Example:
```json
{
  "address": "0x...",
  "symbol": "TOKEN",
  "name": "Token Name",
  "decimals": 18,
  "providers": ["uniswap", "thirdweb"],
  "icon": "https://..."
}
```
